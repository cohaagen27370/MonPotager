2025-02-19 15:31:50.410 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.458 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.469 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.478 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.520 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-02-19 15:31:50.551 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-02-19 15:31:50.558 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-02-19 15:31:50.565 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.573 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.580 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.608 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:31:50.657 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:31:50.694 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-02-19 15:31:50.711 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-02-19 15:31:50.719 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.728 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:31:50.850 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 15:31:50.947 +01:00 [INF] Now listening on: http://[::]:5000
2025-02-19 15:31:50.949 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 15:31:50.950 +01:00 [INF] Hosting environment: Development
2025-02-19 15:31:50.951 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-02-19 15:33:33.141 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:33:33.141 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:33.317 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:33:33.317 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:33:33.327 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:33:33.327 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:33:33.332 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:33.332 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:33.342 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:33:33.342 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:33:33.348 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 15:33:33.350 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:33:33.354 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:33:33.357 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.393ms
2025-02-19 15:33:33.359 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:33.363 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 224.0083ms
2025-02-19 15:33:33.381 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:33:33.399 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.428 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.432 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.436 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.442 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:33.456 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 110.8857ms
2025-02-19 15:33:33.458 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:33.461 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 322.76ms
2025-02-19 15:33:33.711 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:33:33.711 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:33.717 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:33:33.717 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:33:33.720 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:33:33.722 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:33:33.723 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:33.724 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:33.725 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:33:33.725 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:33:33.728 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 15:33:33.730 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:33:33.731 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:33:33.731 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0877ms
2025-02-19 15:33:33.733 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:33.734 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 23.1579ms
2025-02-19 15:33:33.771 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:33:33.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.780 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:33.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:33.794 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 67.1041ms
2025-02-19 15:33:33.795 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:33.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 85.1759ms
2025-02-19 15:33:34.163 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:33:34.167 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:34.169 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.6975ms
2025-02-19 15:33:34.171 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:33:34.174 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:34.213 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:34'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-19 15:33:34.217 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:34'.
2025-02-19 15:33:34.218 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:33:34.220 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:33:34.222 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 15:33:34.223 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:33:34.224 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:33:34.225 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.0511ms
2025-02-19 15:33:34.226 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:33:34.227 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 55.9675ms
2025-02-19 15:33:35.199 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:33:35.199 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:35.201 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:35.203 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:35.204 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.4516ms
2025-02-19 15:33:35.205 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.9385ms
2025-02-19 15:33:35.208 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:35.211 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:33:35.213 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:35.215 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:35.216 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:35'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-19 15:33:35.216 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:35'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-19 15:33:35.218 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:35'.
2025-02-19 15:33:35.220 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:35'.
2025-02-19 15:33:35.221 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:35.222 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:35.223 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:33:35.224 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:33:35.227 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 15:33:35.228 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:33:35.229 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:33:35.230 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.7087ms
2025-02-19 15:33:35.230 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:33:35.231 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:35.233 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.493ms
2025-02-19 15:33:35.235 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:35.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:35.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:35.250 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:35.253 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:35.255 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.6483ms
2025-02-19 15:33:35.256 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:35.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 49.2226ms
2025-02-19 15:33:35.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 15:33:35.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 15:33:35.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 15:33:35.303 +01:00 [INF] The file /images/marmande.jpg was not modified
2025-02-19 15:33:35.303 +01:00 [INF] The file /images/haricot-crockett.jpg was not modified
2025-02-19 15:33:35.303 +01:00 [INF] The file /images/purin-consoude.jpg was not modified
2025-02-19 15:33:35.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 304 null image/jpeg 10.8691ms
2025-02-19 15:33:35.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 304 null image/jpeg 11.4216ms
2025-02-19 15:33:35.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 304 null image/jpeg 12.0446ms
2025-02-19 15:33:36.866 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-02-19 15:33:36.867 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:36.868 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.431ms
2025-02-19 15:33:36.870 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-02-19 15:33:36.871 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:36.874 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:36'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-19 15:33:36.876 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:36'.
2025-02-19 15:33:36.877 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:33:36.880 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-02-19 15:33:37.508 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 15:33:37.516 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-02-19 15:33:37.520 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 638.9572ms
2025-02-19 15:33:37.522 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:33:37.522 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 652.2947ms
2025-02-19 15:33:38.407 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:33:38.408 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:38.409 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.5045ms
2025-02-19 15:33:38.412 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 48
2025-02-19 15:33:38.414 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:38.415 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:38'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-19 15:33:38.417 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 17:33:30', Current time (UTC): '19/02/2025 14:33:38'.
2025-02-19 15:33:38.417 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:33:38.423 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:33:38.457 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:33:38.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-02-19 15:33:38.671 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 246.5029ms
2025-02-19 15:33:38.672 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:33:38.674 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 261.7396ms
2025-02-19 15:33:38.677 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:33:38.678 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:38.685 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:33:38.686 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:33:38.692 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:33:38.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:38.694 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:38.696 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:38.697 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:38.697 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:38.698 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:33:38.698 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:33:38.699 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:33:38.702 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 15:33:38.707 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:33:38.711 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:38.712 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 24.4952ms
2025-02-19 15:33:38.714 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:33:38.716 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 39.0855ms
2025-02-19 15:33:38.716 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:38.722 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:38.727 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:38.730 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:38.731 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 27.5029ms
2025-02-19 15:33:38.732 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:38.733 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.5596ms
2025-02-19 15:33:38.750 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:33:38.799 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 15:33:38.812 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 109.8714ms
2025-02-19 15:33:38.814 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:33:38.815 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 122.9424ms
2025-02-19 15:33:38.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-02-19 15:33:38.827 +01:00 [INF] The file /images/climat-oceanique.jpg was not modified
2025-02-19 15:33:38.827 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 304 null image/jpeg 3.4841ms
2025-02-19 15:33:41.352 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-02-19 15:33:41.352 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:41.352 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:41.354 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.355 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.356 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.357 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 5.518ms
2025-02-19 15:33:41.357 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 5.2584ms
2025-02-19 15:33:41.358 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 5.7246ms
2025-02-19 15:33:41.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-02-19 15:33:41.373 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:41.373 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:41.375 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.376 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.377 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.381 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-02-19 15:33:41.382 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-02-19 15:33:41.382 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:41.384 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-02-19 15:33:41.385 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:41.385 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:41.393 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:41.393 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:41.410 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-02-19 15:33:41.411 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-02-19 15:33:41.416 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-19 15:33:41.416 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-19 15:33:41.417 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-19 15:33:41.417 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-19 15:33:41.421 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-02-19 15:33:41.423 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:41.428 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 42.566ms
2025-02-19 15:33:41.431 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-02-19 15:33:41.431 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-02-19 15:33:41.434 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-02-19 15:33:41.434 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 61.6892ms
2025-02-19 15:33:41.440 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [t].[MaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaturationDaysCount], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-02-19 15:33:41.443 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-02-19 15:33:41.448 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 59.4345ms
2025-02-19 15:33:41.449 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:41.451 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 77.7087ms
2025-02-19 15:33:41.452 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 65.4449ms
2025-02-19 15:33:41.454 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-02-19 15:33:41.455 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-02-19 15:33:41.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 81.8619ms
2025-02-19 15:33:41.456 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.458 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 3.4431ms
2025-02-19 15:33:41.460 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-02-19 15:33:41.462 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:41.464 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:41.465 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:41.469 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:41.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-02-19 15:33:41.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/diamond.jpg - null null
2025-02-19 15:33:41.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/green zebra.jpg - null null
2025-02-19 15:33:41.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-02-19 15:33:41.474 +01:00 [INF] The file /images/carotte-nantaise.jpg was not modified
2025-02-19 15:33:41.475 +01:00 [INF] The file /images/diamond.jpg was not modified
2025-02-19 15:33:41.475 +01:00 [INF] The file /images/green zebra.jpg was not modified
2025-02-19 15:33:41.477 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 304 null image/jpeg 5.5142ms
2025-02-19 15:33:41.478 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/diamond.jpg - 304 null image/jpeg 6.1014ms
2025-02-19 15:33:41.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-02-19 15:33:41.479 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/green zebra.jpg - 304 null image/jpeg 6.6232ms
2025-02-19 15:33:41.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-02-19 15:33:41.487 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 20.5684ms
2025-02-19 15:33:41.488 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:41.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 28.3936ms
2025-02-19 15:33:41.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.498 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.498 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.498 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975621493 - null null
2025-02-19 15:33:41.505 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:41.507 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:41.507 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:41.507 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:41.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975621493 - 200 2925 image/jpeg 10.4269ms
2025-02-19 15:33:41.509 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:41.509 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975621493 - 200 8242 image/jpeg 12.6124ms
2025-02-19 15:33:41.509 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:41.510 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975621493 - 200 16731 image/jpeg 13.335ms
2025-02-19 15:33:41.511 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975621493 - 200 2486 image/jpeg 13.8721ms
2025-02-19 15:33:41.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975621493 - 200 73473 image/jpeg 16.3189ms
2025-02-19 15:33:41.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975621493 - 200 8212 image/jpeg 18.2588ms
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975621971 - null null
2025-02-19 15:33:41.977 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:41.978 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:41.980 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:41.982 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:41.984 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:41.985 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:41.985 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975621971 - 200 2486 image/jpeg 10.3543ms
2025-02-19 15:33:41.986 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975621971 - 200 8242 image/jpeg 11.2509ms
2025-02-19 15:33:41.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975621971 - 200 16731 image/jpeg 12.0111ms
2025-02-19 15:33:41.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975621971 - 200 8212 image/jpeg 12.5718ms
2025-02-19 15:33:41.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975621971 - 200 2925 image/jpeg 13.2802ms
2025-02-19 15:33:41.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975621971 - 200 73473 image/jpeg 13.9959ms
2025-02-19 15:33:42.105 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:42.110 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.111 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 6.1049ms
2025-02-19 15:33:42.114 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:33:42.116 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.117 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:42.118 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:33:42.122 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:33:42.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:42.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:42.133 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:42.137 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:33:42.139 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:42.141 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3722ms
2025-02-19 15:33:42.142 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:33:42.143 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.926ms
2025-02-19 15:33:42.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-02-19 15:33:42.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:42.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-02-19 15:33:42.846 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.847 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.849 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.850 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-02-19 15:33:42.850 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:42.851 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-02-19 15:33:42.851 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-02-19 15:33:42.852 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:42.852 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:42.856 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-02-19 15:33:42.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:42.858 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:33:42.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:42.860 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-02-19 15:33:42.860 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 6.8034ms
2025-02-19 15:33:42.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-02-19 15:33:42.864 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-02-19 15:33:42.865 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-02-19 15:33:42.866 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 21.6075ms
2025-02-19 15:33:42.867 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [t].[MaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaturationDaysCount], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-02-19 15:33:42.868 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-02-19 15:33:42.873 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-02-19 15:33:42.873 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 18.8007ms
2025-02-19 15:33:42.874 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 17.7853ms
2025-02-19 15:33:42.875 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:42.876 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-02-19 15:33:42.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 32.3225ms
2025-02-19 15:33:42.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 32.81ms
2025-02-19 15:33:42.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-02-19 15:33:42.882 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:42.884 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:42.884 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-02-19 15:33:42.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:33:42.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-02-19 15:33:42.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Designation_Image] AS [Image], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-02-19 15:33:42.898 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-02-19 15:33:42.899 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 13.3784ms
2025-02-19 15:33:42.901 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-02-19 15:33:42.901 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 20.4564ms
2025-02-19 15:33:42.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975622905 - null null
2025-02-19 15:33:42.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975622905 - null null
2025-02-19 15:33:42.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975622905 - null null
2025-02-19 15:33:42.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975622906 - null null
2025-02-19 15:33:42.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975622906 - null null
2025-02-19 15:33:42.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975622906 - null null
2025-02-19 15:33:42.911 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:42.913 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:42.915 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:42.916 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:42.918 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:42.920 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:42.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975622905 - 200 8242 image/jpeg 11.7714ms
2025-02-19 15:33:42.921 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975622905 - 200 16731 image/jpeg 12.5872ms
2025-02-19 15:33:42.922 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975622905 - 200 2486 image/jpeg 13.0931ms
2025-02-19 15:33:42.923 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975622906 - 200 8212 image/jpeg 13.7438ms
2025-02-19 15:33:42.923 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975622906 - 200 2925 image/jpeg 14.4442ms
2025-02-19 15:33:42.925 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975622906 - 200 73473 image/jpeg 14.9145ms
2025-02-19 15:33:45.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625029 - null null
2025-02-19 15:33:45.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.038 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:45.040 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:45.042 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:45.044 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:45.046 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:45.048 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:45.049 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625029 - 200 16731 image/jpeg 13.4942ms
2025-02-19 15:33:45.050 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625030 - 200 8242 image/jpeg 14.6261ms
2025-02-19 15:33:45.051 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625030 - 200 16731 image/jpeg 15.4809ms
2025-02-19 15:33:45.052 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975625030 - 200 2486 image/jpeg 16.1101ms
2025-02-19 15:33:45.053 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975625030 - 200 8212 image/jpeg 17.1116ms
2025-02-19 15:33:45.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975625030 - 200 2925 image/jpeg 18.1008ms
2025-02-19 15:33:45.056 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975625030 - null null
2025-02-19 15:33:45.070 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:45.071 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975625030 - 200 73473 image/jpeg 15.4824ms
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625492 - null null
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.499 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:45.501 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:45.503 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:45.504 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:45.506 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:45.508 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:45.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625492 - 200 8242 image/jpeg 11.2402ms
2025-02-19 15:33:45.509 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975625493 - 200 16731 image/jpeg 12.1049ms
2025-02-19 15:33:45.510 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975625493 - 200 8242 image/jpeg 13.0326ms
2025-02-19 15:33:45.511 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975625493 - 200 2486 image/jpeg 13.9832ms
2025-02-19 15:33:45.512 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975625493 - 200 8212 image/jpeg 15.0618ms
2025-02-19 15:33:45.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975625493 - 200 2925 image/jpeg 16.0888ms
2025-02-19 15:33:45.515 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975625493 - null null
2025-02-19 15:33:45.528 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:45.529 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975625493 - 200 73473 image/jpeg 13.2841ms
2025-02-19 15:33:51.096 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.098 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631091 - null null
2025-02-19 15:33:51.098 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.100 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:51.101 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:51.103 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:51.104 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:51.106 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:51.106 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631091 - 200 8242 image/jpeg 10.5527ms
2025-02-19 15:33:51.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631091 - 200 16731 image/jpeg 10.6184ms
2025-02-19 15:33:51.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631091 - 200 2486 image/jpeg 11.7144ms
2025-02-19 15:33:51.109 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631091 - 200 8212 image/jpeg 12.5676ms
2025-02-19 15:33:51.110 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631091 - 200 2925 image/jpeg 12.723ms
2025-02-19 15:33:51.111 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631091 - 200 73473 image/jpeg 13.5214ms
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631199 - null null
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631200 - null null
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631200 - null null
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631200 - null null
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631200 - null null
2025-02-19 15:33:51.206 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.208 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.210 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:51.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631200 - null null
2025-02-19 15:33:51.212 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:51.212 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.212 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.212 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.212 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.213 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:51.214 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631199 - 200 8242 image/jpeg 10.2426ms
2025-02-19 15:33:51.215 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631200 - 200 8242 image/jpeg 11.0894ms
2025-02-19 15:33:51.216 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631200 - 499 16731 image/jpeg 11.9145ms
2025-02-19 15:33:51.217 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:51.218 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631200 - 499 2486 image/jpeg 14.288ms
2025-02-19 15:33:51.221 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:51.223 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:51.224 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:51.226 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:51.226 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631200 - 499 8212 image/jpeg 22.3548ms
2025-02-19 15:33:51.229 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631204 - null null
2025-02-19 15:33:51.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631200 - 499 2925 image/jpeg 30.0571ms
2025-02-19 15:33:51.237 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631205 - 200 16731 image/jpeg 24.938ms
2025-02-19 15:33:51.237 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631205 - 200 2486 image/jpeg 25.6408ms
2025-02-19 15:33:51.238 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631205 - 200 8212 image/jpeg 26.437ms
2025-02-19 15:33:51.239 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631205 - 200 2925 image/jpeg 27.1227ms
2025-02-19 15:33:51.244 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.245 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.249 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631205 - null null
2025-02-19 15:33:51.254 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631205 - 200 8242 image/jpeg 24.9109ms
2025-02-19 15:33:51.255 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631204 - 200 8242 image/jpeg 23.555ms
2025-02-19 15:33:51.258 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:51.262 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631205 - 200 73473 image/jpeg 13.4813ms
2025-02-19 15:33:51.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631326 - null null
2025-02-19 15:33:51.332 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:51.334 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:51.336 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:51.337 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:51.339 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:51.342 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:51.342 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975631326 - 200 8242 image/jpeg 11.898ms
2025-02-19 15:33:51.343 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975631326 - 200 16731 image/jpeg 12.5682ms
2025-02-19 15:33:51.344 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975631326 - 200 2486 image/jpeg 13.3407ms
2025-02-19 15:33:51.345 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975631326 - 200 8212 image/jpeg 14.0867ms
2025-02-19 15:33:51.345 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975631326 - 200 2925 image/jpeg 14.888ms
2025-02-19 15:33:51.347 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975631326 - 200 73473 image/jpeg 16.1763ms
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632288 - null null
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632288 - null null
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632288 - null null
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632289 - null null
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632289 - null null
2025-02-19 15:33:52.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632289 - null null
2025-02-19 15:33:52.294 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:52.296 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:52.297 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:52.299 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:52.300 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:52.302 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632288 - 200 8242 image/jpeg 10.1865ms
2025-02-19 15:33:52.302 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:52.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632288 - 200 16731 image/jpeg 11.4746ms
2025-02-19 15:33:52.306 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632288 - 200 2486 image/jpeg 13.4156ms
2025-02-19 15:33:52.307 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632289 - 200 8212 image/jpeg 14.1966ms
2025-02-19 15:33:52.307 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632289 - 200 2925 image/jpeg 14.8346ms
2025-02-19 15:33:52.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632289 - 200 73473 image/jpeg 17.4729ms
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632413 - null null
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632413 - null null
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632413 - null null
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632414 - null null
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632414 - null null
2025-02-19 15:33:52.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632414 - null null
2025-02-19 15:33:52.420 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:52.421 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:52.423 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:52.426 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:52.427 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:52.430 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:52.430 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632413 - 200 8242 image/jpeg 13.0476ms
2025-02-19 15:33:52.431 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632413 - 200 16731 image/jpeg 13.9597ms
2025-02-19 15:33:52.432 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632413 - 200 2486 image/jpeg 14.4649ms
2025-02-19 15:33:52.433 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632414 - 200 8212 image/jpeg 15.2055ms
2025-02-19 15:33:52.433 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632414 - 200 2925 image/jpeg 15.842ms
2025-02-19 15:33:52.434 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632414 - 200 73473 image/jpeg 16.5053ms
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632522 - null null
2025-02-19 15:33:52.529 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:52.531 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:52.532 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:52.534 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:52.536 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:52.538 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:52.538 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632522 - 200 8242 image/jpeg 11.1299ms
2025-02-19 15:33:52.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632522 - 200 16731 image/jpeg 12.0998ms
2025-02-19 15:33:52.540 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632522 - 200 2486 image/jpeg 13.1242ms
2025-02-19 15:33:52.541 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632522 - 200 8212 image/jpeg 13.8179ms
2025-02-19 15:33:52.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632522 - 200 2925 image/jpeg 14.5759ms
2025-02-19 15:33:52.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632522 - 200 73473 image/jpeg 15.194ms
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632961 - null null
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:52.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:52.969 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:52.970 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-02-19 15:33:52.972 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-02-19 15:33:52.973 +01:00 [INF] Sending file. Request path: '/images/tomates.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\tomates.jpg'
2025-02-19 15:33:52.975 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-02-19 15:33:52.977 +01:00 [INF] Sending file. Request path: '/images/poivron.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\poivron.jpg'
2025-02-19 15:33:52.978 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632961 - 200 8242 image/jpeg 11.0097ms
2025-02-19 15:33:52.978 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1739975632962 - 200 16731 image/jpeg 11.9174ms
2025-02-19 15:33:52.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg?timespan=1739975632962 - 200 8242 image/jpeg 12.9767ms
2025-02-19 15:33:52.981 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/tomates.jpg?timespan=1739975632962 - 200 2486 image/jpeg 14.0117ms
2025-02-19 15:33:52.982 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1739975632962 - 200 8212 image/jpeg 15.1834ms
2025-02-19 15:33:52.983 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/poivron.jpg?timespan=1739975632962 - 200 2925 image/jpeg 15.8536ms
2025-02-19 15:33:53.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-02-19 15:33:53.096 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:53.097 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.3623ms
2025-02-19 15:33:53.099 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632962 - null null
2025-02-19 15:33:53.099 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-02-19 15:33:53.101 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-02-19 15:33:53.102 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:53.103 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1739975632962 - 200 73473 image/jpeg 4.5179ms
2025-02-19 15:33:53.104 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:33:53.107 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-02-19 15:33:53.139 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 15:33:53.142 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-02-19 15:33:53.142 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 33.9493ms
2025-02-19 15:33:53.144 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:33:53.144 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 45.3757ms
2025-02-19 15:33:56.100 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:33:56.102 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:56.102 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3757ms
2025-02-19 15:33:56.104 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 44
2025-02-19 15:33:56.105 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:33:56.106 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:33:56.107 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:33:56.112 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:33:56.115 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:33:56.116 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 7.1125ms
2025-02-19 15:33:56.117 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:33:56.118 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 404 null application/json; charset=utf-8 13.8292ms
2025-02-19 15:34:37.511 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stations - null null
2025-02-19 15:34:37.514 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:34:37.515 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stations - 204 null null 3.7585ms
2025-02-19 15:34:47.393 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users - null null
2025-02-19 15:34:47.395 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:34:47.396 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users - 204 null null 2.3716ms
2025-02-19 15:34:47.398 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users - application/json 198
2025-02-19 15:34:47.399 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:34:47.400 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Add (api)'
2025-02-19 15:34:47.404 +01:00 [INF] Route matched with {action = "Add", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(api.Controllers.Authentication.dto.UserDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:34:47.417 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_CaptchaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ActivationDate], [c].[CreationDate], [c].[IsActive], [c].[UpdateDate], [c].[Value]
FROM [Captchas] AS [c]
WHERE [c].[Id] = @__user_CaptchaId_0 AND [c].[IsActive] = CAST(1 AS bit)
2025-02-19 15:34:47.431 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Captchas] SET [ActivationDate] = @p0, [IsActive] = @p1, [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-02-19 15:34:47.440 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_StationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate]
FROM [Stations] AS [s]
WHERE [s].[Id] = @__user_StationId_0
2025-02-19 15:34:47.448 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:34:47.451 +01:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-02-19 15:34:47.452 +01:00 [INF] Executed action api.Controllers.AuthController.Add (api) in 46.5104ms
2025-02-19 15:34:47.453 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Add (api)'
2025-02-19 15:34:47.454 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users - 409 null application/json; charset=utf-8 56.2062ms
2025-02-19 15:35:33.052 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:35:33.054 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:33.054 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.7111ms
2025-02-19 15:35:33.056 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 54
2025-02-19 15:35:33.057 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:33.058 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:33.059 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:35:33.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:35:33.140 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-19 15:35:33.147 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 86.5009ms
2025-02-19 15:35:33.148 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:33.149 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 401 null application/json; charset=utf-8 92.461ms
2025-02-19 15:35:43.138 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:35:43.140 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:43.141 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.5914ms
2025-02-19 15:35:43.144 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-02-19 15:35:43.145 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:43.147 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:43.148 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:35:43.152 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:35:43.220 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-19 15:35:43.221 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 72.0891ms
2025-02-19 15:35:43.222 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:43.223 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 401 null application/json; charset=utf-8 79.5102ms
2025-02-19 15:35:44.407 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-02-19 15:35:44.409 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:44.409 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:44.410 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:35:44.414 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:35:44.478 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-19 15:35:44.480 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 68.8292ms
2025-02-19 15:35:44.481 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:44.482 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 401 null application/json; charset=utf-8 74.92ms
2025-02-19 15:35:59.862 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:35:59.864 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.865 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.6152ms
2025-02-19 15:35:59.867 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-02-19 15:35:59.869 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.870 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:59.870 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:35:59.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:35:59.941 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-02-19 15:35:59.943 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 71.3654ms
2025-02-19 15:35:59.944 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:35:59.945 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 77.6299ms
2025-02-19 15:35:59.948 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:35:59.950 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.951 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9861ms
2025-02-19 15:35:59.960 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:35:59.961 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.963 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:35:59.964 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:35:59.968 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:35:59.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 15:35:59.971 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1974ms
2025-02-19 15:35:59.972 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:35:59.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.8219ms
2025-02-19 15:35:59.973 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:35:59.975 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:35:59.977 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.979 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.979 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.9472ms
2025-02-19 15:35:59.980 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.4211ms
2025-02-19 15:35:59.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:35:59.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:35:59.986 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.988 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:35:59.989 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:35:59.990 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:35:59.990 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:35:59.991 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:35:59.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:35:59.995 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:35:59.998 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 15:36:00.000 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.7902ms
2025-02-19 15:36:00.000 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:00.001 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:36:00.003 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.1837ms
2025-02-19 15:36:00.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:00.010 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:00.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 15:36:00.014 +01:00 [INF] The file /images/climat-mediteranneen.jpg was not modified
2025-02-19 15:36:00.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:00.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 304 null image/jpeg 3.4355ms
2025-02-19 15:36:00.017 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:36:00.021 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.0346ms
2025-02-19 15:36:00.022 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:36:00.023 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.6888ms
2025-02-19 15:36:04.366 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:04.368 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:04.369 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.2629ms
2025-02-19 15:36:04.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:04.374 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:04.375 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:04.379 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:04.427 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:04.429 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:04.430 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 49.8073ms
2025-02-19 15:36:04.431 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:04.432 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 59.7707ms
2025-02-19 15:36:05.249 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:05.250 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:05.251 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.4472ms
2025-02-19 15:36:05.254 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:05.256 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:05.257 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:05.261 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:36:05.316 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:36:05.319 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:05.320 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 57.473ms
2025-02-19 15:36:05.321 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:05.321 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 67.7225ms
2025-02-19 15:36:05.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:05.892 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:05.893 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:05.894 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:05.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:05.901 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:05.903 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.2973ms
2025-02-19 15:36:05.904 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:05.905 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 14.6895ms
2025-02-19 15:36:06.335 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:36:06.336 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:06.337 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2171ms
2025-02-19 15:36:06.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:36:06.340 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:06.341 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:36:06.342 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:36:06.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:36:06.350 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:06.353 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:06.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:06.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:36:06.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:36:06.364 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.3618ms
2025-02-19 15:36:06.364 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:36:06.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.2637ms
2025-02-19 15:36:08.394 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Tomates - null null
2025-02-19 15:36:08.396 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:08.397 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Tomates - 204 null null 2.7428ms
2025-02-19 15:36:08.399 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Tomates - null null
2025-02-19 15:36:08.401 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:08.402 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-02-19 15:36:08.405 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:36:08.411 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-19 15:36:08.422 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-02-19 15:36:08.432 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-02-19 15:36:08.460 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-19 15:36:08.463 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:36:08.465 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 57.9336ms
2025-02-19 15:36:08.466 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-02-19 15:36:08.467 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Tomates - 200 null application/json; charset=utf-8 67.7289ms
2025-02-19 15:36:19.279 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/86b631b0-acd7-4f61-9c0a-ba2e3e84796f - null null
2025-02-19 15:36:19.281 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.282 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/86b631b0-acd7-4f61-9c0a-ba2e3e84796f - 204 null null 2.7787ms
2025-02-19 15:36:19.284 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/86b631b0-acd7-4f61-9c0a-ba2e3e84796f - null null
2025-02-19 15:36:19.285 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.287 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-02-19 15:36:19.290 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:19.318 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-02-19 15:36:19.320 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:19.321 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 29.7696ms
2025-02-19 15:36:19.322 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-02-19 15:36:19.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/86b631b0-acd7-4f61-9c0a-ba2e3e84796f - 404 null application/json; charset=utf-8 39.3544ms
2025-02-19 15:36:19.326 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-02-19 15:36:19.328 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.329 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.1459ms
2025-02-19 15:36:19.331 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-02-19 15:36:19.333 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.334 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-02-19 15:36:19.339 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:19.351 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-02-19 15:36:19.361 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-02-19 15:36:19.368 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:36:19.405 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Stocks] ([Id], [CreationDate], [UpdateDate], [UserId], [VariantId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-02-19 15:36:19.408 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-02-19 15:36:19.411 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 70.6442ms
2025-02-19 15:36:19.413 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-02-19 15:36:19.414 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 201 null application/json; charset=utf-8 82.6524ms
2025-02-19 15:36:19.421 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147/package - null null
2025-02-19 15:36:19.423 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.424 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147/package - 204 null null 2.2254ms
2025-02-19 15:36:19.425 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147/package - application/json 81
2025-02-19 15:36:19.427 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:19.429 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-02-19 15:36:19.432 +01:00 [INF] Route matched with {action = "AddNewPackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewPackage(System.Guid, api.Controllers.Stocks.dto.PackageDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:36:19.458 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Id0], [t].[CreationDate0], [t].[FamilyId], [t].[MaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[Id1], [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id] = [p].[StockId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-02-19 15:36:19.494 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Date), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Packages] ([Id], [CreationDate], [ExpirationDate], [PurchaseDate], [RemainingQuantity], [StockId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-02-19 15:36:19.524 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Packages] SET [StockId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Stocks] SET [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-02-19 15:36:19.540 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-02-19 15:36:19.541 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.AddNewPackage (api) in 108.0763ms
2025-02-19 15:36:19.543 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-02-19 15:36:19.543 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147/package - 201 null application/json; charset=utf-8 118.0395ms
2025-02-19 15:36:21.159 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:21.161 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:21.162 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.6117ms
2025-02-19 15:36:21.164 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:21.167 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:21.168 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:21.168 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:21.173 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:21.176 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:36:21.179 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.7971ms
2025-02-19 15:36:21.181 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:21.182 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 18.2824ms
2025-02-19 15:36:22.860 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:22.863 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:22.864 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.0474ms
2025-02-19 15:36:22.867 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:22.869 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:22.870 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:22.871 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:36:22.876 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:36:22.879 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:22.880 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.8428ms
2025-02-19 15:36:22.882 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:22.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 16.2341ms
2025-02-19 15:36:23.767 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:23.770 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:23.771 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:23.772 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:23.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:23.780 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:36:23.781 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.1311ms
2025-02-19 15:36:23.782 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:23.783 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 16.083ms
2025-02-19 15:36:27.535 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:36:27.537 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:27.538 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 2.8115ms
2025-02-19 15:36:27.540 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:36:27.541 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:27.543 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:36:27.546 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:27.563 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:36:27.567 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:36:27.570 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 22.3444ms
2025-02-19 15:36:27.571 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:36:27.572 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 32.1461ms
2025-02-19 15:36:27.587 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:36:27.588 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:27.589 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 2.4946ms
2025-02-19 15:36:27.592 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:36:27.593 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:27.595 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:36:27.598 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:36:27.600 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.AdminAuthorizedAttribute'.
2025-02-19 15:36:27.601 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:36:27.602 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:36:27.603 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 3.2953ms
2025-02-19 15:36:27.604 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:36:27.605 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 403 0 null 13.2245ms
2025-02-19 15:36:29.892 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:36:29.894 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:36:29.894 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.896 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.896 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 3.6355ms
2025-02-19 15:36:29.896 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 2.6732ms
2025-02-19 15:36:29.898 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 94
2025-02-19 15:36:29.900 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - application/json 26
2025-02-19 15:36:29.901 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.903 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.904 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:36:29.904 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:36:29.906 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:36:29.907 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:36:29.915 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-02-19 15:36:29.922 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-02-19 15:36:29.925 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Packages] SET [RemainingQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-02-19 15:36:29.928 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-19 15:36:29.929 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 19.9308ms
2025-02-19 15:36:29.930 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:36:29.931 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-02-19 15:36:29.931 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 30.628ms
2025-02-19 15:36:29.932 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 24.8509ms
2025-02-19 15:36:29.934 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:29.935 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:36:29.937 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.938 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.147ms
2025-02-19 15:36:29.938 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at api.Controllers.Flows.FlowController.AddNewFlow(NewFlowDto flowDto) in D:\projets\MonPotager\api\src\Controllers\Flows\FlowController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.UsePathBaseMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-19 15:36:29.940 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:29.955 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:29.956 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:29.957 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 500 null text/plain; charset=utf-8 58.1083ms
2025-02-19 15:36:29.957 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:29.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:29.965 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:36:29.967 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.5125ms
2025-02-19 15:36:29.969 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:29.971 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 30.1465ms
2025-02-19 15:36:31.120 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:31.122 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:31.123 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.8148ms
2025-02-19 15:36:31.125 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:36:31.127 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:31.128 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:31.129 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:36:31.134 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:36:31.137 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:36:31.138 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.1926ms
2025-02-19 15:36:31.139 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:36:31.140 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 14.9097ms
2025-02-19 15:36:32.022 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:36:32.022 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:36:32.022 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:36:32.024 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:32.026 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:32.027 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:36:32.028 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:32.029 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:36:32.029 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:36:32.030 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:32.031 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:36:32.032 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:36:32.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:36:32.037 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.AdminAuthorizedAttribute'.
2025-02-19 15:36:32.037 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:36:32.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:36:32.040 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:36:32.042 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:36:32.043 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 10.1342ms
2025-02-19 15:36:32.044 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:36:32.046 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 11.0219ms
2025-02-19 15:36:32.047 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:36:32.047 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 10.3157ms
2025-02-19 15:36:32.048 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:36:32.048 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 26.5183ms
2025-02-19 15:36:32.049 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:36:32.050 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 27.7018ms
2025-02-19 15:36:32.053 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 403 0 null 30.261ms
2025-02-19 15:36:52.160 +01:00 [INF] Application is shutting down...
2025-02-19 15:37:07.556 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.609 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.617 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.621 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.672 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-02-19 15:37:07.713 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-02-19 15:37:07.718 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-02-19 15:37:07.722 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.726 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.730 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:37:07.804 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:37:07.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-02-19 15:37:07.851 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-02-19 15:37:07.854 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:37:07.974 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 15:37:08.058 +01:00 [INF] Now listening on: http://[::]:5000
2025-02-19 15:37:08.059 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 15:37:08.059 +01:00 [INF] Hosting environment: Development
2025-02-19 15:37:08.059 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-02-19 15:37:08.225 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger - null null
2025-02-19 15:37:08.296 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger - 301 0 null 72.62ms
2025-02-19 15:37:08.300 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-02-19 15:37:08.338 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 37.7165ms
2025-02-19 15:37:08.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - null null
2025-02-19 15:37:08.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - null null
2025-02-19 15:37:08.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - null null
2025-02-19 15:37:08.438 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-19 15:37:08.438 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-02-19 15:37:08.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css - 200 152034 text/css 67.8669ms
2025-02-19 15:37:08.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 63.1893ms
2025-02-19 15:37:08.456 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-19 15:37:08.457 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 80.2798ms
2025-02-19 15:37:08.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-02-19 15:37:08.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 225.9521ms
2025-02-19 15:37:32.403 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:37:32.403 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:37:32.410 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:32.410 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:32.411 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 9.1888ms
2025-02-19 15:37:32.411 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 9.1887ms
2025-02-19 15:37:32.416 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 94
2025-02-19 15:37:32.416 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - application/json 26
2025-02-19 15:37:32.417 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:32.417 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:32.612 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:37:32.612 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:37:32.628 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:37:32.628 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:37:42.816 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-02-19 15:37:42.858 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-02-19 15:37:42.877 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-19 15:37:42.880 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 10249.3417ms
2025-02-19 15:37:42.881 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:37:47.150 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 14733.9095ms
2025-02-19 15:37:47.153 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-02-19 15:37:47.162 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:37:47.162 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:47.162 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.455ms
2025-02-19 15:37:47.165 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:37:47.165 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:37:47.200 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 14571.0534ms
2025-02-19 15:37:47.201 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:37:47.203 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:37:47.212 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:37:47.203 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at api.Controllers.Flows.FlowController.AddNewFlow(NewFlowDto flowDto) in d:\projets\MonPotager\api\src\Controllers\Flows\FlowController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Builder.Extensions.UsePathBaseMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-19 15:37:47.233 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 500 null text/plain; charset=utf-8 14816.5142ms
2025-02-19 15:37:47.311 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:37:55.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:37:55.811 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8598.9372ms
2025-02-19 15:37:55.811 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:37:55.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 8646.9969ms
2025-02-19 15:38:03.227 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:38:03.228 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.228 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.8181ms
2025-02-19 15:38:03.230 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:38:03.230 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.231 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:38:03.235 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:38:03.268 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:38:03.269 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:38:03.269 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 34.2047ms
2025-02-19 15:38:03.269 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:38:03.269 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 39.4081ms
2025-02-19 15:38:03.837 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:38:03.837 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:38:03.838 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.838 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.838 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.3239ms
2025-02-19 15:38:03.838 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.5606ms
2025-02-19 15:38:03.838 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:38:03.839 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.841 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.8354ms
2025-02-19 15:38:03.842 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:38:03.842 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:38:03.842 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:38:03.842 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.842 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.844 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:03.845 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:38:03.845 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:38:03.846 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:38:03.846 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:38:03.848 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:38:03.848 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:38:03.850 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.AdminAuthorizedAttribute'.
2025-02-19 15:38:03.853 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:38:03.853 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:38:03.853 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:38:03.854 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.0946ms
2025-02-19 15:38:03.854 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:38:03.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.0873ms
2025-02-19 15:38:03.855 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:38:03.855 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 6.5874ms
2025-02-19 15:38:03.855 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:38:03.855 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 403 0 null 13.0611ms
2025-02-19 15:38:03.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:38:03.880 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:38:03.884 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 35.551ms
2025-02-19 15:38:03.884 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:38:03.884 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 42.104ms
2025-02-19 15:38:11.784 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:38:11.784 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:38:11.785 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:11.785 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:11.785 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 0.4982ms
2025-02-19 15:38:11.785 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 0.4981ms
2025-02-19 15:38:11.787 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 94
2025-02-19 15:38:11.787 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - application/json 26
2025-02-19 15:38:11.787 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:11.787 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:11.787 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:38:11.787 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:38:11.788 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:38:11.788 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:38:13.757 +01:00 [INF] Executed DbCommand (412ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-02-19 15:38:14.197 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-19 15:38:14.198 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 2409.8564ms
2025-02-19 15:38:14.198 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:38:14.198 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 2411.3761ms
2025-02-19 15:38:14.203 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:38:14.203 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:14.204 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 1.2846ms
2025-02-19 15:38:14.207 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:38:14.207 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:38:14.208 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:38:14.209 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:38:14.212 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-02-19 15:38:14.232 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:38:14.234 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:38:14.815 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 606.853ms
2025-02-19 15:38:14.816 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:38:39.801 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 25594.055ms
2025-02-19 15:38:39.821 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-02-19 15:38:39.857 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 28069.5314ms
2025-02-19 15:38:39.858 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:38:39.858 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at api.Controllers.Flows.FlowController.AddNewFlow(NewFlowDto flowDto) in d:\projets\MonPotager\api\src\Controllers\Flows\FlowController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.UsePathBaseMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-19 15:38:39.860 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 500 null text/plain; charset=utf-8 28073.4103ms
2025-02-19 15:40:44.706 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:40:44.710 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:44.710 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.0957ms
2025-02-19 15:40:44.714 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:40:44.715 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:44.716 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:40:44.716 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:40:44.721 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:40:44.721 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:40:44.722 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5.6298ms
2025-02-19 15:40:44.722 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:40:44.722 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 8.2889ms
2025-02-19 15:40:45.798 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:40:45.799 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.799 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.3341ms
2025-02-19 15:40:45.799 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:40:45.799 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.799 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:40:45.799 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.799 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.3136ms
2025-02-19 15:40:45.799 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.2243ms
2025-02-19 15:40:45.804 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:40:45.804 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:40:45.804 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:40:45.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.804 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:40:45.807 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:40:45.807 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:40:45.807 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:40:45.807 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:40:45.807 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:40:45.807 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:40:45.807 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.AdminAuthorizedAttribute'.
2025-02-19 15:40:45.808 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:40:45.809 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:40:45.809 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 1.4648ms
2025-02-19 15:40:45.809 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:40:45.809 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 403 0 null 5.2274ms
2025-02-19 15:40:45.824 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:40:45.825 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:40:45.825 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:40:45.826 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:40:45.826 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 18.364ms
2025-02-19 15:40:45.826 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:40:45.826 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 18.6474ms
2025-02-19 15:40:45.826 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:40:45.826 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 22.4735ms
2025-02-19 15:40:45.826 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 22.4777ms
2025-02-19 15:41:00.936 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:41:00.940 +01:00 [INF] No cached response available for this request.
2025-02-19 15:41:00.941 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-19 15:41:00.943 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-19 15:41:00.944 +01:00 [INF] The response could not be cached for this request.
2025-02-19 15:41:00.944 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 401 0 null 8.2699ms
2025-02-19 15:41:55.642 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.692 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.700 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.740 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-02-19 15:41:55.767 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-02-19 15:41:55.771 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-02-19 15:41:55.774 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.801 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:41:55.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:41:55.881 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-02-19 15:41:55.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-02-19 15:41:55.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:55.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:41:56.015 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 15:41:56.099 +01:00 [INF] Now listening on: http://[::]:5000
2025-02-19 15:41:56.100 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 15:41:56.101 +01:00 [INF] Hosting environment: Development
2025-02-19 15:41:56.101 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-02-19 15:41:56.227 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-02-19 15:41:56.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 102.1995ms
2025-02-19 15:41:56.593 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-02-19 15:41:56.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 218.9715ms
2025-02-19 15:41:58.954 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:41:58.973 +01:00 [INF] No cached response available for this request.
2025-02-19 15:41:59.064 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-19 15:41:59.066 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-19 15:41:59.067 +01:00 [INF] The response could not be cached for this request.
2025-02-19 15:41:59.067 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 401 0 null 113.4494ms
2025-02-19 15:42:19.385 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.430 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.437 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.441 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.476 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-02-19 15:42:19.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-02-19 15:42:19.510 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-02-19 15:42:19.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.520 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.538 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:42:19.589 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 15:42:19.622 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-02-19 15:42:19.635 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-02-19 15:42:19.637 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 15:42:19.740 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 15:42:19.819 +01:00 [INF] Now listening on: http://[::]:5000
2025-02-19 15:42:19.820 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 15:42:19.820 +01:00 [INF] Hosting environment: Development
2025-02-19 15:42:19.820 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-02-19 15:42:19.961 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-02-19 15:42:20.052 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 91.2805ms
2025-02-19 15:42:20.249 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-02-19 15:42:20.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.8927ms
2025-02-19 15:42:26.155 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:42:26.158 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:26.159 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.5942ms
2025-02-19 15:42:26.162 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:42:26.163 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:26.377 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:42:26.386 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:42:26.423 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:42:26.438 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:42:26.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:42:26.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:42:26.469 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:42:26.475 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:42:26.487 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 98.1058ms
2025-02-19 15:42:26.487 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:42:26.491 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 329.0267ms
2025-02-19 15:42:30.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:30.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:30.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:30.389 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.389 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.389 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 7.331ms
2025-02-19 15:42:30.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 7.515ms
2025-02-19 15:42:30.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 7.1956ms
2025-02-19 15:42:30.396 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:30.396 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:30.398 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.398 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:30.398 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:30.406 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:30.406 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:30.406 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:30.415 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:30.415 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:30.415 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:42:50.915 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:42:50.917 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.919 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.1526ms
2025-02-19 15:42:50.920 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:50.921 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:50.921 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:50.921 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.922 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.922 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.923 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.3781ms
2025-02-19 15:42:50.923 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 2.8287ms
2025-02-19 15:42:50.924 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.7323ms
2025-02-19 15:42:50.926 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:42:50.926 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:42:50.926 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:42:50.927 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.927 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.928 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.928 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.8229ms
2025-02-19 15:42:50.928 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 1.8295ms
2025-02-19 15:42:50.928 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 1.8295ms
2025-02-19 15:42:50.931 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:50.932 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:50.931 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:50.932 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.932 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.933 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.934 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.1356ms
2025-02-19 15:42:50.934 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 1.9837ms
2025-02-19 15:42:50.934 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 2.4679ms
2025-02-19 15:42:50.935 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:42:50.938 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.940 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - application/json 26
2025-02-19 15:42:50.940 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 94
2025-02-19 15:42:50.942 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.942 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:50.942 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:42:50.943 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:42:50.943 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:42:50.945 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:42:50.945 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:42:50.946 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:42:52.719 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-02-19 15:42:52.790 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:42:52.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:42:52.795 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 22379.3548ms
2025-02-19 15:42:52.795 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:52.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 22398.9716ms
2025-02-19 15:42:52.796 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:52.796 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:52.798 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:52.798 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:42:53.912 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-02-19 15:42:55.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:42:55.365 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-02-19 15:42:55.365 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:42:55.366 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:42:55.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:42:55.401 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:42:55.999 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5053.3499ms
2025-02-19 15:42:56.407 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:42:56.868 +01:00 [INF] Executed DbCommand (455ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:42:57.581 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 4782.3348ms
2025-02-19 15:42:57.581 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:57.583 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 4787.1906ms
2025-02-19 15:42:58.320 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:42:58.322 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 7387.0891ms
2025-02-19 15:42:58.333 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:42:58.333 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:42:58.334 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.334 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:42:58.334 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-19 15:42:58.334 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 7388.7562ms
2025-02-19 15:42:58.334 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:42:58.335 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 7394.7139ms
2025-02-19 15:42:58.335 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:58.335 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:42:58.877 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:58.878 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:42:58.878 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.879 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.7961ms
2025-02-19 15:42:58.890 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:42:58.890 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:42:58.891 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:42:58.891 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:42:58.891 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 557.4012ms
2025-02-19 15:42:58.891 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 556.1418ms
2025-02-19 15:42:58.891 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:42:58.891 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:42:58.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 571.6731ms
2025-02-19 15:42:58.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 558.5544ms
2025-02-19 15:42:58.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:42:58.893 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 7946.1118ms
2025-02-19 15:42:58.896 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:42:58.917 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 28501.3567ms
2025-02-19 15:42:58.917 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 28501.4728ms
2025-02-19 15:42:58.917 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.917 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:58.917 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 28520.7284ms
2025-02-19 15:42:58.917 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 28518.7763ms
2025-02-19 15:42:58.918 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:58.918 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.919 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:58.919 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.919 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.919 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:58.919 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:58.920 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:58.928 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:42:58.928 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:42:58.930 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:42:58.930 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:42:58.931 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 11.3689ms
2025-02-19 15:42:58.931 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 10.1661ms
2025-02-19 15:42:58.931 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.931 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:58.931 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.2205ms
2025-02-19 15:42:58.931 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 12.5856ms
2025-02-19 15:42:58.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:42:58.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:58.934 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.934 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.934 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.934 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:58.934 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:58.934 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:58.899 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains no elements.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at api.Controllers.Flows.FlowController.AddNewFlow(NewFlowDto flowDto) in d:\projets\MonPotager\api\src\Controllers\Flows\FlowController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.Extensions.UsePathBaseMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-19 15:42:58.940 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-02-19 15:42:58.939 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:42:58.939 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:42:58.941 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 15:42:58.943 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:42:58.943 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:42:58.943 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 8.5352ms
2025-02-19 15:42:58.943 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.4898ms
2025-02-19 15:42:58.943 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:42:58.943 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 9.888ms
2025-02-19 15:42:58.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 10.1371ms
2025-02-19 15:42:58.945 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:42:58.950 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:42:58.951 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.951 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:42:58.955 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:42:58.955 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 500 null text/plain; charset=utf-8 8014.6874ms
2025-02-19 15:42:58.955 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:42:58.956 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 4.54ms
2025-02-19 15:42:58.956 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:42:58.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 11.4568ms
2025-02-19 15:42:58.965 +01:00 [INF] The file /images/seeding.jpg was not modified
2025-02-19 15:42:58.970 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 304 null image/jpeg 28.2304ms
2025-02-19 15:42:58.982 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'd:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-02-19 15:42:58.982 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 42.3184ms
2025-02-19 15:43:13.070 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:13.070 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.070 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.7822ms
2025-02-19 15:43:13.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:13.073 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.074 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:13.074 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:43:13.079 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:43:13.080 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:43:13.080 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5.9059ms
2025-02-19 15:43:13.080 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:13.081 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 8.193ms
2025-02-19 15:43:13.845 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:13.845 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.846 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.5332ms
2025-02-19 15:43:13.846 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:43:13.846 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.846 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:43:13.846 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.2925ms
2025-02-19 15:43:13.847 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.847 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 1.1461ms
2025-02-19 15:43:13.849 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:13.849 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:43:13.850 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:43:13.850 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:13.850 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:13.850 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:43:13.850 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:43:13.850 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:43:13.852 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:43:13.853 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:43:13.856 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:43:13.856 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:43:13.858 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:43:49.475 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 35624.5613ms
2025-02-19 15:43:49.475 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:43:49.475 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:43:49.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 35625.8643ms
2025-02-19 15:43:49.483 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 35632.4384ms
2025-02-19 15:43:49.483 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:49.484 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 35635.1034ms
2025-02-19 15:43:49.490 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:43:49.490 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:49.490 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:43:49.493 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.493 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.493 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.493 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 3.1208ms
2025-02-19 15:43:49.493 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.9788ms
2025-02-19 15:43:49.495 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 4.3411ms
2025-02-19 15:43:49.495 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:43:49.496 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:43:49.499 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:49.503 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:43:49.506 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 35652.599ms
2025-02-19 15:43:49.507 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:43:49.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 35657.9447ms
2025-02-19 15:43:49.508 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:43:49.508 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:49.509 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:43:49.509 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.509 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.2954ms
2025-02-19 15:43:49.509 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:43:49.511 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.511 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.511 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.3739ms
2025-02-19 15:43:49.511 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:43:49.512 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 2.658ms
2025-02-19 15:43:49.512 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.512 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:43:49.513 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.514 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.6637ms
2025-02-19 15:43:49.514 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 15:43:49.514 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:49.514 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:43:49.514 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 15:43:49.515 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.514 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:43:49.515 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.515 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.515 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 1.2705ms
2025-02-19 15:43:49.515 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.2946ms
2025-02-19 15:43:49.515 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:49.515 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 1.0182ms
2025-02-19 15:43:49.518 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 15:43:49.518 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-02-19 15:43:49.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:43:49.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:43:49.518 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:43:49.519 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.519 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.518 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.518 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.519 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 1.2562ms
2025-02-19 15:43:49.519 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 0.47ms
2025-02-19 15:43:49.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:43:49.521 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-02-19 15:43:49.521 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-02-19 15:43:49.521 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.521 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.521 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.521 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.521 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.522 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:49.522 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:43:49.522 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:43:49.525 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:43:49.525 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:43:49.528 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:43:49.528 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:43:49.528 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:43:49.529 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 15:43:49.529 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:43:49.533 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 15:43:49.533 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-02-19 15:43:49.533 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 15:43:49.534 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.534 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.536 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 15:43:49.536 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.9421ms
2025-02-19 15:43:49.536 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.536 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 41.3752ms
2025-02-19 15:43:49.539 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.539 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.545 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.545 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:43:49.545 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.555 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.555 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:49.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:49.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:49.556 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 33.628ms
2025-02-19 15:43:49.556 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 37.3405ms
2025-02-19 15:43:49.556 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:49.556 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:49.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.4927ms
2025-02-19 15:43:49.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 47.6646ms
2025-02-19 15:43:49.561 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 15:43:49.579 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 15:43:49.584 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 59.0371ms
2025-02-19 15:43:49.585 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.585 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 66.5394ms
2025-02-19 15:43:49.592 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:43:49.592 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.593 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.593 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:43:49.594 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:43:49.597 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:43:49.597 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 15:43:49.597 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.3305ms
2025-02-19 15:43:49.597 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.598 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 5.9047ms
2025-02-19 15:43:49.697 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 15:43:49.714 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 185.9069ms
2025-02-19 15:43:49.714 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.715 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 196.1654ms
2025-02-19 15:43:49.716 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 15:43:49.716 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.717 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.717 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 15:43:49.721 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:43:49.723 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 15:43:49.723 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.0546ms
2025-02-19 15:43:49.723 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 15:43:49.723 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 7.7537ms
2025-02-19 15:43:49.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-02-19 15:43:49.848 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 314.8123ms
2025-02-19 15:43:49.848 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 15:43:49.848 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 327.8737ms
2025-02-19 15:43:49.884 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:49.884 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.885 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:49.885 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:43:49.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:43:49.889 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:43:49.890 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 4.5856ms
2025-02-19 15:43:49.890 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:49.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 5.7733ms
2025-02-19 15:43:49.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 15:43:49.975 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:49.976 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.976 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 15:43:49.979 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:43:49.979 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 15:43:49.979 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.2229ms
2025-02-19 15:43:49.979 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 15:43:49.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 4.334ms
2025-02-19 15:43:50.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:43:50.011 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:50.012 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:50.012 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:43:50.016 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:43:50.018 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:50.021 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:50.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:50.026 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:50.027 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:50.027 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.8484ms
2025-02-19 15:43:50.027 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:50.027 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 16.2046ms
2025-02-19 15:43:50.178 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 15:43:50.185 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-02-19 15:43:50.187 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 653.1559ms
2025-02-19 15:43:50.187 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 15:43:50.187 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 666.2341ms
2025-02-19 15:43:53.092 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:53.092 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:53.094 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:53.095 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:43:53.101 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:43:53.101 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:43:53.102 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.5463ms
2025-02-19 15:43:53.102 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:53.102 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 10.2594ms
2025-02-19 15:43:53.887 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 15:43:53.887 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:53.888 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:53.888 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 15:43:53.891 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 15:43:53.894 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:53.896 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:53.899 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:53.901 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 15:43:53.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:53.901 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 13.6885ms
2025-02-19 15:43:53.901 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 15:43:53.902 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 14.7119ms
2025-02-19 15:43:54.536 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:54.536 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:54.536 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.4752ms
2025-02-19 15:43:54.538 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:43:54.538 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:54.538 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:54.538 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:43:54.541 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:43:54.542 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:43:54.542 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 3.6188ms
2025-02-19 15:43:54.542 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:43:54.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 4.3928ms
2025-02-19 15:43:55.272 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:55.272 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.272 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.2384ms
2025-02-19 15:43:55.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:43:55.274 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.275 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:55.275 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:43:55.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:43:55.279 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:43:55.279 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 4.0557ms
2025-02-19 15:43:55.279 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:43:55.279 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 5.0475ms
2025-02-19 15:43:55.955 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:43:55.955 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.955 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.2446ms
2025-02-19 15:43:55.957 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:43:55.958 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.958 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:43:55.958 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:43:55.962 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:43:55.962 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:43:55.962 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 4.1724ms
2025-02-19 15:43:55.962 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:43:55.962 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 5.0358ms
2025-02-19 15:43:55.989 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:43:55.989 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.989 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.2464ms
2025-02-19 15:43:55.990 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:43:55.991 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:43:55.991 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:43:55.991 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:43:55.994 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:43:55.995 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:43:55.995 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 3.5509ms
2025-02-19 15:43:55.995 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:43:55.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 4.4646ms
2025-02-19 15:44:02.972 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - null null
2025-02-19 15:44:02.972 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-02-19 15:44:02.972 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:02.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 0.5526ms
2025-02-19 15:44:02.972 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:02.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 0.4842ms
2025-02-19 15:44:02.975 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - application/json 26
2025-02-19 15:44:02.975 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:02.975 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-02-19 15:44:02.975 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:02.975 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:44:02.976 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-02-19 15:44:02.976 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:44:02.976 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:05.106 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-02-19 15:44:05.108 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-02-19 15:44:05.108 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 2132.8626ms
2025-02-19 15:44:05.497 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-02-19 15:44:05.498 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/29e04204-9c00-4b1c-86af-ac57dbb7113e - 204 null null 2522.8854ms
2025-02-19 15:44:07.402 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:07.402 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:07.402 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 1.0634ms
2025-02-19 15:44:07.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:07.406 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:07.408 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:07.408 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:44:07.418 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:44:07.420 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:44:07.421 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 12.9506ms
2025-02-19 15:44:07.421 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:07.422 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 17.2409ms
2025-02-19 15:44:07.435 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-02-19 15:44:22.938 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-02-19 15:44:24.817 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 15:44:25.758 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-02-19 15:44:25.785 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 15:44:26.483 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-02-19 15:44:26.495 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-02-19 15:44:26.496 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 23520.4332ms
2025-02-19 15:44:26.496 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-02-19 15:44:26.496 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 23521.3138ms
2025-02-19 15:44:30.241 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:30.241 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:30.241 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.205ms
2025-02-19 15:44:30.242 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:30.243 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:30.243 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:30.243 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:30.248 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:44:30.250 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:44:30.257 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 13.7003ms
2025-02-19 15:44:30.257 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:30.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 14.8296ms
2025-02-19 15:44:33.293 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 15:44:33.293 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:33.293 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 204 null null 0.2229ms
2025-02-19 15:44:33.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 15:44:33.295 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:33.296 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 15:44:33.298 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:33.345 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-02-19 15:44:33.347 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-02-19 15:44:33.350 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 52.275ms
2025-02-19 15:44:33.350 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 15:44:33.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 200 null application/json; charset=utf-8 55.0011ms
2025-02-19 15:44:33.360 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 15:44:33.360 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:33.361 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 204 null null 0.2459ms
2025-02-19 15:44:33.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 15:44:33.363 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:33.363 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 15:44:33.366 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-02-19 15:44:33.399 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-02-19 15:44:33.410 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-02-19 15:44:33.410 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:44:33.410 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 44.573ms
2025-02-19 15:44:33.410 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 15:44:33.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 200 null application/json; charset=utf-8 47.7641ms
2025-02-19 15:44:33.433 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-02-19 15:44:33.433 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-02-19 15:44:33.435 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-02-19 15:44:33.435 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-02-19 15:44:33.435 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-02-19 15:44:33.438 +01:00 [INF] The file /images/cutting.jpg was not modified
2025-02-19 15:44:33.439 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 304 null image/jpeg 2.5829ms
2025-02-19 15:44:33.450 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'd:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-02-19 15:44:33.450 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'd:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-02-19 15:44:33.450 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 15.5345ms
2025-02-19 15:44:33.450 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 17.4778ms
2025-02-19 15:44:33.454 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'd:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-02-19 15:44:33.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 21.7286ms
2025-02-19 15:44:33.456 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'd:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-02-19 15:44:33.456 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 20.8988ms
2025-02-19 15:44:40.685 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:40.685 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.686 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.2504ms
2025-02-19 15:44:40.686 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:44:40.686 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.686 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.1152ms
2025-02-19 15:44:40.686 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:44:40.686 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.686 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.101ms
2025-02-19 15:44:40.688 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:40.688 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.688 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:44:40.688 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.688 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:44:40.688 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:40.689 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:44:40.689 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:44:40.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:44:40.689 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:40.689 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:44:40.689 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:44:40.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:44:40.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:44:40.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:44:40.694 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:44:40.694 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:44:40.694 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:44:40.694 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.6485ms
2025-02-19 15:44:40.694 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 5.6085ms
2025-02-19 15:44:40.694 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 5.0982ms
2025-02-19 15:44:40.695 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:40.695 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:44:40.695 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:44:40.695 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 6.8133ms
2025-02-19 15:44:40.696 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 8.1846ms
2025-02-19 15:44:40.696 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 7.8386ms
2025-02-19 15:44:42.033 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:42.034 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:42.034 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.2837ms
2025-02-19 15:44:42.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:42.035 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:42.036 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:42.036 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:42.040 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:44:42.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:44:42.040 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 4.0227ms
2025-02-19 15:44:42.040 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:42.040 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 5.2875ms
2025-02-19 15:44:45.806 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 15:44:45.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:45.806 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 204 null null 0.2881ms
2025-02-19 15:44:45.808 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 15:44:45.808 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:45.808 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 15:44:45.808 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:45.811 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-02-19 15:44:45.812 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-02-19 15:44:45.812 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 3.6175ms
2025-02-19 15:44:45.812 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 15:44:45.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 200 null application/json; charset=utf-8 4.6409ms
2025-02-19 15:44:45.817 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 15:44:45.818 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:45.818 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 204 null null 0.2552ms
2025-02-19 15:44:45.819 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 15:44:45.820 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:45.821 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 15:44:45.823 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-02-19 15:44:45.827 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-02-19 15:44:45.831 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-02-19 15:44:45.831 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:44:45.832 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 8.8562ms
2025-02-19 15:44:45.832 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 15:44:45.832 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 200 null application/json; charset=utf-8 12.7514ms
2025-02-19 15:44:52.816 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2024&notHarvested=true - null null
2025-02-19 15:44:52.816 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:52.816 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2024&notHarvested=true - 204 null null 0.2431ms
2025-02-19 15:44:52.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2024&notHarvested=true - null null
2025-02-19 15:44:52.821 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:52.821 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:52.821 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:52.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:44:52.825 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-02-19 15:44:52.825 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 3.963ms
2025-02-19 15:44:52.825 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:52.825 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2024&notHarvested=true - 404 null application/json; charset=utf-8 4.8807ms
2025-02-19 15:44:54.875 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:54.875 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:54.875 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.2623ms
2025-02-19 15:44:54.876 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:44:54.877 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:54.877 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:54.877 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:44:54.880 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:44:54.881 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:44:54.881 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 3.9976ms
2025-02-19 15:44:54.881 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:44:54.881 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 4.8033ms
2025-02-19 15:44:59.665 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:59.665 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.665 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:44:59.665 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 0.2869ms
2025-02-19 15:44:59.665 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:44:59.665 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.665 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.665 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 204 null null 0.3247ms
2025-02-19 15:44:59.666 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 0.1401ms
2025-02-19 15:44:59.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 15:44:59.667 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - null null
2025-02-19 15:44:59.668 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-02-19 15:44:59.668 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:59.668 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:44:59.668 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:44:59.668 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:44:59.668 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:44:59.668 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 15:44:59.668 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-02-19 15:44:59.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-02-19 15:44:59.672 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-02-19 15:44:59.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 15:44:59.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 15:44:59.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-02-19 15:44:59.674 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 5.6558ms
2025-02-19 15:44:59.674 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 5.4243ms
2025-02-19 15:44:59.674 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 15:44:59.674 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-02-19 15:44:59.674 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-02-19 15:44:59.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 7.1744ms
2025-02-19 15:44:59.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/309644fa-cb86-4c67-8f03-8ff4e4d5e147 - 200 null application/json; charset=utf-8 7.2998ms
2025-02-19 15:44:59.675 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0932ms
2025-02-19 15:44:59.675 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 15:44:59.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 8.2026ms
2025-02-19 15:45:00.642 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:45:00.642 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:00.642 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.2255ms
2025-02-19 15:45:00.644 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:45:00.644 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:00.644 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:00.645 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:45:00.648 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:45:00.649 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:45:00.649 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 4.1833ms
2025-02-19 15:45:00.649 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:00.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 5.0657ms
2025-02-19 15:45:19.575 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - null null
2025-02-19 15:45:19.575 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:19.575 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - 204 null null 0.2575ms
2025-02-19 15:45:19.577 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - null null
2025-02-19 15:45:19.577 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:19.578 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:19.578 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:45:19.603 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e].[Date]
    FROM [Events] AS [e]
    WHERE [f].[Id] = [e].[FlowId]
    ORDER BY [e].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e1].[Date]
    FROM [Events] AS [e1]
    WHERE [f].[Id] = [e1].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e2].[Date]
        FROM [Events] AS [e2]
        WHERE [f].[Id] = [e2].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s].[Id], [s].[Image], [s].[Label], 1 AS [c], [e0].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e0].[FlowId] ORDER BY [e0].[Date] DESC) AS [row]
        FROM [Events] AS [e0]
        INNER JOIN [Stages] AS [s] ON [e0].[StageId] = [s].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1
ORDER BY [f].[UpdateDate]
2025-02-19 15:45:19.604 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:45:19.604 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 26.2371ms
2025-02-19 15:45:19.604 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:19.604 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - 200 null application/json; charset=utf-8 27.4718ms
2025-02-19 15:45:20.310 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:45:20.310 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:20.310 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 0.4312ms
2025-02-19 15:45:20.312 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 15:45:20.312 +01:00 [INF] CORS policy execution successful.
2025-02-19 15:45:20.312 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:20.312 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 15:45:20.316 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 15:45:20.316 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 15:45:20.316 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 3.752ms
2025-02-19 15:45:20.316 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 15:45:20.316 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 4.5278ms
2025-02-19 17:19:59.352 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.392 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.401 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.407 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.440 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-02-19 17:19:59.465 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-02-19 17:19:59.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-02-19 17:19:59.476 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.484 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.489 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 17:19:59.548 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-02-19 17:19:59.577 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-02-19 17:19:59.591 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-02-19 17:19:59.597 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.602 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-19 17:19:59.666 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 17:19:59.718 +01:00 [INF] Now listening on: http://[::]:5000
2025-02-19 17:19:59.720 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 17:19:59.721 +01:00 [INF] Hosting environment: Development
2025-02-19 17:19:59.722 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-02-19 17:20:14.599 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:20:14.599 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:20:14.718 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:20:14.718 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:20:14.731 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:20:14.732 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:20:14.736 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:20:14.736 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:20:14.744 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:20:14.744 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:20:14.747 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:20:14.749 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:20:14.751 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:20:14.755 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.5584ms
2025-02-19 17:20:14.758 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:20:14.763 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 165.7427ms
2025-02-19 17:20:14.785 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:20:14.804 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:14.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:14.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:14.851 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:14.857 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:20:14.875 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 128.3579ms
2025-02-19 17:20:14.877 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:20:14.881 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 283.7588ms
2025-02-19 17:20:14.913 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:20:14.917 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:14.919 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.8327ms
2025-02-19 17:20:14.923 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:20:14.926 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:14.929 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:20:14.932 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:20:14.934 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:20:14.937 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:20:14.939 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:20:14.940 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:20:14.941 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:20:14.942 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.0111ms
2025-02-19 17:20:14.943 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:20:14.944 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 21.2257ms
2025-02-19 17:20:15.452 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:20:15.452 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:20:15.454 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:15.455 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:15.456 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6691ms
2025-02-19 17:20:15.456 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.7547ms
2025-02-19 17:20:15.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:20:15.460 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:20:15.462 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:15.463 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:20:15.465 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:20:15.465 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:20:15.468 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:20:15.469 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:20:15.471 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:20:15.472 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:20:15.473 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:20:15.474 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:20:15.477 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:20:15.478 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:20:15.479 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:20:15.480 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9078ms
2025-02-19 17:20:15.481 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:20:15.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.82ms
2025-02-19 17:20:15.513 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:20:15.518 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:15.523 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:15.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:15.531 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:20:15.534 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:20:15.535 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 60.1279ms
2025-02-19 17:20:15.536 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:20:15.537 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 78.9934ms
2025-02-19 17:20:15.550 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:20:15.550 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:20:15.550 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:20:15.560 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:20:15.560 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:20:15.560 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:20:15.561 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 11.6652ms
2025-02-19 17:20:15.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 12.6123ms
2025-02-19 17:20:15.563 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 13.4934ms
2025-02-19 17:22:41.435 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:22:41.436 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:22:41.438 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:41.439 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:41.441 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:41.443 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:41.444 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:41.445 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:41.445 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:22:41.446 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:22:41.447 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:22:41.449 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:22:41.450 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:22:41.451 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7967ms
2025-02-19 17:22:41.452 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:41.452 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:22:41.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.3034ms
2025-02-19 17:22:41.458 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:41.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:41.468 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:41.472 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:41.475 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:22:41.476 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 27.9842ms
2025-02-19 17:22:41.477 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:41.478 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.093ms
2025-02-19 17:22:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:22:41.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:22:41.977 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:41.978 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:41.980 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:41.983 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:41.984 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:41.985 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:41.985 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:22:41.986 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:22:41.987 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:22:41.989 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:22:41.990 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:22:41.991 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8335ms
2025-02-19 17:22:41.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:22:41.992 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:41.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.3886ms
2025-02-19 17:22:41.996 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.001 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.009 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.012 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:22:42.013 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.1339ms
2025-02-19 17:22:42.014 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:42.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.7343ms
2025-02-19 17:22:42.280 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:22:42.283 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.284 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.7979ms
2025-02-19 17:22:42.294 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:22:42.326 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.332 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:42.335 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:42.336 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:22:42.337 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:22:42.345 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:22:42.346 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:22:42.347 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:22:42.349 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.8017ms
2025-02-19 17:22:42.350 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:22:42.351 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 58.5393ms
2025-02-19 17:22:42.814 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:22:42.815 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:22:42.815 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.816 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.817 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.0328ms
2025-02-19 17:22:42.817 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2332ms
2025-02-19 17:22:42.819 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:22:42.820 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:22:42.821 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.823 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:22:42.824 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:42.824 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:22:42.826 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:42.828 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:22:42.829 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:42.830 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:42.831 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:22:42.832 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:22:42.834 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:22:42.835 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:22:42.836 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:22:42.836 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:22:42.838 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4229ms
2025-02-19 17:22:42.839 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:22:42.840 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.840 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.9273ms
2025-02-19 17:22:42.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.849 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.852 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:22:42.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:22:42.856 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.8544ms
2025-02-19 17:22:42.857 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:22:42.858 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.7155ms
2025-02-19 17:24:38.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:38.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:38.493 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:38.494 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:38.496 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:38.498 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:38.499 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:38.500 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:38.501 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:38.502 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:38.503 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:38.504 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:38.505 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:38.506 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4375ms
2025-02-19 17:24:38.507 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:38.507 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:38.510 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7935ms
2025-02-19 17:24:38.511 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:38.516 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:38.520 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:38.524 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:38.526 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:38.528 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.3476ms
2025-02-19 17:24:38.529 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:38.530 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.205ms
2025-02-19 17:24:39.029 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:39.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:39.032 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:39.034 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:39.035 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:39.038 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:39.038 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:39.039 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:39.040 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:39.040 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:39.042 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:39.043 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:39.045 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:39.046 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8961ms
2025-02-19 17:24:39.046 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:39.047 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:39.049 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.9616ms
2025-02-19 17:24:39.050 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.056 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:39.068 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.2716ms
2025-02-19 17:24:39.069 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:39.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.3428ms
2025-02-19 17:24:39.277 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:24:39.278 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.279 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7668ms
2025-02-19 17:24:39.283 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:24:39.284 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.285 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:39.287 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:39.287 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:24:39.288 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:24:39.289 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:39.290 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:39.290 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:39.291 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.0086ms
2025-02-19 17:24:39.292 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:24:39.293 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 10.7237ms
2025-02-19 17:24:39.789 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:39.789 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:39.791 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.793 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.793 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3408ms
2025-02-19 17:24:39.794 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.8179ms
2025-02-19 17:24:39.796 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:39.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:39.800 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.801 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:39.802 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:39.802 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:39.803 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:39.805 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:39.806 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:39.807 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:39.807 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:39.808 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:39.810 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:39.811 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:39.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:39.813 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:39.815 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8358ms
2025-02-19 17:24:39.816 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:39.817 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.5148ms
2025-02-19 17:24:39.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.827 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:39.833 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:39.835 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.526ms
2025-02-19 17:24:39.836 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:39.837 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.5497ms
2025-02-19 17:24:54.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:54.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:54.812 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:54.813 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:54.815 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:54.817 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:54.818 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:54.818 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:54.819 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:54.820 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:54.820 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:54.822 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:54.823 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:54.823 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0057ms
2025-02-19 17:24:54.824 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:54.824 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:54.828 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.7054ms
2025-02-19 17:24:54.829 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:54.834 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:54.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:54.841 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:54.843 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:54.844 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.7271ms
2025-02-19 17:24:54.845 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:54.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.1511ms
2025-02-19 17:24:55.344 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:55.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:55.346 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:55.348 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:55.349 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:55.351 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:55.352 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:55.353 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:55.353 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:55.354 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:55.356 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:55.358 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:55.358 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:55.359 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9511ms
2025-02-19 17:24:55.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:55.361 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:55.363 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9437ms
2025-02-19 17:24:55.365 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:55.369 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:55.373 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:55.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:55.379 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:55.381 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.8249ms
2025-02-19 17:24:55.382 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:55.383 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.3107ms
2025-02-19 17:24:55.525 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:24:55.526 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:55.527 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7215ms
2025-02-19 17:24:55.530 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:24:55.532 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:55.533 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:55.542 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:55.545 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:24:55.557 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:24:55.563 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:55.567 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:55.569 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:55.570 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7855ms
2025-02-19 17:24:55.572 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:24:55.573 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 42.4043ms
2025-02-19 17:24:56.062 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:56.062 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:56.064 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:56.066 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:56.067 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.2815ms
2025-02-19 17:24:56.068 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.4997ms
2025-02-19 17:24:56.080 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:24:56.080 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:24:56.082 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:56.083 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:24:56.084 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:56.085 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:24:56.087 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:56.089 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:24:56.090 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:56.091 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:56.091 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:24:56.092 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:24:56.093 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:24:56.096 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:24:56.097 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:24:56.098 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.547ms
2025-02-19 17:24:56.098 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:24:56.099 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:24:56.102 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.7466ms
2025-02-19 17:24:56.103 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:56.108 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:56.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:56.117 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:24:56.119 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:24:56.121 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.1449ms
2025-02-19 17:24:56.122 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:24:56.123 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.4431ms
2025-02-19 17:25:14.099 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:14.100 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:14.101 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:14.103 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:14.104 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:14.106 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:14.107 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:14.108 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:14.108 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:14.109 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:14.110 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:14.112 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:14.113 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:14.114 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2805ms
2025-02-19 17:25:14.114 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:14.114 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:14.117 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6436ms
2025-02-19 17:25:14.118 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.123 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.130 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.132 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:14.133 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.2721ms
2025-02-19 17:25:14.134 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:14.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.3614ms
2025-02-19 17:25:14.635 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:14.636 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:14.637 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:14.638 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:14.640 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:14.643 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:14.643 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:14.644 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:14.644 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:14.645 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:14.646 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:14.649 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:14.650 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:14.651 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:14.651 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8378ms
2025-02-19 17:25:14.654 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:14.655 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.655 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.2243ms
2025-02-19 17:25:14.659 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.662 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.666 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:14.668 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:14.669 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.0697ms
2025-02-19 17:25:14.670 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:14.671 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.948ms
2025-02-19 17:25:14.824 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:25:14.826 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:14.827 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6754ms
2025-02-19 17:25:14.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:25:14.831 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:14.832 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:14.834 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:14.835 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:25:14.836 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:25:14.838 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:14.839 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:14.840 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:14.840 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.5321ms
2025-02-19 17:25:14.841 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:25:14.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 11.7655ms
2025-02-19 17:25:15.359 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:15.361 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:15.361 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:15.362 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:15.363 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8503ms
2025-02-19 17:25:15.363 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5827ms
2025-02-19 17:25:15.366 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:15.367 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:15.369 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:15.370 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:15.371 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:15.371 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:15.373 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:15.375 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:15.376 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:15.377 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:15.377 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:15.378 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:15.380 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:15.381 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:15.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:15.382 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:15.385 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8805ms
2025-02-19 17:25:15.386 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:15.386 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:15.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 22.266ms
2025-02-19 17:25:15.390 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:15.395 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:15.399 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:15.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:15.402 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.785ms
2025-02-19 17:25:15.403 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:15.404 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.3969ms
2025-02-19 17:25:28.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:28.294 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:28.295 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:28.296 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:28.298 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:28.300 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:28.300 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:28.301 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:28.302 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:28.303 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:28.304 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:28.305 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:28.306 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:28.307 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4119ms
2025-02-19 17:25:28.308 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:28.308 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:28.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.8603ms
2025-02-19 17:25:28.311 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.316 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.320 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.323 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:28.325 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2035ms
2025-02-19 17:25:28.326 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:28.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.7773ms
2025-02-19 17:25:28.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:28.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:28.833 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:28.834 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:28.836 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:28.837 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:28.838 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:28.839 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:28.839 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:28.840 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:28.841 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:28.843 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:28.844 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:28.845 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0693ms
2025-02-19 17:25:28.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:28.846 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:28.848 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.517ms
2025-02-19 17:25:28.849 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.854 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.857 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.861 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:28.863 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:28.865 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.8162ms
2025-02-19 17:25:28.866 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:28.867 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.3326ms
2025-02-19 17:25:29.014 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:25:29.015 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.016 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5339ms
2025-02-19 17:25:29.019 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:25:29.021 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.022 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:29.024 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:29.025 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:25:29.026 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:25:29.027 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:29.028 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:29.028 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:29.029 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.0998ms
2025-02-19 17:25:29.030 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:25:29.030 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 10.9653ms
2025-02-19 17:25:29.544 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:29.545 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:29.546 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.548 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.548 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.9334ms
2025-02-19 17:25:29.548 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.8345ms
2025-02-19 17:25:29.551 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:25:29.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:25:29.553 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.554 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:25:29.555 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:29.555 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:25:29.557 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:29.559 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:25:29.560 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:29.560 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:29.561 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:25:29.562 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:25:29.564 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:25:29.565 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:25:29.565 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:25:29.566 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:25:29.569 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6869ms
2025-02-19 17:25:29.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:29.570 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:25:29.572 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.642ms
2025-02-19 17:25:29.573 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:29.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:29.580 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:25:29.582 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:25:29.583 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.3366ms
2025-02-19 17:25:29.584 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:25:29.585 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.2172ms
2025-02-19 17:28:44.795 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:28:44.796 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:28:44.797 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:44.799 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:44.800 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:44.802 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:44.803 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:44.803 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:44.804 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:28:44.804 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:28:44.806 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:28:44.807 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:28:44.809 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:28:44.810 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2248ms
2025-02-19 17:28:44.811 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:28:44.811 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:44.814 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9322ms
2025-02-19 17:28:44.815 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:44.820 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:44.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:44.826 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:44.828 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:28:44.830 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.6797ms
2025-02-19 17:28:44.831 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:44.831 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7426ms
2025-02-19 17:28:45.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:28:45.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:28:45.334 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:45.335 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:45.337 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:45.338 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:45.338 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:45.339 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:45.340 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:28:45.340 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:28:45.341 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:28:45.343 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:28:45.344 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:28:45.345 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7868ms
2025-02-19 17:28:45.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:28:45.346 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:45.348 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.1282ms
2025-02-19 17:28:45.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:45.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:45.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:45.360 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:45.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:28:45.363 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.6705ms
2025-02-19 17:28:45.364 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:45.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.2555ms
2025-02-19 17:28:45.592 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:28:45.594 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:45.595 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4855ms
2025-02-19 17:28:45.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:28:45.601 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:45.603 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:45.605 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:45.606 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:28:45.607 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:28:45.609 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:28:45.610 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:28:45.610 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:28:45.611 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.5147ms
2025-02-19 17:28:45.613 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:28:45.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.1908ms
2025-02-19 17:28:46.169 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:28:46.171 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:46.171 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.4914ms
2025-02-19 17:28:46.173 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:28:46.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:28:46.175 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:46.177 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:46.178 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.6486ms
2025-02-19 17:28:46.179 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:46.180 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:28:46.183 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:46.184 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:28:46.185 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:46.186 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:28:46.187 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:28:46.189 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:28:46.190 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:28:46.191 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:46.191 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:28:46.192 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:28:46.193 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:28:46.194 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2823ms
2025-02-19 17:28:46.195 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:28:46.197 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.5113ms
2025-02-19 17:28:46.197 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:28:46.204 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:46.207 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:46.212 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:46.215 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:28:46.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:28:46.218 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.0617ms
2025-02-19 17:28:46.218 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:28:46.219 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.6633ms
2025-02-19 17:29:04.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:04.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:04.586 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:04.588 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:04.590 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:04.591 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:04.592 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:04.592 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:04.593 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:04.594 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:04.595 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:04.597 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:04.598 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:04.599 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7402ms
2025-02-19 17:29:04.599 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:04.599 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:04.602 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.005ms
2025-02-19 17:29:04.603 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:04.606 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:04.611 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:04.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:04.616 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:04.617 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.8334ms
2025-02-19 17:29:04.618 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:04.618 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.1418ms
2025-02-19 17:29:05.125 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:05.126 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:05.127 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:05.128 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:05.129 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:05.131 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:05.132 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:05.132 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:05.133 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:05.134 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:05.135 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:05.136 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:05.138 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:05.139 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:05.139 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.34ms
2025-02-19 17:29:05.142 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:05.143 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6654ms
2025-02-19 17:29:05.143 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.148 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.151 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.156 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.158 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:05.159 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.4985ms
2025-02-19 17:29:05.160 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:05.161 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.2638ms
2025-02-19 17:29:05.408 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:29:05.410 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.410 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.415ms
2025-02-19 17:29:05.412 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:29:05.414 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.414 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:05.418 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:05.419 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:29:05.420 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:29:05.421 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:05.421 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:05.422 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:05.423 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 1.9804ms
2025-02-19 17:29:05.424 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:29:05.428 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.6724ms
2025-02-19 17:29:05.933 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:05.934 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:05.935 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.936 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.936 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.1769ms
2025-02-19 17:29:05.937 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.1135ms
2025-02-19 17:29:05.939 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:05.940 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:05.941 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.942 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:05.942 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:05.943 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:05.945 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:05.946 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:05.947 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:05.947 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:05.948 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:05.948 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:05.950 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:05.951 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:05.952 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:05.952 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:05.955 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6408ms
2025-02-19 17:29:05.956 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.956 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:05.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6037ms
2025-02-19 17:29:05.959 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.966 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:05.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:05.970 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.8517ms
2025-02-19 17:29:05.971 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:05.972 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.7208ms
2025-02-19 17:29:18.938 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:29:18.938 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:29:18.938 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:29:18.943 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:29:18.945 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:29:18.946 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:29:18.946 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.91ms
2025-02-19 17:29:18.947 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.8811ms
2025-02-19 17:29:18.948 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 9.8096ms
2025-02-19 17:29:36.137 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:36.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:36.140 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:36.141 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:36.143 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:36.145 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:36.146 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:36.147 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:36.148 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:36.149 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:36.151 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:36.153 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:36.154 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:36.155 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:36.155 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1817ms
2025-02-19 17:29:36.157 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:36.158 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.725ms
2025-02-19 17:29:36.161 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.166 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:36.173 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.2558ms
2025-02-19 17:29:36.174 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:36.175 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.794ms
2025-02-19 17:29:36.688 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:36.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:36.691 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:36.692 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:36.695 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:36.697 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:36.698 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:36.699 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:36.700 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:36.701 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:36.702 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:36.705 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:36.706 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:36.707 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:36.707 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7006ms
2025-02-19 17:29:36.710 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:36.711 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 22.5862ms
2025-02-19 17:29:36.711 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.717 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.721 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:36.727 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:36.728 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.7416ms
2025-02-19 17:29:36.730 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:36.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.0304ms
2025-02-19 17:29:37.253 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:29:37.260 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.261 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 7.6018ms
2025-02-19 17:29:37.287 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:29:37.292 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.293 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:37.296 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:37.296 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:29:37.298 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:29:37.299 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:37.300 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:37.301 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:37.301 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.2376ms
2025-02-19 17:29:37.302 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:29:37.303 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.5852ms
2025-02-19 17:29:37.813 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:37.813 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:37.815 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.817 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.818 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.91ms
2025-02-19 17:29:37.818 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.8186ms
2025-02-19 17:29:37.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:29:37.846 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.847 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:37.849 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:37.850 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:37.851 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:29:37.852 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:29:37.853 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:29:37.854 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:29:37.856 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0713ms
2025-02-19 17:29:37.856 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:29:37.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 13.3292ms
2025-02-19 17:29:37.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:29:37.865 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:29:37.866 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:29:37.868 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:29:37.869 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:37.870 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:29:37.874 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:29:37.878 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:37.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:37.886 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:37.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:29:37.891 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:29:37.893 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.0403ms
2025-02-19 17:29:37.894 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:29:37.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.8072ms
2025-02-19 17:29:37.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:29:37.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:29:37.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:29:37.936 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:29:37.937 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:29:37.939 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:29:37.939 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.319ms
2025-02-19 17:29:37.942 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.4285ms
2025-02-19 17:29:37.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 9.2714ms
2025-02-19 17:30:01.548 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:01.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:01.550 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:01.551 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:01.554 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:01.556 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:01.557 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:01.558 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:01.559 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:01.559 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:01.561 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:01.563 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:01.564 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:01.564 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6246ms
2025-02-19 17:30:01.564 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:01.566 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:01.568 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.9175ms
2025-02-19 17:30:01.569 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:01.574 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:01.578 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:01.582 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:01.583 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:01.584 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.1616ms
2025-02-19 17:30:01.585 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:01.586 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.5631ms
2025-02-19 17:30:02.110 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:02.111 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:02.113 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:02.114 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:02.116 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:02.118 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:02.119 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:02.120 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:02.121 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:02.122 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:02.123 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:02.126 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:02.127 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:02.128 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:02.128 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5338ms
2025-02-19 17:30:02.131 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:02.132 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:02.132 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.9512ms
2025-02-19 17:30:02.136 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:02.140 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:02.144 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:02.147 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:02.148 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.2718ms
2025-02-19 17:30:02.149 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:02.150 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.9314ms
2025-02-19 17:30:02.514 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:02.519 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:02.520 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.8271ms
2025-02-19 17:30:02.545 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:02.548 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:02.549 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:02.554 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:02.555 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:02.556 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:30:02.557 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:02.558 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:02.559 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:02.560 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.878ms
2025-02-19 17:30:02.562 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:02.563 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 17.8066ms
2025-02-19 17:30:03.041 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:03.042 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:03.043 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:03.045 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:03.045 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.4191ms
2025-02-19 17:30:03.046 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.9404ms
2025-02-19 17:30:03.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:03.051 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:03.052 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:03.054 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:03.055 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:03.055 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:03.057 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:03.058 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:03.059 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:03.060 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:03.061 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:03.062 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:03.065 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:03.066 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:03.066 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:03.067 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:03.069 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6209ms
2025-02-19 17:30:03.070 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:03.071 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:03.071 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.6766ms
2025-02-19 17:30:03.076 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:03.081 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:03.087 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:03.089 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:03.091 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 27.8985ms
2025-02-19 17:30:03.093 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:03.095 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 46.4094ms
2025-02-19 17:30:03.110 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:30:03.113 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:30:03.113 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:30:03.116 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:30:03.127 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:30:03.130 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:30:03.130 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 20.5416ms
2025-02-19 17:30:03.132 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 19.3383ms
2025-02-19 17:30:03.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 20.8173ms
2025-02-19 17:30:27.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:27.013 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:27.014 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:27.016 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:27.017 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:27.018 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:27.019 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:27.020 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:27.020 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:27.021 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:27.022 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:27.023 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:27.024 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:27.025 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8176ms
2025-02-19 17:30:27.027 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:27.027 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:27.030 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.5028ms
2025-02-19 17:30:27.031 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.038 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.042 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.044 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:27.046 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.9118ms
2025-02-19 17:30:27.046 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:27.047 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.5225ms
2025-02-19 17:30:27.569 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:27.569 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:27.571 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:27.573 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:27.575 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:27.577 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:27.578 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:27.579 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:27.579 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:27.580 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:27.582 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:27.584 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:27.585 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:27.586 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6274ms
2025-02-19 17:30:27.587 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:27.588 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:27.591 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 22.4546ms
2025-02-19 17:30:27.594 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.599 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.604 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.607 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:27.609 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:27.611 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 27.6946ms
2025-02-19 17:30:27.612 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:27.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 43.493ms
2025-02-19 17:30:28.140 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:28.142 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.143 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7717ms
2025-02-19 17:30:28.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:28.297 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.297 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:28.299 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:28.300 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:28.302 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:30:28.303 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:28.303 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:28.304 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:28.305 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 1.7513ms
2025-02-19 17:30:28.306 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:28.307 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.2622ms
2025-02-19 17:30:28.634 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:28.636 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.637 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.5065ms
2025-02-19 17:30:28.642 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:28.644 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.644 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7209ms
2025-02-19 17:30:28.656 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:28.658 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.659 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:28.662 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:28.663 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:28.663 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:28.665 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:28.666 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:28.667 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:28.667 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.8482ms
2025-02-19 17:30:28.669 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:28.669 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:28.670 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 13.5448ms
2025-02-19 17:30:28.671 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:28.674 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:28.676 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:28.677 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:28.678 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:28.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:28.687 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:28.691 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:28.695 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:28.699 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:28.701 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:28.702 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.3808ms
2025-02-19 17:30:28.703 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:28.704 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.3424ms
2025-02-19 17:30:28.720 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:30:28.720 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:30:28.721 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:30:28.722 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:30:28.724 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:30:28.725 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:30:28.726 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.6847ms
2025-02-19 17:30:28.726 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.1573ms
2025-02-19 17:30:28.727 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.5093ms
2025-02-19 17:30:31.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:30:31.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:30:31.953 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:30:31.954 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:30:31.955 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:30:31.957 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:30:31.957 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.2575ms
2025-02-19 17:30:31.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.2316ms
2025-02-19 17:30:31.959 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.5067ms
2025-02-19 17:30:33.785 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:33.785 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:33.787 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:33.788 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:33.790 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:33.791 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:33.792 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:33.792 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:33.793 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:33.793 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:33.795 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:33.796 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:33.797 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:33.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:33.798 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9211ms
2025-02-19 17:30:33.801 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:33.802 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:33.802 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.156ms
2025-02-19 17:30:33.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:33.810 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:33.815 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:33.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:33.818 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.4175ms
2025-02-19 17:30:33.819 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:33.820 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.6036ms
2025-02-19 17:30:34.163 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:34.166 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.167 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.1623ms
2025-02-19 17:30:34.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:30:34.185 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.186 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:34.188 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:34.189 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:34.190 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:30:34.192 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:34.193 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:34.194 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:34.194 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.482ms
2025-02-19 17:30:34.195 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:30:34.196 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.892ms
2025-02-19 17:30:34.681 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:34.683 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.683 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:34.684 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.9585ms
2025-02-19 17:30:34.687 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:30:34.690 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 6.6339ms
2025-02-19 17:30:34.692 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.695 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:34.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:30:34.696 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:34.698 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:30:34.699 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:34.700 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:30:34.700 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:30:34.702 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:30:34.703 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:30:34.704 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:34.704 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:30:34.705 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:30:34.706 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:30:34.708 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8681ms
2025-02-19 17:30:34.710 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:30:34.710 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:30:34.711 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.6079ms
2025-02-19 17:30:34.716 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:34.720 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:34.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:34.729 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:30:34.732 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:30:34.734 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.672ms
2025-02-19 17:30:34.735 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:30:34.736 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.6884ms
2025-02-19 17:30:34.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:30:34.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:30:34.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:30:34.766 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:30:34.767 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:30:34.769 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:30:34.769 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.238ms
2025-02-19 17:30:34.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.0916ms
2025-02-19 17:30:34.771 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.4964ms
2025-02-19 17:44:42.482 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:44:42.483 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:44:42.485 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:42.486 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:42.487 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:42.489 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:42.489 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:42.490 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:42.490 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:44:42.491 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:44:42.493 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:44:42.495 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:44:42.495 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:44:42.496 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2797ms
2025-02-19 17:44:42.497 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:42.497 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.9312ms
2025-02-19 17:44:42.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:44:42.525 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:42.529 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:42.531 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:42.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:42.536 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:44:42.537 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 43.1482ms
2025-02-19 17:44:42.538 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:42.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 56.0287ms
2025-02-19 17:44:43.023 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:44:43.024 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:44:43.025 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:43.027 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:43.029 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:43.030 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:43.031 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:43.032 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:43.033 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:44:43.034 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:44:43.035 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:44:43.037 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:44:43.039 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:44:43.039 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:44:43.039 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5387ms
2025-02-19 17:44:43.042 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:43.043 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.8297ms
2025-02-19 17:44:43.043 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:43.050 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:43.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:43.058 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:43.060 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:44:43.062 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.6823ms
2025-02-19 17:44:43.063 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:43.064 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.4861ms
2025-02-19 17:44:43.709 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:44:43.711 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:43.712 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7529ms
2025-02-19 17:44:43.718 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:44:43.720 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:43.721 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:43.723 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:43.724 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:44:43.725 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:44:43.726 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:44:43.727 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:44:43.729 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:44:43.730 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.5696ms
2025-02-19 17:44:43.731 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:44:43.732 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 13.6598ms
2025-02-19 17:44:45.198 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:44:45.199 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:44:45.200 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:45.201 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:45.202 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.9798ms
2025-02-19 17:44:45.202 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.4032ms
2025-02-19 17:44:45.207 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:44:45.208 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:44:45.209 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:45.210 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:44:45.210 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:45.211 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:44:45.213 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:45.214 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:44:45.215 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:45.216 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:45.216 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:44:45.217 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:44:45.218 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:44:45.220 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:44:45.221 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:44:45.222 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9305ms
2025-02-19 17:44:45.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:44:45.223 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:44:45.225 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6693ms
2025-02-19 17:44:45.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:45.231 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:45.239 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:45.244 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:44:45.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:44:45.248 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 28.4541ms
2025-02-19 17:44:45.249 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:44:45.250 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.7311ms
2025-02-19 17:44:45.369 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:44:45.369 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:44:45.370 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:44:45.372 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:44:45.373 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:44:45.375 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:44:45.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.7522ms
2025-02-19 17:44:45.376 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.2871ms
2025-02-19 17:44:45.377 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.0865ms
2025-02-19 17:45:04.797 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:45:04.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:45:04.799 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:04.801 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:04.803 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:04.804 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:04.805 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:04.806 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:04.806 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:45:04.807 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:45:04.808 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:45:04.810 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:45:04.811 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:45:04.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:45:04.812 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0441ms
2025-02-19 17:45:04.815 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:04.816 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.8955ms
2025-02-19 17:45:04.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:04.822 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:04.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:04.829 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:04.831 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:45:04.832 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.3258ms
2025-02-19 17:45:04.833 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:04.834 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7168ms
2025-02-19 17:45:05.337 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:45:05.338 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:45:05.339 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:05.340 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:05.342 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:05.344 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:05.345 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:05.345 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:05.346 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:45:05.347 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:45:05.348 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:45:05.349 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:45:05.350 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:45:05.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:45:05.351 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3575ms
2025-02-19 17:45:05.354 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:05.355 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:05.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.4181ms
2025-02-19 17:45:05.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:05.363 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:05.367 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:05.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:45:05.371 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.6518ms
2025-02-19 17:45:05.372 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:05.372 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.8811ms
2025-02-19 17:45:06.127 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:45:06.130 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:06.131 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2526ms
2025-02-19 17:45:06.146 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:45:06.147 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:06.148 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:06.151 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:06.151 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:45:06.152 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:45:06.153 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:45:06.155 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:45:06.156 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:45:06.157 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.14ms
2025-02-19 17:45:06.157 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:45:06.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.5793ms
2025-02-19 17:45:07.209 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:45:07.210 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:45:07.211 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:07.213 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:07.214 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7326ms
2025-02-19 17:45:07.215 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.8379ms
2025-02-19 17:45:07.218 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:45:07.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:45:07.221 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:07.223 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:45:07.224 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:07.224 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:45:07.226 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:07.228 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:45:07.229 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:07.230 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:07.231 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:45:07.232 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:45:07.235 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:45:07.236 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:45:07.237 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:45:07.240 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:45:07.241 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:07.241 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.8029ms
2025-02-19 17:45:07.244 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:45:07.245 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 25.277ms
2025-02-19 17:45:07.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:07.250 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:07.254 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:45:07.256 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:45:07.257 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.0333ms
2025-02-19 17:45:07.258 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:45:07.259 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 41.4547ms
2025-02-19 17:45:07.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:45:07.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:45:07.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:45:07.308 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:45:07.309 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:45:07.310 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:45:07.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.4744ms
2025-02-19 17:45:07.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.8569ms
2025-02-19 17:45:07.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 5.3628ms
2025-02-19 17:46:05.812 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:05.813 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:05.815 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:05.816 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:05.818 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:05.819 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:05.820 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:05.821 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:05.822 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:05.822 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:05.823 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:05.825 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:05.825 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:05.826 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3631ms
2025-02-19 17:46:05.827 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:05.828 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:05.831 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7209ms
2025-02-19 17:46:05.832 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:05.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:05.842 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:05.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:05.848 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:05.850 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.2588ms
2025-02-19 17:46:05.850 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:05.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.0348ms
2025-02-19 17:46:06.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:06.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:06.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:06.343 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:06.345 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:06.347 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:06.348 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:06.348 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:06.349 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:06.349 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:06.352 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:06.353 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:06.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:06.353 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:06.356 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2097ms
2025-02-19 17:46:06.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:06.357 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:06.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6855ms
2025-02-19 17:46:06.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:06.364 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:06.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:06.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:06.371 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.5943ms
2025-02-19 17:46:06.372 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:06.373 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.7325ms
2025-02-19 17:46:07.041 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:46:07.043 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:07.044 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6421ms
2025-02-19 17:46:07.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:46:07.051 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:07.052 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:07.054 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:07.055 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:46:07.056 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:46:07.057 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:07.058 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:07.059 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:07.059 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 1.9399ms
2025-02-19 17:46:07.060 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:46:07.060 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 11.0751ms
2025-02-19 17:46:08.193 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:08.193 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:08.194 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:08.195 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:08.196 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.1996ms
2025-02-19 17:46:08.196 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.7155ms
2025-02-19 17:46:08.200 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:08.200 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:08.202 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:08.203 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:08.204 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:08.204 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:08.206 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:08.207 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:08.208 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:08.208 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:08.209 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:08.210 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:08.212 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:08.213 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:08.213 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:08.214 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:08.217 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.1925ms
2025-02-19 17:46:08.218 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:08.218 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:08.221 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.6949ms
2025-02-19 17:46:08.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:08.229 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:08.233 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:08.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:08.237 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.0726ms
2025-02-19 17:46:08.238 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:08.239 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.4242ms
2025-02-19 17:46:08.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:46:08.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:46:08.333 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:46:08.335 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:46:08.338 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:46:08.336 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:46:08.338 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.16ms
2025-02-19 17:46:08.339 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.7937ms
2025-02-19 17:46:08.340 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.1494ms
2025-02-19 17:46:52.104 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:52.104 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:52.105 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:52.106 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:52.108 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:52.110 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:52.110 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:52.111 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:52.111 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:52.112 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:52.113 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:52.114 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:52.115 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:52.116 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1108ms
2025-02-19 17:46:52.116 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:52.117 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:52.119 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.6392ms
2025-02-19 17:46:52.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.125 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.128 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.132 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:52.134 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.4656ms
2025-02-19 17:46:52.135 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:52.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.2337ms
2025-02-19 17:46:52.640 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:52.641 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:52.642 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:52.644 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:52.646 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:52.647 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:52.648 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:52.648 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:52.649 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:52.650 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:52.651 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:52.653 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:52.655 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:52.656 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.1806ms
2025-02-19 17:46:52.656 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:52.657 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:52.660 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.4934ms
2025-02-19 17:46:52.661 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.666 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.669 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.674 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:52.676 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:52.677 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.0442ms
2025-02-19 17:46:52.678 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:52.679 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.8431ms
2025-02-19 17:46:53.307 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:46:53.310 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:53.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4912ms
2025-02-19 17:46:53.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:46:53.316 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:53.317 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:53.320 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:53.321 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:46:53.322 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:46:53.323 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:53.324 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:53.325 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:53.326 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.3444ms
2025-02-19 17:46:53.326 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:46:53.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 13.4567ms
2025-02-19 17:46:54.206 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:54.207 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:54.209 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:54.210 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:54.211 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.2284ms
2025-02-19 17:46:54.211 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.5887ms
2025-02-19 17:46:54.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:46:54.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:46:54.216 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:54.218 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:46:54.218 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:54.219 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:46:54.221 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:54.222 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:46:54.223 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:54.223 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:54.224 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:46:54.225 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:46:54.226 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:46:54.228 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:46:54.229 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:46:54.230 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:46:54.230 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5346ms
2025-02-19 17:46:54.233 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:46:54.234 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:54.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9321ms
2025-02-19 17:46:54.237 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:54.241 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:54.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:46:54.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:46:54.248 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3241ms
2025-02-19 17:46:54.249 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:46:54.250 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.6711ms
2025-02-19 17:46:54.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:46:54.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:46:54.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:46:54.348 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:46:54.349 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:46:54.351 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:46:54.351 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.8508ms
2025-02-19 17:46:54.352 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.462ms
2025-02-19 17:46:54.353 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.2321ms
2025-02-19 17:47:03.799 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:03.799 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:03.801 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:03.802 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:03.804 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:03.806 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:03.807 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:03.808 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:03.809 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:47:03.810 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:47:03.812 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:03.814 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:03.815 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:03.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:47:03.816 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3071ms
2025-02-19 17:47:03.819 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:03.820 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:03.820 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.8286ms
2025-02-19 17:47:03.824 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:03.828 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:03.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:03.833 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:47:03.834 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.8234ms
2025-02-19 17:47:03.836 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:03.837 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.3924ms
2025-02-19 17:47:04.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:04.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:04.351 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:04.353 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:04.354 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:04.355 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:04.356 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:04.357 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:04.357 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:47:04.358 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:47:04.358 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:04.360 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:04.361 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:04.362 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2314ms
2025-02-19 17:47:04.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:47:04.362 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:04.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.3646ms
2025-02-19 17:47:04.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:04.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:04.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:04.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:04.380 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:47:04.381 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.9875ms
2025-02-19 17:47:04.382 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:04.383 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.4054ms
2025-02-19 17:47:05.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:47:05.120 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:05.121 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7075ms
2025-02-19 17:47:05.125 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:47:05.128 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:05.128 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:05.130 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:05.131 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:47:05.132 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:47:05.133 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:05.134 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:05.135 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:05.135 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.5145ms
2025-02-19 17:47:05.136 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:47:05.137 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 11.5872ms
2025-02-19 17:47:06.192 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:06.192 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:06.194 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:06.196 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:06.196 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3029ms
2025-02-19 17:47:06.197 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.5625ms
2025-02-19 17:47:06.200 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:06.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:06.204 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:06.205 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:06.206 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:06.206 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:06.208 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:06.209 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:06.210 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:06.211 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:06.211 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:47:06.212 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:47:06.214 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:06.215 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:47:06.215 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:06.218 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:06.219 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4175ms
2025-02-19 17:47:06.219 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:06.220 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:06.222 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.7806ms
2025-02-19 17:47:06.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:06.228 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:06.232 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:06.234 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:47:06.236 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.0506ms
2025-02-19 17:47:06.237 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:06.238 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.945ms
2025-02-19 17:47:06.308 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:47:06.308 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:47:06.308 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:47:06.310 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:47:06.311 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:47:06.313 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:47:06.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.0198ms
2025-02-19 17:47:06.314 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.691ms
2025-02-19 17:47:06.314 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.2612ms
2025-02-19 17:47:33.234 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:33.235 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:33.236 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:33.238 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:33.240 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:33.241 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:33.242 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:33.243 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:33.244 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:47:33.245 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:47:33.247 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:33.248 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:33.249 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:47:33.249 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:33.252 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3754ms
2025-02-19 17:47:33.253 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:33.253 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:33.254 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.3056ms
2025-02-19 17:47:33.258 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:33.261 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:33.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:33.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:47:33.269 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.7299ms
2025-02-19 17:47:33.270 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:33.271 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.8295ms
2025-02-19 17:47:33.605 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:47:33.607 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:33.607 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1259ms
2025-02-19 17:47:33.616 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:47:33.618 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:33.619 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:33.624 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:33.626 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:47:33.628 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:47:33.631 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:33.632 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:33.633 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:33.634 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.834ms
2025-02-19 17:47:33.634 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:47:33.635 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 19.454ms
2025-02-19 17:47:34.139 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:34.140 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:34.141 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:34.142 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:34.143 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.5376ms
2025-02-19 17:47:34.143 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.3094ms
2025-02-19 17:47:34.145 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:47:34.147 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:47:34.148 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:34.150 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:47:34.151 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:34.151 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:47:34.153 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:34.156 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:47:34.159 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:34.159 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:34.160 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:47:34.161 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:47:34.163 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:47:34.164 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:47:34.164 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:47:34.165 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:47:34.165 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.36ms
2025-02-19 17:47:34.168 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:47:34.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 22.1595ms
2025-02-19 17:47:34.169 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:34.175 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:34.179 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:34.183 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:47:34.185 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:47:34.187 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.7383ms
2025-02-19 17:47:34.188 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:47:34.188 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.976ms
2025-02-19 17:47:34.223 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:47:34.223 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:47:34.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:47:34.226 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:47:34.228 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:47:34.229 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:47:34.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.0414ms
2025-02-19 17:47:34.230 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.0366ms
2025-02-19 17:47:34.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.7564ms
2025-02-19 17:48:56.436 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:48:56.436 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:48:56.438 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:48:56.439 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:48:56.440 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:48:56.442 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:48:56.444 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:48:56.444 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:48:56.445 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:48:56.446 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:48:56.447 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:48:56.449 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:48:56.450 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:48:56.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:48:56.451 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2904ms
2025-02-19 17:48:56.454 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:48:56.455 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:56.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.2465ms
2025-02-19 17:48:56.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:56.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:56.466 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:56.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:48:56.469 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.8606ms
2025-02-19 17:48:56.470 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:48:56.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.2513ms
2025-02-19 17:48:56.894 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:48:56.896 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:56.897 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7895ms
2025-02-19 17:48:56.951 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:48:56.953 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:56.954 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:48:56.956 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:48:56.957 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:48:56.958 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:48:56.959 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:48:56.960 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:48:56.961 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:48:56.962 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.5792ms
2025-02-19 17:48:56.963 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:48:56.963 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.7812ms
2025-02-19 17:48:57.415 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:48:57.415 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:48:57.417 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:57.419 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:57.420 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.0836ms
2025-02-19 17:48:57.421 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.6973ms
2025-02-19 17:48:57.423 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:48:57.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:48:57.426 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:57.427 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:48:57.428 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:48:57.429 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:48:57.430 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:48:57.432 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:48:57.432 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:48:57.433 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:48:57.435 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:48:57.435 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:48:57.437 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:48:57.439 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:48:57.439 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:48:57.439 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:48:57.441 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2015ms
2025-02-19 17:48:57.442 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:48:57.442 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:57.443 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.5211ms
2025-02-19 17:48:57.448 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:57.452 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:57.455 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:48:57.457 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:48:57.459 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.388ms
2025-02-19 17:48:57.459 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:48:57.460 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.4355ms
2025-02-19 17:48:57.486 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:48:57.487 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:48:57.487 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:48:57.489 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:48:57.490 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:48:57.492 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:48:57.493 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.0983ms
2025-02-19 17:48:57.493 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.2917ms
2025-02-19 17:48:57.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.8962ms
2025-02-19 17:49:37.532 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:37.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:37.534 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:37.536 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:37.538 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:37.540 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:37.540 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:37.541 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:37.542 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:37.542 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:37.544 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:37.548 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:37.549 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:37.550 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.4008ms
2025-02-19 17:49:37.550 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:37.551 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:37.553 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.0488ms
2025-02-19 17:49:37.554 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:37.559 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:37.563 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:37.567 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:37.569 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:37.570 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.1085ms
2025-02-19 17:49:37.571 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:37.572 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.8167ms
2025-02-19 17:49:38.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:38.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:38.089 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:38.091 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:38.093 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:38.094 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:38.095 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:38.096 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:38.097 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:38.097 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:38.098 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:38.100 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:38.101 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:38.102 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9468ms
2025-02-19 17:49:38.102 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:38.103 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:38.106 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.6714ms
2025-02-19 17:49:38.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:38.112 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:38.117 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:38.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:38.123 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:38.124 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.8581ms
2025-02-19 17:49:38.125 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:38.126 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.3171ms
2025-02-19 17:49:38.649 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:49:38.657 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:38.660 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 10.8809ms
2025-02-19 17:49:38.675 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:49:38.681 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:38.683 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:38.692 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:38.694 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:49:38.695 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:49:38.697 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:38.704 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:38.706 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:38.707 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 10.2055ms
2025-02-19 17:49:38.709 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:49:38.710 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 35.2968ms
2025-02-19 17:49:39.187 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:39.189 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:39.189 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:39.191 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:39.191 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8068ms
2025-02-19 17:49:39.192 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.3085ms
2025-02-19 17:49:39.195 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:39.196 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:39.197 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:39.199 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:39.200 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:39.200 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:39.202 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:39.204 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:39.205 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:39.206 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:39.206 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:39.207 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:39.209 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:39.210 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:39.211 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:39.211 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:39.214 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.1597ms
2025-02-19 17:49:39.215 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:39.216 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:39.216 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.171ms
2025-02-19 17:49:39.220 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:39.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:39.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:39.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:39.230 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.7148ms
2025-02-19 17:49:39.230 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:39.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7366ms
2025-02-19 17:49:39.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:49:39.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:49:39.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:49:39.260 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:49:39.261 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:49:39.263 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:49:39.263 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.2941ms
2025-02-19 17:49:39.264 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.9235ms
2025-02-19 17:49:39.265 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.5114ms
2025-02-19 17:49:49.509 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:49.509 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:49.510 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:49.511 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:49.513 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:49.515 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:49.516 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:49.518 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:49.519 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:49.520 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:49.521 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:49.523 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:49.525 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:49.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:49.526 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6229ms
2025-02-19 17:49:49.528 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:49.529 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.7633ms
2025-02-19 17:49:49.530 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:49.536 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:49.540 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:49.544 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:49.545 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:49.547 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.6875ms
2025-02-19 17:49:49.549 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:49.550 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.4027ms
2025-02-19 17:49:50.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:50.050 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:50.052 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:50.054 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:50.055 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:50.057 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:50.058 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:50.058 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:50.059 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:50.059 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:50.060 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:50.064 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:50.065 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:50.066 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.5586ms
2025-02-19 17:49:50.066 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:50.067 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:50.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.0339ms
2025-02-19 17:49:50.071 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:50.078 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:50.083 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:50.088 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:50.090 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:50.092 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.2506ms
2025-02-19 17:49:50.093 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:50.094 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 44.3752ms
2025-02-19 17:49:50.503 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:49:50.505 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:50.506 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7775ms
2025-02-19 17:49:50.538 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:49:50.541 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:50.541 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:50.544 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:50.545 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:49:50.546 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:49:50.548 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:50.549 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:50.550 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:50.551 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.2814ms
2025-02-19 17:49:50.552 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:49:50.553 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.1066ms
2025-02-19 17:49:51.010 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:51.010 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:51.011 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:51.012 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:51.013 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4398ms
2025-02-19 17:49:51.014 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.9439ms
2025-02-19 17:49:51.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:49:51.018 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:49:51.019 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:51.021 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:49:51.022 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:51.022 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:49:51.024 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:51.026 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:49:51.027 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:51.027 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:51.028 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:49:51.029 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:49:51.031 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:49:51.032 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:49:51.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:49:51.033 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:49:51.036 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.0093ms
2025-02-19 17:49:51.037 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:49:51.037 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:51.038 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.6822ms
2025-02-19 17:49:51.041 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:51.045 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:51.048 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:49:51.050 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:49:51.052 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.8523ms
2025-02-19 17:49:51.053 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:49:51.053 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.2777ms
2025-02-19 17:49:51.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:49:51.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:49:51.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:49:51.091 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:49:51.092 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:49:51.094 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:49:51.095 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.9876ms
2025-02-19 17:49:51.096 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 8.1853ms
2025-02-19 17:49:51.097 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 9.2411ms
2025-02-19 17:50:24.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:24.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:24.811 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:24.812 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:24.814 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:24.815 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:24.816 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:24.817 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:24.817 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:24.818 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:24.819 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:24.821 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:24.822 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:24.823 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9586ms
2025-02-19 17:50:24.823 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:24.824 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:24.826 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.5246ms
2025-02-19 17:50:24.828 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:24.833 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:24.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:24.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:24.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:24.844 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.6034ms
2025-02-19 17:50:24.845 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:24.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.1117ms
2025-02-19 17:50:25.348 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:25.348 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:25.351 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:25.352 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:25.354 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:25.355 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:25.356 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:25.357 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:25.358 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:25.358 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:25.360 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:25.362 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:25.363 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:25.364 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4392ms
2025-02-19 17:50:25.365 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:25.366 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:25.368 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.0189ms
2025-02-19 17:50:25.369 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:25.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:25.378 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:25.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:25.384 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:25.386 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.3329ms
2025-02-19 17:50:25.387 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:25.388 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.6357ms
2025-02-19 17:50:25.980 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:50:25.982 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:25.982 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7595ms
2025-02-19 17:50:25.991 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:50:25.993 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:25.993 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:25.996 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:25.998 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:50:26.000 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:50:26.002 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:26.004 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:26.005 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:26.006 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.0961ms
2025-02-19 17:50:26.008 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:50:26.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 18.3441ms
2025-02-19 17:50:26.555 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:26.557 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:26.558 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:26.559 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:26.560 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1225ms
2025-02-19 17:50:26.560 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.6478ms
2025-02-19 17:50:26.596 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:26.598 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:26.600 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:26.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:26.602 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:26.604 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:26.604 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:26.605 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:26.605 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:26.607 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:26.608 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:26.609 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:26.609 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:26.610 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:26.611 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:26.613 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4826ms
2025-02-19 17:50:26.614 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:26.615 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:26.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9009ms
2025-02-19 17:50:26.619 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:26.623 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:26.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:26.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:26.631 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:26.632 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2424ms
2025-02-19 17:50:26.633 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:26.634 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.0234ms
2025-02-19 17:50:26.666 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:50:26.666 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:50:26.666 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:50:26.668 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:50:26.671 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:50:26.674 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:50:26.674 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 8.2995ms
2025-02-19 17:50:26.675 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 8.6742ms
2025-02-19 17:50:26.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 9.6138ms
2025-02-19 17:50:51.226 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:51.226 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:51.228 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:51.230 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:51.231 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:51.232 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:51.233 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:51.234 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:51.235 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:51.235 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:51.236 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:51.238 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:51.239 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:51.239 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1295ms
2025-02-19 17:50:51.239 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:51.240 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:51.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.8157ms
2025-02-19 17:50:51.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.249 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.252 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.255 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.257 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:51.259 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.5419ms
2025-02-19 17:50:51.260 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:51.260 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.0681ms
2025-02-19 17:50:51.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:51.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:51.763 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:51.764 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:51.766 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:51.767 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:51.768 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:51.768 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:51.769 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:51.770 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:51.771 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:51.773 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:51.775 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:51.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:51.775 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0487ms
2025-02-19 17:50:51.778 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:51.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.779 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.0046ms
2025-02-19 17:50:51.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.787 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:51.794 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:51.796 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.2802ms
2025-02-19 17:50:51.797 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:51.798 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.383ms
2025-02-19 17:50:52.313 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:50:52.315 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.316 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7632ms
2025-02-19 17:50:52.324 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:50:52.327 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.328 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:52.330 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:52.331 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:50:52.334 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:50:52.337 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:52.338 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:52.339 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:52.340 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.9229ms
2025-02-19 17:50:52.341 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:50:52.342 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 17.9048ms
2025-02-19 17:50:52.864 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:52.864 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:52.866 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.867 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.868 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.9495ms
2025-02-19 17:50:52.868 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.073ms
2025-02-19 17:50:52.873 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:50:52.873 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:50:52.875 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.876 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:50:52.878 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:52.878 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:50:52.880 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:52.881 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:50:52.882 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:52.883 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:52.884 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:50:52.884 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:50:52.885 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:50:52.887 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:50:52.888 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:50:52.889 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.831ms
2025-02-19 17:50:52.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:50:52.890 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:50:52.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.0506ms
2025-02-19 17:50:52.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:52.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:52.902 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:52.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:50:52.907 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:50:52.908 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.7786ms
2025-02-19 17:50:52.909 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:50:52.910 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.0432ms
2025-02-19 17:50:52.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:50:52.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:50:52.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:50:52.937 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:50:52.938 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:50:52.940 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:50:52.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.5466ms
2025-02-19 17:50:52.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.0702ms
2025-02-19 17:50:52.942 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.6752ms
2025-02-19 17:51:08.426 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:08.426 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:08.428 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:08.430 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:08.431 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:08.433 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:08.434 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:08.435 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:08.436 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:51:08.437 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:51:08.438 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:08.440 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:08.441 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:08.442 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:51:08.442 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.898ms
2025-02-19 17:51:08.445 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:08.446 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:08.446 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.3872ms
2025-02-19 17:51:08.450 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:08.454 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:08.458 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:08.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:51:08.461 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.6818ms
2025-02-19 17:51:08.462 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:08.463 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.4224ms
2025-02-19 17:51:08.877 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:51:08.879 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:08.879 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3915ms
2025-02-19 17:51:08.911 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:51:08.913 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:08.914 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:08.918 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:08.919 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:51:08.920 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:51:08.922 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:08.923 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:08.924 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:08.925 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.9608ms
2025-02-19 17:51:08.926 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:51:08.927 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.9873ms
2025-02-19 17:51:09.382 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:09.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:09.385 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:09.386 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:09.387 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1228ms
2025-02-19 17:51:09.387 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.5645ms
2025-02-19 17:51:09.390 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:09.392 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:09.393 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:09.394 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:09.395 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:09.396 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:09.397 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:09.399 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:09.400 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:09.400 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:09.401 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:51:09.402 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:51:09.404 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:09.405 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:09.405 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:51:09.406 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:09.409 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1022ms
2025-02-19 17:51:09.410 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:09.410 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:09.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7703ms
2025-02-19 17:51:09.414 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:09.418 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:09.421 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:09.423 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:51:09.424 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.1129ms
2025-02-19 17:51:09.425 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:09.426 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.1249ms
2025-02-19 17:51:09.447 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:51:09.448 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:51:09.448 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:51:09.450 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:51:09.451 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:51:09.453 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:51:09.454 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.1109ms
2025-02-19 17:51:09.454 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.9481ms
2025-02-19 17:51:09.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.7936ms
2025-02-19 17:51:53.731 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:53.731 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:53.733 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:53.734 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:53.736 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:53.737 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:53.738 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:53.738 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:53.739 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:51:53.740 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:51:53.741 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:53.743 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:53.744 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:53.745 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:51:53.745 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1568ms
2025-02-19 17:51:53.748 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:53.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:53.749 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6784ms
2025-02-19 17:51:53.751 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:53.755 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:53.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:53.761 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:51:53.762 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.0137ms
2025-02-19 17:51:53.763 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:53.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.1146ms
2025-02-19 17:51:54.276 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:54.276 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:54.277 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:54.279 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:54.280 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:54.282 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:54.282 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:54.283 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:54.284 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:51:54.285 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:51:54.286 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:54.288 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:54.289 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:54.289 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:51:54.290 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.847ms
2025-02-19 17:51:54.293 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:54.294 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:54.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.2563ms
2025-02-19 17:51:54.298 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:54.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:54.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:54.308 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:51:54.310 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.6992ms
2025-02-19 17:51:54.311 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:54.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.6164ms
2025-02-19 17:51:54.840 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:51:54.845 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:54.847 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 7.4431ms
2025-02-19 17:51:54.879 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:51:54.881 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:54.882 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:54.883 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:54.884 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:51:54.885 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:51:54.886 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:54.887 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:54.887 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:54.888 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.1308ms
2025-02-19 17:51:54.889 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:51:54.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 11.2111ms
2025-02-19 17:51:55.391 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:55.392 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:55.393 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:55.394 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:55.395 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4526ms
2025-02-19 17:51:55.395 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7677ms
2025-02-19 17:51:55.404 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:51:55.404 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:51:55.406 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:55.407 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:51:55.407 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:55.408 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:51:55.409 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:55.410 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:51:55.411 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:55.412 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:55.413 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:51:55.414 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:51:55.415 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:51:55.416 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:51:55.417 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:51:55.418 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6074ms
2025-02-19 17:51:55.418 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:51:55.419 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:51:55.421 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6087ms
2025-02-19 17:51:55.422 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:55.427 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:55.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:55.433 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:51:55.435 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:51:55.435 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.4896ms
2025-02-19 17:51:55.436 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:51:55.437 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.4986ms
2025-02-19 17:51:55.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:51:55.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:51:55.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:51:55.461 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:51:55.463 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:51:55.464 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:51:55.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.0747ms
2025-02-19 17:51:55.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.4877ms
2025-02-19 17:51:55.466 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.3964ms
2025-02-19 17:52:10.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:10.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:10.918 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:10.920 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:10.921 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:10.923 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:10.924 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:10.925 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:10.925 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:52:10.926 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:52:10.927 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:10.929 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:10.930 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:10.931 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4554ms
2025-02-19 17:52:10.931 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:52:10.932 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:10.934 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9985ms
2025-02-19 17:52:10.935 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:10.940 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:10.943 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:10.947 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:10.948 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:52:10.949 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.4864ms
2025-02-19 17:52:10.950 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:10.951 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.9107ms
2025-02-19 17:52:11.451 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:11.452 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:11.453 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:11.455 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:11.456 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:11.458 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:11.459 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:11.459 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:11.460 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:52:11.461 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:52:11.463 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:11.465 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:11.466 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:11.466 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:52:11.466 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8883ms
2025-02-19 17:52:11.469 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:11.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:11.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.8818ms
2025-02-19 17:52:11.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:11.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:11.481 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:11.483 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:52:11.484 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.9592ms
2025-02-19 17:52:11.485 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:11.485 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.6524ms
2025-02-19 17:52:12.000 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:52:12.001 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.002 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2563ms
2025-02-19 17:52:12.013 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:52:12.014 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.015 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:12.018 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:12.019 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:52:12.019 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:52:12.022 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:12.023 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:12.024 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:12.025 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.7161ms
2025-02-19 17:52:12.026 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:52:12.027 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 14.4072ms
2025-02-19 17:52:12.548 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:12.548 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:12.549 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.551 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.551 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.5259ms
2025-02-19 17:52:12.552 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.4947ms
2025-02-19 17:52:12.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:12.558 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.559 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:12.561 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:12.561 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:12.563 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:12.564 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:12.565 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:12.565 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:52:12.567 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:12.568 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:12.569 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:12.570 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:12.570 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:52:12.571 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:12.575 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4809ms
2025-02-19 17:52:12.576 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:12.576 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:52:12.577 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.1618ms
2025-02-19 17:52:12.580 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:12.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:12.587 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:12.589 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:12.591 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:52:12.592 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.7719ms
2025-02-19 17:52:12.592 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:12.593 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.5301ms
2025-02-19 17:52:12.620 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:52:12.623 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:52:12.624 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.4825ms
2025-02-19 17:52:12.625 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:52:12.629 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:52:12.630 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:52:12.639 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:52:12.640 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 14.6011ms
2025-02-19 17:52:12.642 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 12.5142ms
2025-02-19 17:52:44.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:44.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:44.008 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:44.009 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:44.011 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:44.012 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:44.013 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:44.014 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:44.015 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:52:44.016 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:52:44.017 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:44.020 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:44.021 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:44.022 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:52:44.022 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7823ms
2025-02-19 17:52:44.025 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:44.026 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.026 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.7422ms
2025-02-19 17:52:44.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.034 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.040 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.043 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:52:44.044 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.4471ms
2025-02-19 17:52:44.045 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:44.047 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.2107ms
2025-02-19 17:52:44.386 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:52:44.388 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.389 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8887ms
2025-02-19 17:52:44.412 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:52:44.416 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.420 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:44.422 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:44.423 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:52:44.424 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:52:44.427 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:44.427 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:44.428 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:44.429 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.6057ms
2025-02-19 17:52:44.430 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:52:44.431 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 19.0172ms
2025-02-19 17:52:44.916 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:44.916 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:44.918 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.919 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.920 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6731ms
2025-02-19 17:52:44.920 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.1359ms
2025-02-19 17:52:44.922 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:52:44.924 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:52:44.925 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.927 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:52:44.928 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:44.928 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:52:44.929 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:44.931 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:52:44.932 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:44.933 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:44.933 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:52:44.934 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:52:44.936 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:52:44.937 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:52:44.937 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:52:44.938 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:52:44.940 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0082ms
2025-02-19 17:52:44.941 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.941 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:52:44.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.319ms
2025-02-19 17:52:44.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.949 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.952 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:52:44.954 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:52:44.955 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2788ms
2025-02-19 17:52:44.956 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:52:44.957 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.6288ms
2025-02-19 17:52:44.971 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:52:44.971 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:52:44.971 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:52:44.973 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:52:44.975 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:52:44.976 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:52:44.977 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.1085ms
2025-02-19 17:52:44.978 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.9572ms
2025-02-19 17:52:44.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.8176ms
2025-02-19 17:53:09.237 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:53:09.238 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:53:09.240 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:09.241 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:09.242 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:09.244 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:09.245 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:09.246 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:09.246 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:53:09.247 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:53:09.249 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:53:09.251 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:53:09.252 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:53:09.252 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:53:09.253 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3389ms
2025-02-19 17:53:09.256 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:09.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.3741ms
2025-02-19 17:53:09.257 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.262 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.267 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.270 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.272 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:53:09.273 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.5836ms
2025-02-19 17:53:09.274 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:09.274 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.1592ms
2025-02-19 17:53:09.773 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:53:09.773 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:53:09.775 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:09.776 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:09.778 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:09.780 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:09.781 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:09.782 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:09.782 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:53:09.783 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:53:09.784 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:53:09.786 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:53:09.787 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:53:09.788 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:53:09.788 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4123ms
2025-02-19 17:53:09.792 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:09.793 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.7325ms
2025-02-19 17:53:09.793 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:09.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:53:09.809 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.1229ms
2025-02-19 17:53:09.810 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:09.811 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.588ms
2025-02-19 17:53:10.330 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:53:10.333 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.334 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4716ms
2025-02-19 17:53:10.365 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:53:10.368 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.369 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:10.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:10.372 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:53:10.373 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:53:10.375 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:53:10.375 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:53:10.376 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:53:10.377 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.6796ms
2025-02-19 17:53:10.378 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:53:10.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 14.1701ms
2025-02-19 17:53:10.903 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:53:10.904 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:53:10.905 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.906 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.906 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.7503ms
2025-02-19 17:53:10.907 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.4164ms
2025-02-19 17:53:10.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:53:10.912 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:53:10.914 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.915 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:53:10.916 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:10.917 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:53:10.918 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:10.920 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:53:10.921 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:10.921 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:10.922 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:53:10.923 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:53:10.925 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:53:10.926 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:53:10.926 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:53:10.927 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:53:10.929 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9431ms
2025-02-19 17:53:10.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:10.930 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:53:10.933 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.7785ms
2025-02-19 17:53:10.935 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:10.938 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:10.941 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:53:10.943 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:53:10.944 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.5295ms
2025-02-19 17:53:10.945 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:53:10.946 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.0728ms
2025-02-19 17:53:10.991 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:53:10.992 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:53:10.992 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:53:10.994 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:53:10.995 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:53:10.996 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:53:10.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.5734ms
2025-02-19 17:53:10.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.6263ms
2025-02-19 17:53:10.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.2354ms
2025-02-19 17:54:58.192 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:54:58.193 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:54:58.194 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:54:58.196 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:54:58.197 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:54:58.199 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:54:58.199 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:54:58.200 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:54:58.201 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:54:58.201 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:54:58.203 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:54:58.204 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:54:58.205 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:54:58.206 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4537ms
2025-02-19 17:54:58.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:54:58.207 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:54:58.209 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.8337ms
2025-02-19 17:54:58.211 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:58.216 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:58.220 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:58.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:58.225 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:54:58.226 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.4602ms
2025-02-19 17:54:58.227 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:54:58.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.9209ms
2025-02-19 17:54:58.655 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:54:58.657 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:58.658 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5698ms
2025-02-19 17:54:58.713 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:54:58.715 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:58.716 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:54:58.718 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:54:58.719 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:54:58.719 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:54:58.721 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:54:58.722 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:54:58.725 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:54:58.727 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3716ms
2025-02-19 17:54:58.728 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:54:58.730 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 16.2214ms
2025-02-19 17:54:59.187 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:54:59.188 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:54:59.190 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:59.192 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:59.192 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.761ms
2025-02-19 17:54:59.193 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.6956ms
2025-02-19 17:54:59.195 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:54:59.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:54:59.198 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:59.200 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:54:59.200 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:54:59.201 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:54:59.206 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:54:59.208 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:54:59.209 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:54:59.209 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:54:59.210 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:54:59.211 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:54:59.214 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:54:59.214 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:54:59.214 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:54:59.215 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:54:59.218 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3293ms
2025-02-19 17:54:59.219 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:54:59.219 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:59.220 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 22.8806ms
2025-02-19 17:54:59.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:59.228 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:59.232 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:54:59.234 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:54:59.235 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.2242ms
2025-02-19 17:54:59.236 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:54:59.237 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 41.9245ms
2025-02-19 17:54:59.261 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:54:59.261 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:54:59.261 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:54:59.264 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:54:59.266 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:54:59.267 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:54:59.268 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.7379ms
2025-02-19 17:54:59.269 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.697ms
2025-02-19 17:54:59.270 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 8.5401ms
2025-02-19 17:55:33.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:55:33.822 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:55:33.823 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:33.825 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:33.827 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:33.829 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:33.830 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:33.830 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:33.831 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:55:33.832 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:55:33.834 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:55:33.836 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:55:33.837 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:55:33.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:55:33.838 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4272ms
2025-02-19 17:55:33.841 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:33.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:33.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.9009ms
2025-02-19 17:55:33.846 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:33.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:33.853 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:33.855 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:55:33.857 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.6419ms
2025-02-19 17:55:33.858 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:33.859 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.175ms
2025-02-19 17:55:34.387 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:55:34.388 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:55:34.390 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:34.391 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:34.393 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:34.395 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:34.395 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:34.396 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:34.397 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:55:34.397 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:55:34.398 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:55:34.400 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:55:34.401 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:55:34.402 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3588ms
2025-02-19 17:55:34.402 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:55:34.403 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:34.406 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.1942ms
2025-02-19 17:55:34.407 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:34.411 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:34.414 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:34.419 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:34.421 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:55:34.422 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.1431ms
2025-02-19 17:55:34.422 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:34.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.5841ms
2025-02-19 17:55:34.787 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:55:34.790 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:34.790 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.583ms
2025-02-19 17:55:34.808 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:55:34.810 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:34.811 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:34.814 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:34.814 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:55:34.815 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:55:34.816 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:55:34.817 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:55:34.818 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:55:34.819 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.7994ms
2025-02-19 17:55:34.820 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:55:34.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.8511ms
2025-02-19 17:55:35.307 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:55:35.307 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:55:35.309 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:35.310 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:35.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.049ms
2025-02-19 17:55:35.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.4211ms
2025-02-19 17:55:35.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:55:35.315 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:55:35.316 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:35.318 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:55:35.319 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:35.319 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:55:35.321 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:35.323 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:55:35.324 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:35.325 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:35.325 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:55:35.326 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:55:35.329 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:55:35.330 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:55:35.330 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:55:35.331 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:55:35.333 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2798ms
2025-02-19 17:55:35.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:35.334 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:55:35.337 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.3725ms
2025-02-19 17:55:35.338 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:35.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:35.348 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:55:35.350 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:55:35.351 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.7966ms
2025-02-19 17:55:35.352 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:55:35.353 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.9962ms
2025-02-19 17:55:35.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:55:35.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:55:35.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:55:35.389 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:55:35.390 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:55:35.392 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:55:35.393 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.0499ms
2025-02-19 17:55:35.394 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.2414ms
2025-02-19 17:55:35.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 9.432ms
2025-02-19 17:59:05.490 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:05.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:05.493 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:05.495 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:05.498 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:05.500 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:05.501 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:05.502 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:05.503 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:05.504 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:05.505 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:05.509 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:05.510 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:05.511 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:05.511 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.273ms
2025-02-19 17:59:05.515 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:05.516 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:05.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 25.9683ms
2025-02-19 17:59:05.520 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:05.525 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:05.529 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:05.532 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:05.533 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.684ms
2025-02-19 17:59:05.534 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:05.536 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 44.6237ms
2025-02-19 17:59:06.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:06.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:06.038 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:06.040 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:06.041 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:06.042 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:06.043 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:06.043 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:06.044 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:06.044 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:06.046 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:06.047 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:06.048 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:06.049 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5577ms
2025-02-19 17:59:06.050 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:06.051 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:06.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.7493ms
2025-02-19 17:59:06.055 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:06.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:06.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:06.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:06.070 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:06.071 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.3016ms
2025-02-19 17:59:06.072 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:06.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7426ms
2025-02-19 17:59:06.575 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:06.588 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:06.596 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 21.1634ms
2025-02-19 17:59:06.619 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:06.622 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:06.623 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:06.625 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:06.626 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:06.628 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:59:06.629 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:06.630 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:06.631 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:06.631 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 1.8536ms
2025-02-19 17:59:06.632 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:06.633 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 13.7139ms
2025-02-19 17:59:07.126 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:07.128 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:07.128 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:07.129 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:07.130 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.7136ms
2025-02-19 17:59:07.130 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6434ms
2025-02-19 17:59:07.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:07.135 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:07.136 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:07.138 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:07.139 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:07.139 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:07.141 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:07.142 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:07.143 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:07.144 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:07.144 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:07.145 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:07.148 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:07.148 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:07.149 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:07.149 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:07.152 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2173ms
2025-02-19 17:59:07.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:07.153 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:07.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.9196ms
2025-02-19 17:59:07.156 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:07.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:07.163 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:07.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:07.166 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.909ms
2025-02-19 17:59:07.167 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:07.167 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.2117ms
2025-02-19 17:59:07.213 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:59:07.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:59:07.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:59:07.216 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:59:07.218 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:59:07.222 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:59:07.223 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 9.891ms
2025-02-19 17:59:07.224 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 9.4288ms
2025-02-19 17:59:07.226 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 10.6699ms
2025-02-19 17:59:18.784 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:18.784 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:18.786 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:18.787 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:18.789 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:18.791 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:18.792 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:18.792 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:18.793 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:18.794 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:18.795 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:18.797 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:18.798 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:18.799 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6445ms
2025-02-19 17:59:18.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:18.800 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:18.802 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9503ms
2025-02-19 17:59:18.804 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:18.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:18.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:18.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:18.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:18.819 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.7035ms
2025-02-19 17:59:18.820 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:18.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.894ms
2025-02-19 17:59:19.243 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:19.245 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.246 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9718ms
2025-02-19 17:59:19.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:19.260 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.261 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:19.263 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:19.264 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:19.264 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:59:19.266 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:19.267 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:19.268 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:19.269 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.7638ms
2025-02-19 17:59:19.270 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:19.271 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 12.7913ms
2025-02-19 17:59:19.755 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:19.755 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:19.757 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.758 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.758 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.3223ms
2025-02-19 17:59:19.759 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.9389ms
2025-02-19 17:59:19.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:19.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:19.765 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.768 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:19.768 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:19.769 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:19.770 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:19.772 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:19.773 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:19.774 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:19.777 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:19.774 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:19.781 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:19.783 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:19.785 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:19.785 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:19.786 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.7845ms
2025-02-19 17:59:19.791 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:19.792 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 29.7483ms
2025-02-19 17:59:19.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:19.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:19.804 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:19.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:19.810 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:19.811 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.1439ms
2025-02-19 17:59:19.812 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:19.813 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 51.8469ms
2025-02-19 17:59:19.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:59:19.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:59:19.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:59:19.848 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:59:19.849 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:59:19.850 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:59:19.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.1886ms
2025-02-19 17:59:19.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.6861ms
2025-02-19 17:59:19.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.241ms
2025-02-19 17:59:36.486 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:36.487 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:36.489 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:36.490 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:36.491 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:36.493 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:36.494 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:36.494 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:36.495 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:36.495 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:36.497 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:36.498 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:36.500 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:36.501 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:36.501 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6148ms
2025-02-19 17:59:36.504 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:36.505 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:36.505 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.5279ms
2025-02-19 17:59:36.508 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:36.512 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:36.517 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:36.519 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:36.521 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.9181ms
2025-02-19 17:59:36.522 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:36.523 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.6197ms
2025-02-19 17:59:37.025 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:37.025 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:37.027 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:37.028 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:37.030 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:37.031 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:37.032 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:37.033 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:37.033 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:37.034 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:37.035 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:37.038 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:37.039 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:37.040 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:37.040 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.5276ms
2025-02-19 17:59:37.044 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:37.044 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:37.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.3588ms
2025-02-19 17:59:37.051 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:37.060 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:37.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:37.066 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:37.068 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 30.6822ms
2025-02-19 17:59:37.069 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:37.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 44.5549ms
2025-02-19 17:59:37.439 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:37.441 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:37.442 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4546ms
2025-02-19 17:59:37.463 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 17:59:37.465 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:37.465 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:37.467 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:37.468 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:37.469 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 17:59:37.470 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:37.471 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:37.472 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:37.473 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.0442ms
2025-02-19 17:59:37.476 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 17:59:37.477 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 14.031ms
2025-02-19 17:59:37.987 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:37.988 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:37.989 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:37.991 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:37.991 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6912ms
2025-02-19 17:59:37.991 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.7212ms
2025-02-19 17:59:37.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 17:59:37.996 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 17:59:37.998 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:38.001 +01:00 [INF] CORS policy execution successful.
2025-02-19 17:59:38.002 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:38.003 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 17:59:38.005 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:38.008 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 17:59:38.008 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:38.009 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:38.010 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 17:59:38.011 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 17:59:38.014 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 17:59:38.015 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 17:59:38.015 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 17:59:38.018 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 17:59:38.019 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.2252ms
2025-02-19 17:59:38.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:38.021 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 17:59:38.023 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 27.1864ms
2025-02-19 17:59:38.024 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:38.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:38.034 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 17:59:38.036 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 17:59:38.038 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.5624ms
2025-02-19 17:59:38.039 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 17:59:38.040 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 44.9956ms
2025-02-19 17:59:38.059 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 17:59:38.059 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 17:59:38.059 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 17:59:38.061 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 17:59:38.062 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 17:59:38.064 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 17:59:38.066 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.1396ms
2025-02-19 17:59:38.067 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.2671ms
2025-02-19 17:59:38.068 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 8.8556ms
2025-02-19 18:00:26.676 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:26.677 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:26.679 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:26.680 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:26.682 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:26.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:26.684 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:26.685 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:26.686 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:26.686 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:26.688 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:26.690 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:26.691 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:26.692 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2802ms
2025-02-19 18:00:26.693 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:26.694 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.7252ms
2025-02-19 18:00:26.701 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:26.705 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:26.709 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:26.712 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:26.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:26.717 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:26.718 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 28.8068ms
2025-02-19 18:00:26.719 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:26.720 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.9929ms
2025-02-19 18:00:27.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:27.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:27.226 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:27.227 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:27.229 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:27.231 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:27.232 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:27.233 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:27.233 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:27.234 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:27.235 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:27.237 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:27.239 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:27.239 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:27.240 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.193ms
2025-02-19 18:00:27.243 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:27.244 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:27.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.6614ms
2025-02-19 18:00:27.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:27.252 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:27.256 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:27.258 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:27.260 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.3469ms
2025-02-19 18:00:27.261 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:27.262 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.2905ms
2025-02-19 18:00:27.841 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:27.845 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:27.846 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.174ms
2025-02-19 18:00:27.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:27.884 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:27.886 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:27.888 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:27.889 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:27.890 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:00:27.892 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:27.893 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:27.895 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:27.896 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.5167ms
2025-02-19 18:00:27.897 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:27.898 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 17.1841ms
2025-02-19 18:00:28.421 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:28.422 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:28.423 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:28.424 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:28.425 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.0514ms
2025-02-19 18:00:28.426 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.1376ms
2025-02-19 18:00:28.429 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:28.430 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:28.431 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:28.432 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:28.433 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:28.433 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:28.435 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:28.437 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:28.438 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:28.438 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:28.439 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:28.440 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:28.442 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:28.443 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:28.443 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:28.444 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:28.447 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4029ms
2025-02-19 18:00:28.448 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:28.448 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:28.448 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.197ms
2025-02-19 18:00:28.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:28.455 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:28.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:28.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:28.462 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.6753ms
2025-02-19 18:00:28.463 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:28.464 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.2638ms
2025-02-19 18:00:28.490 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:00:28.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:00:28.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:00:28.493 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:00:28.494 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:00:28.496 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:00:28.498 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.404ms
2025-02-19 18:00:28.499 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 8.1363ms
2025-02-19 18:00:28.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 9.2274ms
2025-02-19 18:00:46.771 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:46.772 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:46.774 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:46.775 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:46.776 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:46.777 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:46.778 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:46.779 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:46.780 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:46.780 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:46.781 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:46.784 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:46.784 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:46.785 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:46.785 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0015ms
2025-02-19 18:00:46.788 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:46.789 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:46.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6319ms
2025-02-19 18:00:46.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:46.796 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:46.800 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:46.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:46.802 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.7604ms
2025-02-19 18:00:46.804 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:46.804 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.4533ms
2025-02-19 18:00:47.225 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:47.227 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.228 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6787ms
2025-02-19 18:00:47.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:47.259 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.260 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:47.263 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:47.264 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:47.266 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:00:47.268 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:47.269 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:47.269 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:47.270 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.9034ms
2025-02-19 18:00:47.271 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:47.272 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 14.5301ms
2025-02-19 18:00:47.745 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:47.745 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:47.746 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.748 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.749 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.7668ms
2025-02-19 18:00:47.749 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.135ms
2025-02-19 18:00:47.751 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:47.753 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:47.755 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.756 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:47.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:47.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:47.759 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:47.761 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:47.762 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:47.763 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:47.763 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:47.764 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:47.765 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:47.766 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:47.767 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:47.767 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:47.769 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7413ms
2025-02-19 18:00:47.770 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:47.770 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:47.773 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.0815ms
2025-02-19 18:00:47.774 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:47.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:47.783 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:47.785 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:47.786 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.6529ms
2025-02-19 18:00:47.787 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:47.788 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.7757ms
2025-02-19 18:00:47.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:00:47.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:00:47.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:00:47.828 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:00:47.830 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:00:47.831 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:00:47.832 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 8.2838ms
2025-02-19 18:00:47.833 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 9.2466ms
2025-02-19 18:00:47.834 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 9.8417ms
2025-02-19 18:00:58.121 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:58.122 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:58.124 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:58.125 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:58.126 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:58.128 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:58.129 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:58.130 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:58.130 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:58.131 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:58.132 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:58.135 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:58.136 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:58.137 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.0685ms
2025-02-19 18:00:58.137 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:58.138 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:58.141 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.2138ms
2025-02-19 18:00:58.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.149 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.153 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.155 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:58.156 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.5991ms
2025-02-19 18:00:58.157 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:58.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.9598ms
2025-02-19 18:00:58.677 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:58.678 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:58.679 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:58.681 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:58.682 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:58.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:58.685 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:58.685 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:58.686 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:58.687 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:58.689 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:58.692 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:58.693 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:58.694 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:58.695 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.8234ms
2025-02-19 18:00:58.698 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:58.699 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.699 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.6838ms
2025-02-19 18:00:58.703 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.710 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.714 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:58.716 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:58.717 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.5803ms
2025-02-19 18:00:58.718 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:58.719 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 41.1392ms
2025-02-19 18:00:59.380 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:59.383 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.385 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.9166ms
2025-02-19 18:00:59.434 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:00:59.436 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.436 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:59.438 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:59.439 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:59.440 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:00:59.442 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:59.442 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:59.443 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:59.444 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.0296ms
2025-02-19 18:00:59.445 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:00:59.446 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 11.3539ms
2025-02-19 18:00:59.939 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:59.940 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:59.941 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.943 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.943 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.9094ms
2025-02-19 18:00:59.944 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.1057ms
2025-02-19 18:00:59.946 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:00:59.947 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:00:59.949 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.950 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:00:59.950 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:59.951 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:00:59.953 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:59.954 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:00:59.955 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:59.955 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:59.956 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:00:59.957 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:00:59.959 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:00:59.960 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:00:59.960 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:00:59.961 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:00:59.961 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.0913ms
2025-02-19 18:00:59.964 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:00:59.965 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:59.965 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.5397ms
2025-02-19 18:00:59.968 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:59.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:59.975 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:00:59.977 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:00:59.978 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.9424ms
2025-02-19 18:00:59.979 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:00:59.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.8573ms
2025-02-19 18:01:00.029 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:01:00.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:01:00.031 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:01:00.032 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:01:00.034 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:01:00.036 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:01:00.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.2174ms
2025-02-19 18:01:00.038 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.3319ms
2025-02-19 18:01:00.039 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.8969ms
2025-02-19 18:01:39.227 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:39.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:39.229 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:39.231 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:39.233 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:39.235 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:39.236 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:39.237 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:39.238 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:01:39.239 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:01:39.240 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:01:39.243 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:01:39.244 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:01:39.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:01:39.245 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.9415ms
2025-02-19 18:01:39.249 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:39.250 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.252 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 24.7013ms
2025-02-19 18:01:39.256 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.259 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.263 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.265 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:01:39.266 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.3232ms
2025-02-19 18:01:39.267 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:39.268 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.6853ms
2025-02-19 18:01:39.780 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:39.781 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:39.782 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:39.784 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:39.785 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:39.787 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:39.788 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:39.788 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:39.789 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:01:39.789 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:01:39.790 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:01:39.792 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:01:39.793 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:01:39.794 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:01:39.794 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7836ms
2025-02-19 18:01:39.797 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:39.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.798 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9072ms
2025-02-19 18:01:39.803 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.808 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:39.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:01:39.816 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.2932ms
2025-02-19 18:01:39.817 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:39.818 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.9697ms
2025-02-19 18:01:40.386 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:01:40.388 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.389 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.764ms
2025-02-19 18:01:40.403 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:01:40.408 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.409 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:40.411 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:40.412 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:01:40.413 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:01:40.414 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:01:40.415 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:01:40.416 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:01:40.417 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.4044ms
2025-02-19 18:01:40.418 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:01:40.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.4433ms
2025-02-19 18:01:40.939 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:40.940 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:40.943 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.946 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.948 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 8.168ms
2025-02-19 18:01:40.947 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.8944ms
2025-02-19 18:01:40.952 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:40.956 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.954 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:40.957 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:40.959 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:40.962 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:40.963 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:40.964 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:40.967 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:40.967 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:01:40.968 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:40.970 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:01:40.973 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:01:40.974 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:01:40.971 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:01:40.975 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.1159ms
2025-02-19 18:01:40.978 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:40.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 27.4448ms
2025-02-19 18:01:40.980 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:01:40.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:40.991 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:40.995 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:40.999 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:41.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:01:41.002 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.3285ms
2025-02-19 18:01:41.002 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:41.003 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 49.2317ms
2025-02-19 18:01:41.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:01:41.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:01:41.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:01:41.032 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:01:41.033 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:01:41.035 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:01:41.035 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.1574ms
2025-02-19 18:01:41.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.3554ms
2025-02-19 18:01:41.039 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 8.116ms
2025-02-19 18:01:45.012 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-02-19 18:01:45.014 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:45.015 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 3.7451ms
2025-02-19 18:01:45.018 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-02-19 18:01:45.020 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:45.021 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:45.023 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:45.025 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 18:01:45.029 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-02-19 18:01:45.418 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 18:01:45.425 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-02-19 18:01:45.431 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 400.2151ms
2025-02-19 18:01:45.432 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 18:01:45.432 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 414.0012ms
2025-02-19 18:01:46.545 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 18:01:46.547 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.548 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3497ms
2025-02-19 18:01:46.552 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 48
2025-02-19 18:01:46.554 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.554 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:01:46.556 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:01:46.557 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 18:01:46.563 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 18:01:46.593 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 18:01:46.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-02-19 18:01:46.818 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 253.8755ms
2025-02-19 18:01:46.820 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 18:01:46.821 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 269.0184ms
2025-02-19 18:01:46.826 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:01:46.828 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.828 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.208ms
2025-02-19 18:01:46.840 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:01:46.841 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.853 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:46.854 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.855 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.5005ms
2025-02-19 18:01:46.857 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:46.860 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.861 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.2778ms
2025-02-19 18:01:46.865 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:01:46.866 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:01:46.867 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.868 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:01:46.869 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:46.871 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:01:46.873 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:01:46.875 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:46.877 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:46.878 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:01:46.880 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:01:46.884 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:01:46.887 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:01:46.892 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 21.6041ms
2025-02-19 18:01:46.893 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:01:46.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 53.9853ms
2025-02-19 18:01:46.911 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:01:46.916 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:46.919 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:46.923 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:46.926 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:01:46.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:01:46.930 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:01:46.931 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 51.6282ms
2025-02-19 18:01:46.932 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:01:46.933 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 60.06ms
2025-02-19 18:01:46.943 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:01:46.943 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 71.15ms
2025-02-19 18:01:46.946 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:01:46.946 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:01:46.947 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:01:46.949 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:01:46.950 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.3654ms
2025-02-19 18:01:46.950 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 85.8192ms
2025-02-19 18:01:46.952 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.3558ms
2025-02-19 18:01:46.954 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:01:46.960 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:01:46.961 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.1971ms
2025-02-19 18:01:46.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-02-19 18:01:46.979 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-02-19 18:01:46.980 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.8658ms
2025-02-19 18:01:53.121 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-02-19 18:01:53.123 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:53.124 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.4468ms
2025-02-19 18:01:53.125 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-02-19 18:01:53.127 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:01:53.128 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 18:01:53.129 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-02-19 18:01:53.157 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-02-19 18:01:53.159 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-02-19 18:01:53.161 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 30.2067ms
2025-02-19 18:01:53.162 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-02-19 18:01:53.163 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 37.7595ms
2025-02-19 18:02:07.220 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-02-19 18:02:07.221 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.222 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.1834ms
2025-02-19 18:02:07.224 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-02-19 18:02:07.225 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.226 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 18:02:07.227 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-02-19 18:02:07.231 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-02-19 18:02:07.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-02-19 18:02:07.403 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 175.0269ms
2025-02-19 18:02:07.404 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-02-19 18:02:07.404 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 180.5994ms
2025-02-19 18:02:07.408 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:02:07.409 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.410 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.233ms
2025-02-19 18:02:07.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:02:07.427 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.428 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:02:07.429 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:02:07.433 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:02:07.433 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:02:07.434 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:02:07.435 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.437 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:02:07.438 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.439 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.0262ms
2025-02-19 18:02:07.439 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.8593ms
2025-02-19 18:02:07.440 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.7967ms
2025-02-19 18:02:07.444 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:02:07.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:02:07.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:02:07.447 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 22.1006ms
2025-02-19 18:02:07.448 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.450 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:07.453 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:02:07.453 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:02:07.454 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:02:07.454 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:02:07.458 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:02:07.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:02:07.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:02:07.463 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.04ms
2025-02-19 18:02:07.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:02:07.464 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:02:07.467 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.3835ms
2025-02-19 18:02:07.468 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:02:07.472 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:02:07.475 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:02:07.476 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:02:07.477 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:02:07.479 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.4254ms
2025-02-19 18:02:07.481 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:02:07.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.4925ms
2025-02-19 18:02:07.487 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:02:07.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 11.9146ms
2025-02-19 18:02:07.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:02:07.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:02:07.491 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:02:07.492 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:02:07.493 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 3.8458ms
2025-02-19 18:02:07.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.6338ms
2025-02-19 18:02:07.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:02:07.500 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:02:07.501 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 4.2508ms
2025-02-19 18:02:10.278 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:02:10.279 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:10.280 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.01ms
2025-02-19 18:02:10.282 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:02:10.283 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:10.289 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:02:10.293 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:02:10.354 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:02:10.359 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:02:10.367 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 72.8246ms
2025-02-19 18:02:10.369 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:02:10.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 87.957ms
2025-02-19 18:02:10.381 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:02:10.381 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:02:10.383 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:02:10.385 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.8544ms
2025-02-19 18:02:10.388 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:02:10.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.2433ms
2025-02-19 18:02:11.350 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:02:11.352 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:11.353 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.1108ms
2025-02-19 18:02:11.356 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:02:11.358 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:11.361 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:02:11.364 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:02:11.394 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:02:11.398 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:02:11.404 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 38.3389ms
2025-02-19 18:02:11.405 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:02:11.407 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 50.7038ms
2025-02-19 18:02:11.415 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:02:11.417 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:02:11.418 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.0046ms
2025-02-19 18:02:11.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:02:11.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:02:11.912 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:02:11.914 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:02:11.914 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.1234ms
2025-02-19 18:02:11.915 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.7887ms
2025-02-19 18:02:11.936 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:02:11.938 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:11.939 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7247ms
2025-02-19 18:02:11.941 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:02:11.943 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:11.945 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:02:11.946 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:02:11.951 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:02:11.954 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:02:11.955 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.7062ms
2025-02-19 18:02:11.956 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:02:11.957 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 15.1762ms
2025-02-19 18:02:11.983 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:02:11.983 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:02:11.986 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:02:11.988 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:02:11.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.6697ms
2025-02-19 18:02:11.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.5034ms
2025-02-19 18:02:13.198 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 18:02:13.200 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:13.200 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 204 null null 2.6217ms
2025-02-19 18:02:13.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 18:02:13.204 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:13.205 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 18:02:13.207 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:02:13.237 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-02-19 18:02:13.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-02-19 18:02:13.247 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 35.9302ms
2025-02-19 18:02:13.248 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 18:02:13.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 200 null application/json; charset=utf-8 46.7849ms
2025-02-19 18:02:13.253 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 18:02:13.255 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:13.255 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 204 null null 2.5709ms
2025-02-19 18:02:13.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 18:02:13.260 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:02:13.261 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 18:02:13.264 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-02-19 18:02:13.299 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-02-19 18:02:13.327 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-02-19 18:02:13.330 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:02:13.331 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 65.0509ms
2025-02-19 18:02:13.332 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 18:02:13.333 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 200 null application/json; charset=utf-8 74.8702ms
2025-02-19 18:02:13.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:02:13.349 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:02:13.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.5188ms
2025-02-19 18:02:13.362 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-02-19 18:02:13.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-02-19 18:02:13.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-02-19 18:02:13.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-02-19 18:02:13.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-02-19 18:02:13.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-02-19 18:02:13.366 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-02-19 18:02:13.370 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-02-19 18:02:13.370 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-02-19 18:02:13.372 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-02-19 18:02:13.375 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-02-19 18:02:13.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 12.9925ms
2025-02-19 18:02:13.376 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 12.7815ms
2025-02-19 18:02:13.377 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-02-19 18:02:13.377 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 14.7283ms
2025-02-19 18:02:13.378 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 14.352ms
2025-02-19 18:02:13.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 15.0081ms
2025-02-19 18:02:13.384 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 19.819ms
2025-02-19 18:03:10.288 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:10.289 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:03:10.290 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:03:10.291 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:03:10.293 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:03:10.294 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:03:10.295 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:10.295 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:03:10.296 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:03:10.297 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:03:10.298 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:03:10.300 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:03:10.301 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:03:10.302 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.834ms
2025-02-19 18:03:10.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:03:10.303 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:10.306 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.5887ms
2025-02-19 18:03:10.307 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.310 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:03:10.320 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.332ms
2025-02-19 18:03:10.321 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:03:10.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.4211ms
2025-02-19 18:03:10.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:10.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:03:10.825 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:03:10.826 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:03:10.828 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:03:10.830 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:03:10.831 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:10.831 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:03:10.832 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:03:10.833 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:03:10.834 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:03:10.836 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:03:10.837 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:03:10.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:03:10.838 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5149ms
2025-02-19 18:03:10.840 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:10.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.841 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.1832ms
2025-02-19 18:03:10.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.849 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.853 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:03:10.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:03:10.856 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.395ms
2025-02-19 18:03:10.857 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:03:10.858 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.7957ms
2025-02-19 18:03:11.401 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:03:11.403 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:11.405 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9636ms
2025-02-19 18:03:11.428 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:03:11.430 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:11.432 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:03:11.433 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:03:11.439 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:03:11.441 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:03:11.443 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.2029ms
2025-02-19 18:03:11.444 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:03:11.445 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.3719ms
2025-02-19 18:03:11.512 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:03:11.515 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:11.516 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5267ms
2025-02-19 18:03:11.542 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:03:11.544 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:11.545 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:03:11.546 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:03:11.550 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:03:11.552 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:03:11.553 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.3057ms
2025-02-19 18:03:11.554 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:03:11.554 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.2471ms
2025-02-19 18:03:12.033 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:12.034 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:12.034 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:03:12.035 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.036 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.037 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.037 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.6007ms
2025-02-19 18:03:12.038 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.308ms
2025-02-19 18:03:12.038 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.2231ms
2025-02-19 18:03:12.041 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:03:12.041 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:12.043 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:03:12.044 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.045 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.046 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:03:12.047 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:03:12.047 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:12.048 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:12.048 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:03:12.049 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:03:12.050 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:03:12.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:03:12.054 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:03:12.056 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:03:12.057 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:03:12.058 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4733ms
2025-02-19 18:03:12.059 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.1802ms
2025-02-19 18:03:12.060 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:12.061 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:03:12.061 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.0777ms
2025-02-19 18:03:12.062 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 21.0742ms
2025-02-19 18:03:12.078 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:03:12.080 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:03:12.081 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 27.8334ms
2025-02-19 18:03:12.082 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:03:12.082 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 39.5617ms
2025-02-19 18:03:12.174 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:03:12.178 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:03:12.179 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 5.0456ms
2025-02-19 18:03:12.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:03:12.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:03:12.204 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:03:12.205 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:03:12.205 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8934ms
2025-02-19 18:03:12.206 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.7128ms
2025-02-19 18:04:17.894 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:04:17.894 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:17.896 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:17.897 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:17.898 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:17.900 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:17.900 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:17.901 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:17.902 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:04:17.903 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:17.905 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:04:17.906 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:04:17.907 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:04:17.907 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:04:17.909 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9704ms
2025-02-19 18:04:17.910 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:17.910 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:17.911 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.7741ms
2025-02-19 18:04:17.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:17.916 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:17.921 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:17.923 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:04:17.924 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2041ms
2025-02-19 18:04:17.925 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:17.925 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.6151ms
2025-02-19 18:04:18.431 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:18.432 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:04:18.434 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:18.436 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:18.437 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:18.439 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:18.440 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:18.441 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:18.441 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:18.442 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:04:18.443 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:04:18.445 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:04:18.446 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:04:18.447 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:04:18.447 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1481ms
2025-02-19 18:04:18.450 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:18.450 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.0563ms
2025-02-19 18:04:18.451 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:18.456 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:18.460 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:18.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:18.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:04:18.468 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.7537ms
2025-02-19 18:04:18.469 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:18.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.5568ms
2025-02-19 18:04:19.017 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:19.018 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.019 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5972ms
2025-02-19 18:04:19.033 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:19.035 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.037 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:19.038 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:04:19.047 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:19.049 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:04:19.050 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.7964ms
2025-02-19 18:04:19.052 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:19.053 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.1954ms
2025-02-19 18:04:19.254 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:19.256 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.256 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2542ms
2025-02-19 18:04:19.347 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:19.350 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.351 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:19.352 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:04:19.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:19.359 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:04:19.360 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3667ms
2025-02-19 18:04:19.361 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:19.362 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.3646ms
2025-02-19 18:04:19.664 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:19.665 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:19.666 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:04:19.666 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.668 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.669 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.670 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.6974ms
2025-02-19 18:04:19.670 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.9091ms
2025-02-19 18:04:19.671 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.2684ms
2025-02-19 18:04:19.673 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:04:19.675 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:19.677 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:19.679 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.680 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.681 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:19.682 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:04:19.683 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:19.683 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:19.684 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:04:19.685 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:19.685 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:19.691 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:19.691 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:04:19.692 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:19.693 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:04:19.695 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:04:19.697 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:04:19.697 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.3518ms
2025-02-19 18:04:19.698 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 11.5076ms
2025-02-19 18:04:19.699 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.0544ms
2025-02-19 18:04:19.700 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:19.700 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:04:19.701 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:19.702 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.5715ms
2025-02-19 18:04:19.703 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 29.6431ms
2025-02-19 18:04:19.703 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.3428ms
2025-02-19 18:04:19.769 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:04:19.772 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:04:19.773 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.8719ms
2025-02-19 18:04:19.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:04:19.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:04:19.800 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:04:19.801 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:04:19.802 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.2759ms
2025-02-19 18:04:19.802 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.889ms
2025-02-19 18:04:44.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:44.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:04:44.315 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:44.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:44.318 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:44.320 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:44.320 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:44.321 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:44.322 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:44.322 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:04:44.324 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:04:44.325 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:04:44.326 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:04:44.327 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1016ms
2025-02-19 18:04:44.327 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:04:44.328 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:44.330 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.2319ms
2025-02-19 18:04:44.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.339 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.345 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:04:44.345 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.8142ms
2025-02-19 18:04:44.346 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:44.347 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.615ms
2025-02-19 18:04:44.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:44.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:04:44.866 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:44.867 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:04:44.868 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:44.870 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:04:44.871 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:44.871 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:44.872 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:44.873 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:04:44.874 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:04:44.876 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:04:44.877 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:04:44.878 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:04:44.878 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1222ms
2025-02-19 18:04:44.881 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:44.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.8724ms
2025-02-19 18:04:44.883 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.890 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.894 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:04:44.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:04:44.902 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.8495ms
2025-02-19 18:04:44.903 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:04:44.904 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.1135ms
2025-02-19 18:04:45.450 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:45.454 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:45.456 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.4079ms
2025-02-19 18:04:45.462 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:45.465 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:45.466 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:45.469 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:04:45.473 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:45.475 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:04:45.476 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9603ms
2025-02-19 18:04:45.477 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:45.478 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.2333ms
2025-02-19 18:04:45.581 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:45.587 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:45.588 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.7554ms
2025-02-19 18:04:45.600 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:04:45.603 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:45.604 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:45.608 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:04:45.617 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:45.619 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:04:45.620 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.0845ms
2025-02-19 18:04:45.621 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:04:45.622 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.9276ms
2025-02-19 18:04:46.098 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:46.099 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:46.100 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:04:46.100 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.101 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.102 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.102 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.6956ms
2025-02-19 18:04:46.103 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.4574ms
2025-02-19 18:04:46.104 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.0735ms
2025-02-19 18:04:46.106 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:04:46.107 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:46.109 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:04:46.110 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.111 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.112 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:04:46.113 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:04:46.114 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:46.114 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:46.114 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:04:46.115 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:46.116 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:04:46.119 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:04:46.119 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:46.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:04:46.122 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:04:46.124 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:04:46.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:04:46.126 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.6959ms
2025-02-19 18:04:46.127 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.0111ms
2025-02-19 18:04:46.128 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.2471ms
2025-02-19 18:04:46.128 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:04:46.129 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:46.129 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:04:46.130 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.8541ms
2025-02-19 18:04:46.130 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.2921ms
2025-02-19 18:04:46.131 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.0784ms
2025-02-19 18:04:46.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:04:46.222 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:04:46.224 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.6205ms
2025-02-19 18:04:46.246 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:04:46.247 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:04:46.249 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:04:46.250 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:04:46.251 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.2934ms
2025-02-19 18:04:46.251 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.9519ms
2025-02-19 18:05:28.153 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:05:28.153 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:28.155 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:28.156 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:28.157 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:28.159 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:28.160 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:28.161 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:28.161 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:05:28.162 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:28.165 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:05:28.165 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:05:28.166 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:05:28.166 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:05:28.168 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5937ms
2025-02-19 18:05:28.169 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:28.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.170 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.4856ms
2025-02-19 18:05:28.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.176 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.181 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.183 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:05:28.184 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.8325ms
2025-02-19 18:05:28.185 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:28.185 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.4954ms
2025-02-19 18:05:28.701 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:28.702 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:05:28.703 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:28.704 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:28.705 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:28.707 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:28.709 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:28.709 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:28.710 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:28.711 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:05:28.712 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:05:28.713 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:05:28.714 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:05:28.715 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:05:28.715 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5634ms
2025-02-19 18:05:28.717 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:28.718 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.718 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.6948ms
2025-02-19 18:05:28.722 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.726 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.729 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:28.731 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:05:28.732 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.4472ms
2025-02-19 18:05:28.733 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:28.734 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.0987ms
2025-02-19 18:05:29.272 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:29.274 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.275 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.452ms
2025-02-19 18:05:29.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:29.309 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.311 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:29.312 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:05:29.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:29.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:05:29.320 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4997ms
2025-02-19 18:05:29.321 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:29.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 30.4642ms
2025-02-19 18:05:29.440 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:29.442 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.443 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9562ms
2025-02-19 18:05:29.448 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:29.450 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.452 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:29.453 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:05:29.459 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:29.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:05:29.463 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.2043ms
2025-02-19 18:05:29.465 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:29.466 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.6732ms
2025-02-19 18:05:29.934 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:29.935 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:29.936 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:05:29.936 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.937 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.939 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.939 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.2211ms
2025-02-19 18:05:29.939 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.5873ms
2025-02-19 18:05:29.940 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.3132ms
2025-02-19 18:05:29.942 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:05:29.945 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:29.948 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:29.950 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.951 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.953 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:29.954 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:05:29.954 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:29.955 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:29.955 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:05:29.956 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:29.956 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:29.961 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:29.962 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:05:29.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:29.964 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:05:29.966 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:05:29.968 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:05:29.968 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.7428ms
2025-02-19 18:05:29.969 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 11.6931ms
2025-02-19 18:05:29.970 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.4629ms
2025-02-19 18:05:29.971 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:29.971 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:05:29.972 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:29.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.4889ms
2025-02-19 18:05:29.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 31.6532ms
2025-02-19 18:05:29.975 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.6303ms
2025-02-19 18:05:30.043 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:05:30.046 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:05:30.047 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.1563ms
2025-02-19 18:05:30.092 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:05:30.093 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:05:30.095 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:05:30.096 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:05:30.096 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.9132ms
2025-02-19 18:05:30.097 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.5739ms
2025-02-19 18:05:49.469 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:05:49.469 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:49.471 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:49.473 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:49.475 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:49.477 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:49.477 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:49.478 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:49.479 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:05:49.479 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:49.482 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:05:49.483 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:05:49.483 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:05:49.484 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:05:49.487 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7143ms
2025-02-19 18:05:49.488 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:49.488 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:49.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.0973ms
2025-02-19 18:05:49.491 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:49.495 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:49.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:49.501 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:05:49.502 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3535ms
2025-02-19 18:05:49.503 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:49.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.5905ms
2025-02-19 18:05:50.010 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:50.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:05:50.012 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:50.013 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:05:50.015 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:50.017 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:05:50.018 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:50.019 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:50.019 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:50.020 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:05:50.021 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:05:50.023 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:05:50.024 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:05:50.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:05:50.025 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7176ms
2025-02-19 18:05:50.028 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:50.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:50.029 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6602ms
2025-02-19 18:05:50.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:50.037 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:50.040 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:05:50.042 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:05:50.043 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.4635ms
2025-02-19 18:05:50.044 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:05:50.045 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.8018ms
2025-02-19 18:05:50.599 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:50.601 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:50.602 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.804ms
2025-02-19 18:05:50.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:50.612 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:50.620 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:50.621 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:05:50.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:50.629 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:05:50.630 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9654ms
2025-02-19 18:05:50.631 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:50.632 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 25.0094ms
2025-02-19 18:05:50.788 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:50.790 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:50.791 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.439ms
2025-02-19 18:05:50.867 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:05:50.869 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:50.870 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:50.871 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:05:50.876 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:50.878 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:05:50.879 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.369ms
2025-02-19 18:05:50.880 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:05:50.881 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.1469ms
2025-02-19 18:05:51.184 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:51.185 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.186 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.1309ms
2025-02-19 18:05:51.188 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:51.188 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:05:51.190 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.190 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:51.192 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.192 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.6399ms
2025-02-19 18:05:51.194 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.194 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.1737ms
2025-02-19 18:05:51.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:05:51.197 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:51.198 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:05:51.199 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.200 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:51.202 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:05:51.203 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:51.205 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:05:51.206 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:05:51.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:51.207 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:05:51.210 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:05:51.210 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:05:51.214 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:05:51.215 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.8857ms
2025-02-19 18:05:51.215 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:05:51.216 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0824ms
2025-02-19 18:05:51.217 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:51.219 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:05:51.220 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:05:51.221 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.878ms
2025-02-19 18:05:51.222 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 10.7372ms
2025-02-19 18:05:51.223 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.246ms
2025-02-19 18:05:51.226 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:05:51.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 30.265ms
2025-02-19 18:05:51.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:05:51.261 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:05:51.262 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.5788ms
2025-02-19 18:05:51.290 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:05:51.290 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:05:51.293 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:05:51.295 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:05:51.295 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.5011ms
2025-02-19 18:05:51.296 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.3315ms
2025-02-19 18:06:05.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:05.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:05.008 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:05.009 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:05.011 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:05.012 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:05.013 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:05.013 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:05.014 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:05.015 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:05.016 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:05.017 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:05.018 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:05.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:05.019 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5982ms
2025-02-19 18:06:05.022 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:05.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.023 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.0202ms
2025-02-19 18:06:05.026 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.030 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.032 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:05.036 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.3273ms
2025-02-19 18:06:05.037 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:05.038 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.6336ms
2025-02-19 18:06:05.541 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:05.541 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:05.542 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:05.544 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:05.545 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:05.547 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:05.548 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:05.549 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:05.550 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:05.551 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:05.553 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:05.555 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:05.556 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:05.557 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:05.557 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8014ms
2025-02-19 18:06:05.560 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:05.561 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.561 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.4716ms
2025-02-19 18:06:05.565 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.574 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:05.576 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:05.577 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.0621ms
2025-02-19 18:06:05.579 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:05.580 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.4424ms
2025-02-19 18:06:06.249 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:06.251 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.252 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4392ms
2025-02-19 18:06:06.270 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:06.274 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.276 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:06.276 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:06.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:06.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:06.285 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7644ms
2025-02-19 18:06:06.286 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:06.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.9116ms
2025-02-19 18:06:06.388 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:06.390 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.391 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8658ms
2025-02-19 18:06:06.409 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:06.411 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.412 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:06.413 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:06.416 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:06.420 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:06.422 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.927ms
2025-02-19 18:06:06.423 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:06.424 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0823ms
2025-02-19 18:06:06.796 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:06.798 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.798 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:06.798 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.695ms
2025-02-19 18:06:06.800 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.802 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:06.803 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3837ms
2025-02-19 18:06:06.805 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.808 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:06.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:06.809 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:06.810 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:06.813 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:06.814 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:06.815 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:06.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:06.818 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:06.820 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.4113ms
2025-02-19 18:06:06.823 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:06.823 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:06.824 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.1844ms
2025-02-19 18:06:06.825 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.616ms
2025-02-19 18:06:06.825 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:06.828 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.102ms
2025-02-19 18:06:07.022 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:07.024 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:07.025 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.4506ms
2025-02-19 18:06:07.027 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:07.028 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:07.029 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:07.030 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:06:07.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:06:07.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:06:07.039 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.3712ms
2025-02-19 18:06:07.040 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:07.041 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 14.0177ms
2025-02-19 18:06:07.072 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:06:07.075 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:06:07.076 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.7321ms
2025-02-19 18:06:07.103 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:06:07.106 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:06:07.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.4081ms
2025-02-19 18:06:07.159 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:06:07.159 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:06:07.162 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:06:07.164 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:06:07.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.299ms
2025-02-19 18:06:07.166 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.3362ms
2025-02-19 18:06:22.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:22.173 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:22.174 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:22.176 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:22.177 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:22.179 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:22.180 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:22.181 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:22.182 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:22.183 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:22.186 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:22.187 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:22.187 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:22.188 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:22.190 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6498ms
2025-02-19 18:06:22.191 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:22.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.192 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.2366ms
2025-02-19 18:06:22.196 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.205 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.207 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:22.208 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.5017ms
2025-02-19 18:06:22.209 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:22.210 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.2916ms
2025-02-19 18:06:22.709 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:22.710 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:22.712 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:22.713 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:22.715 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:22.717 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:22.718 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:22.719 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:22.719 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:22.720 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:22.721 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:22.723 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:22.724 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:22.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:22.725 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0758ms
2025-02-19 18:06:22.728 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:22.729 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.729 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.8209ms
2025-02-19 18:06:22.733 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.736 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.740 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:22.742 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:22.743 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2607ms
2025-02-19 18:06:22.744 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:22.745 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.1978ms
2025-02-19 18:06:23.271 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:23.274 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.274 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0386ms
2025-02-19 18:06:23.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:23.279 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.280 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:23.281 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:23.288 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:23.291 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:23.292 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.8097ms
2025-02-19 18:06:23.293 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:23.293 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.1135ms
2025-02-19 18:06:23.418 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:23.420 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.421 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1389ms
2025-02-19 18:06:23.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:23.449 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.452 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:23.452 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:23.457 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:23.459 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:23.460 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3674ms
2025-02-19 18:06:23.462 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:23.463 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.3028ms
2025-02-19 18:06:23.892 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:23.893 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:23.894 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:23.894 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.895 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.896 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.896 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3318ms
2025-02-19 18:06:23.897 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6666ms
2025-02-19 18:06:23.897 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.3377ms
2025-02-19 18:06:23.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:23.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:23.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:23.903 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.904 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.905 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:23.906 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:23.906 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:23.907 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:23.907 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:06:23.908 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:23.908 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:23.912 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:06:23.912 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:23.914 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:23.914 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:06:23.916 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:23.918 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:23.918 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.9257ms
2025-02-19 18:06:23.919 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.3105ms
2025-02-19 18:06:23.920 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.4756ms
2025-02-19 18:06:23.920 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:23.922 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:23.923 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:23.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.5286ms
2025-02-19 18:06:23.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.9629ms
2025-02-19 18:06:23.925 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.376ms
2025-02-19 18:06:24.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:06:24.008 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:06:24.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.1139ms
2025-02-19 18:06:24.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:06:24.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:06:24.034 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:06:24.035 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:06:24.036 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.3569ms
2025-02-19 18:06:24.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.1917ms
2025-02-19 18:06:44.129 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:44.129 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:44.131 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:44.132 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:44.133 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:44.135 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:44.135 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:44.136 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:44.137 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:44.138 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:44.139 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:44.140 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:44.141 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:44.142 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4912ms
2025-02-19 18:06:44.142 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:44.143 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:44.145 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.2344ms
2025-02-19 18:06:44.146 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.150 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.153 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.156 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.158 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:44.159 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.4851ms
2025-02-19 18:06:44.160 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:44.161 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.8636ms
2025-02-19 18:06:44.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:44.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:06:44.669 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:44.671 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:06:44.672 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:44.674 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:06:44.675 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:44.676 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:44.676 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:44.677 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:06:44.677 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:06:44.679 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:06:44.680 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:06:44.681 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:06:44.681 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2683ms
2025-02-19 18:06:44.683 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:44.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.684 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.4728ms
2025-02-19 18:06:44.687 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.691 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:06:44.695 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:06:44.696 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.9337ms
2025-02-19 18:06:44.697 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:06:44.698 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.0526ms
2025-02-19 18:06:45.262 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:45.264 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.264 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8394ms
2025-02-19 18:06:45.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:45.277 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.279 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:45.280 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:45.286 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:45.288 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:45.289 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3698ms
2025-02-19 18:06:45.291 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:45.292 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.5429ms
2025-02-19 18:06:45.423 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:45.425 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.426 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9971ms
2025-02-19 18:06:45.477 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:06:45.480 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.481 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:45.482 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:06:45.486 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:45.488 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:06:45.489 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6579ms
2025-02-19 18:06:45.490 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:06:45.491 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.647ms
2025-02-19 18:06:45.883 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:45.884 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:45.885 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:45.885 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.886 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.887 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.888 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7807ms
2025-02-19 18:06:45.889 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.2393ms
2025-02-19 18:06:45.889 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.159ms
2025-02-19 18:06:45.891 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:06:45.892 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:45.894 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:06:45.895 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.897 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.898 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:06:45.899 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:45.899 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:45.900 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:45.900 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:06:45.901 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:45.902 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:06:45.906 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:06:45.906 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:45.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:06:45.909 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:06:45.911 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:45.913 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:06:45.914 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 10.7057ms
2025-02-19 18:06:45.915 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.166ms
2025-02-19 18:06:45.916 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.8977ms
2025-02-19 18:06:45.917 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:06:45.918 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:45.919 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:06:45.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 28.8194ms
2025-02-19 18:06:45.921 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 29.5621ms
2025-02-19 18:06:45.922 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.5333ms
2025-02-19 18:06:45.999 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:06:46.001 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:06:46.002 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.1136ms
2025-02-19 18:06:46.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:06:46.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:06:46.028 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:06:46.030 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:06:46.030 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8351ms
2025-02-19 18:06:46.031 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.5304ms
2025-02-19 18:07:02.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:02.173 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:07:02.174 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:02.176 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:02.177 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:02.179 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:02.180 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:02.181 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:02.181 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:02.182 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:07:02.183 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:07:02.186 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:07:02.187 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:07:02.187 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:07:02.188 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4699ms
2025-02-19 18:07:02.191 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:02.192 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.1631ms
2025-02-19 18:07:02.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:02.197 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:02.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:02.205 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:02.208 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:07:02.209 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.0267ms
2025-02-19 18:07:02.210 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:02.211 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.5894ms
2025-02-19 18:07:02.541 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:02.543 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:02.544 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6594ms
2025-02-19 18:07:02.662 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:02.664 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:02.666 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:02.667 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:07:02.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:02.673 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:07:02.674 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3029ms
2025-02-19 18:07:02.676 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:02.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.1725ms
2025-02-19 18:07:02.747 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:02.749 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:02.749 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3761ms
2025-02-19 18:07:02.835 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:02.837 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:02.838 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:02.839 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:07:02.844 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:02.846 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:07:02.848 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0447ms
2025-02-19 18:07:02.849 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:02.850 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0112ms
2025-02-19 18:07:03.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:03.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:03.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:07:03.120 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.121 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.123 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.123 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5527ms
2025-02-19 18:07:03.124 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.8612ms
2025-02-19 18:07:03.125 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.323ms
2025-02-19 18:07:03.127 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:07:03.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:03.130 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:03.132 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.133 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.135 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:03.135 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:07:03.136 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:03.136 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:03.137 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:07:03.137 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:03.138 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:03.142 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:03.142 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:07:03.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:03.145 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:07:03.147 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:07:03.150 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:07:03.150 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.8439ms
2025-02-19 18:07:03.151 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 11.6538ms
2025-02-19 18:07:03.154 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:07:03.153 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:03.152 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.8508ms
2025-02-19 18:07:03.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 27.6521ms
2025-02-19 18:07:03.156 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.2639ms
2025-02-19 18:07:03.157 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:03.161 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.7752ms
2025-02-19 18:07:03.207 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:07:03.209 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:07:03.211 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.3731ms
2025-02-19 18:07:03.221 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:07:03.221 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:07:03.223 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:07:03.225 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:07:03.225 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.4466ms
2025-02-19 18:07:03.226 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.4004ms
2025-02-19 18:07:03.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:07:03.232 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:07:03.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 5.136ms
2025-02-19 18:07:32.463 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:07:32.464 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:32.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:32.467 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:32.468 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:32.470 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:32.470 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:32.471 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:32.472 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:07:32.472 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:32.475 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:07:32.476 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:07:32.476 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:07:32.478 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:07:32.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:32.479 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2331ms
2025-02-19 18:07:32.481 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:32.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.8141ms
2025-02-19 18:07:32.482 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:32.487 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:32.491 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:32.492 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:07:32.493 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.5939ms
2025-02-19 18:07:32.494 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:32.495 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.44ms
2025-02-19 18:07:33.000 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:33.000 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:07:33.002 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:33.004 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:07:33.005 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:33.007 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:07:33.007 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:33.008 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:33.009 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:33.010 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:07:33.011 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:07:33.013 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:07:33.014 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:07:33.015 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:07:33.015 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8386ms
2025-02-19 18:07:33.018 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:33.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:33.019 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7767ms
2025-02-19 18:07:33.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:33.027 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:33.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:07:33.033 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:07:33.034 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.9924ms
2025-02-19 18:07:33.035 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:07:33.036 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7396ms
2025-02-19 18:07:33.476 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:33.480 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:33.480 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.9631ms
2025-02-19 18:07:33.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:33.499 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:33.500 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:33.501 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:07:33.505 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:33.507 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:07:33.508 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3088ms
2025-02-19 18:07:33.509 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:33.510 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.0369ms
2025-02-19 18:07:33.590 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:33.592 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:33.593 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7809ms
2025-02-19 18:07:33.633 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:07:33.636 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:33.637 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:33.639 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:07:33.644 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:33.647 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:07:33.648 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0347ms
2025-02-19 18:07:33.649 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:07:33.650 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.2759ms
2025-02-19 18:07:34.040 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:34.041 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:34.041 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:07:34.042 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.043 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.045 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.045 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.303ms
2025-02-19 18:07:34.046 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.0549ms
2025-02-19 18:07:34.046 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.5622ms
2025-02-19 18:07:34.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:07:34.051 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:34.053 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:07:34.054 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.056 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.058 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:07:34.059 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:07:34.059 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:34.060 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:34.060 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:07:34.061 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:34.062 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:07:34.067 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:07:34.068 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:34.073 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:07:34.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:07:34.075 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:07:34.078 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:07:34.079 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 15.4679ms
2025-02-19 18:07:34.080 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 15.0516ms
2025-02-19 18:07:34.082 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 12.0923ms
2025-02-19 18:07:34.083 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:07:34.084 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:34.084 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:07:34.085 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 36.4635ms
2025-02-19 18:07:34.086 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 35.6903ms
2025-02-19 18:07:34.087 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 34.5574ms
2025-02-19 18:07:34.143 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:07:34.143 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:07:34.145 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:07:34.146 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:07:34.147 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8603ms
2025-02-19 18:07:34.147 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.4063ms
2025-02-19 18:07:34.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:07:34.153 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:07:34.154 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 2.4486ms
2025-02-19 18:08:52.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:52.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:08:52.069 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:08:52.070 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:08:52.072 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:08:52.073 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:08:52.074 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:52.075 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:08:52.075 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:08:52.076 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:08:52.077 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:08:52.078 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:08:52.079 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:08:52.080 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:08:52.081 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0213ms
2025-02-19 18:08:52.083 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:52.084 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.084 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.1159ms
2025-02-19 18:08:52.087 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.090 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:08:52.097 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.1063ms
2025-02-19 18:08:52.098 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:08:52.098 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.9937ms
2025-02-19 18:08:52.611 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:52.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:08:52.613 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:08:52.615 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:08:52.616 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:08:52.618 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:08:52.618 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:52.619 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:08:52.620 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:08:52.620 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:08:52.621 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:08:52.623 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:08:52.624 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:08:52.625 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:08:52.625 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9951ms
2025-02-19 18:08:52.628 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:52.629 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.629 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.2499ms
2025-02-19 18:08:52.634 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.638 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.642 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:08:52.645 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:08:52.646 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.5497ms
2025-02-19 18:08:52.647 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:08:52.648 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.5042ms
2025-02-19 18:08:53.006 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:08:53.008 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.008 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0937ms
2025-02-19 18:08:53.025 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:08:53.034 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.037 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:08:53.039 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:08:53.044 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:08:53.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:08:53.048 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7706ms
2025-02-19 18:08:53.049 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:08:53.050 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 24.2809ms
2025-02-19 18:08:53.138 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:08:53.140 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.141 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6083ms
2025-02-19 18:08:53.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:08:53.153 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.154 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:08:53.156 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:08:53.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:08:53.163 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:08:53.164 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7355ms
2025-02-19 18:08:53.165 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:08:53.166 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.8937ms
2025-02-19 18:08:53.571 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:53.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:53.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:08:53.573 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.575 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.576 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.577 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.0328ms
2025-02-19 18:08:53.578 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.3793ms
2025-02-19 18:08:53.579 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.6654ms
2025-02-19 18:08:53.581 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:08:53.583 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:53.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:08:53.587 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.589 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.591 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:08:53.591 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:08:53.592 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:53.592 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:53.593 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:08:53.594 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:08:53.595 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:08:53.600 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:08:53.600 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:08:53.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:08:53.603 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:08:53.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:08:53.607 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:08:53.608 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.6134ms
2025-02-19 18:08:53.609 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 13.4066ms
2025-02-19 18:08:53.611 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.3893ms
2025-02-19 18:08:53.611 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:53.612 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:08:53.613 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:08:53.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.6301ms
2025-02-19 18:08:53.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 33.8713ms
2025-02-19 18:08:53.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.5039ms
2025-02-19 18:08:53.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:08:53.649 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:08:53.650 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 4.4833ms
2025-02-19 18:08:53.659 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:08:53.659 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:08:53.661 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:08:53.663 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:08:53.664 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.2832ms
2025-02-19 18:08:53.665 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.2204ms
2025-02-19 18:08:53.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:08:53.671 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:08:53.672 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 4.9575ms
2025-02-19 18:09:38.912 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:38.912 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:09:38.913 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:09:38.914 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:09:38.916 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:09:38.917 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:09:38.918 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:38.919 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:09:38.921 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:09:38.919 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:09:38.924 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:09:38.925 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:09:38.925 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:09:38.926 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:09:38.928 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1504ms
2025-02-19 18:09:38.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:38.929 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:38.931 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.4654ms
2025-02-19 18:09:38.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:38.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:38.940 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:38.942 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:09:38.943 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.7753ms
2025-02-19 18:09:38.944 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:09:38.945 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.9411ms
2025-02-19 18:09:39.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:39.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:09:39.463 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:09:39.464 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:09:39.466 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:09:39.468 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:09:39.469 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:39.470 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:09:39.470 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:09:39.471 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:09:39.473 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:09:39.475 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:09:39.476 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:09:39.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:09:39.477 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7809ms
2025-02-19 18:09:39.481 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:39.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:39.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.2062ms
2025-02-19 18:09:39.486 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:39.490 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:39.494 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:09:39.497 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:09:39.498 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.7972ms
2025-02-19 18:09:39.499 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:09:39.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.6553ms
2025-02-19 18:09:40.035 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:09:40.037 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.038 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0681ms
2025-02-19 18:09:40.059 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:09:40.061 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.063 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:09:40.064 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:09:40.068 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:09:40.070 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:09:40.072 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6383ms
2025-02-19 18:09:40.073 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:09:40.074 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.3594ms
2025-02-19 18:09:40.197 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:09:40.199 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.200 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6897ms
2025-02-19 18:09:40.217 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:09:40.222 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.226 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:09:40.232 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:09:40.240 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:09:40.242 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:09:40.244 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.8327ms
2025-02-19 18:09:40.246 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:09:40.247 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 29.9386ms
2025-02-19 18:09:40.680 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:40.681 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:40.682 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:09:40.682 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.683 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.685 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.685 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5851ms
2025-02-19 18:09:40.686 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.8422ms
2025-02-19 18:09:40.687 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.4243ms
2025-02-19 18:09:40.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:40.694 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:09:40.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:09:40.695 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.697 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.698 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:40.699 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:40.700 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:40.700 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:09:40.701 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:09:40.701 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:09:40.702 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:09:40.706 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:09:40.708 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:09:40.711 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:09:40.711 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:09:40.712 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:09:40.713 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.0167ms
2025-02-19 18:09:40.715 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:09:40.716 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.8148ms
2025-02-19 18:09:40.717 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:40.718 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 11.4452ms
2025-02-19 18:09:40.718 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:09:40.719 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.0528ms
2025-02-19 18:09:40.720 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:09:40.721 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.6602ms
2025-02-19 18:09:40.723 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 27.8581ms
2025-02-19 18:09:40.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:09:40.800 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:09:40.801 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.286ms
2025-02-19 18:09:40.825 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:09:40.825 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:09:40.827 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:09:40.828 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:09:40.828 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.7075ms
2025-02-19 18:09:40.829 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.2753ms
2025-02-19 18:09:41.835 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 18:09:41.837 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:41.838 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 204 null null 2.4997ms
2025-02-19 18:09:41.840 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - null null
2025-02-19 18:09:41.842 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:41.844 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 18:09:41.845 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:09:41.849 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-02-19 18:09:41.852 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-02-19 18:09:41.853 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 7.2857ms
2025-02-19 18:09:41.854 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-02-19 18:09:41.855 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/cf227f42-6820-4a91-9fe4-447c75151f70 - 200 null application/json; charset=utf-8 14.2905ms
2025-02-19 18:09:41.860 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 18:09:41.862 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:41.862 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 204 null null 1.9266ms
2025-02-19 18:09:41.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - null null
2025-02-19 18:09:41.865 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:09:41.866 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 18:09:41.867 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-02-19 18:09:41.873 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-02-19 18:09:41.879 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-02-19 18:09:41.880 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:09:41.881 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 12.9948ms
2025-02-19 18:09:41.882 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-02-19 18:09:41.882 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/cf227f42-6820-4a91-9fe4-447c75151f70/stages - 200 null application/json; charset=utf-8 18.415ms
2025-02-19 18:09:41.896 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:09:41.898 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:09:41.899 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.4213ms
2025-02-19 18:09:41.925 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-02-19 18:09:41.926 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-02-19 18:09:41.927 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-02-19 18:09:41.927 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-02-19 18:09:41.927 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-02-19 18:09:41.928 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-02-19 18:09:41.928 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-02-19 18:09:41.930 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-02-19 18:09:41.932 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-02-19 18:09:41.933 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-02-19 18:09:41.935 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-02-19 18:09:41.937 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-02-19 18:09:41.938 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 12.9893ms
2025-02-19 18:09:41.939 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 13.3985ms
2025-02-19 18:09:41.940 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 13.4926ms
2025-02-19 18:09:41.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 14.4281ms
2025-02-19 18:09:41.942 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 14.9975ms
2025-02-19 18:09:41.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 15.6606ms
2025-02-19 18:10:11.868 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:11.868 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:11.870 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:11.872 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:11.874 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:11.875 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:11.876 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:11.877 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:11.877 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:11.878 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:11.879 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:10:11.881 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:10:11.883 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:10:11.884 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3314ms
2025-02-19 18:10:11.884 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:11.884 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:11.887 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.1596ms
2025-02-19 18:10:11.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:11.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:11.896 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:11.899 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:11.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:11.902 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3934ms
2025-02-19 18:10:11.902 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:11.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.8815ms
2025-02-19 18:10:12.403 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:12.403 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:12.405 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:12.406 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:12.408 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:12.410 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:12.411 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:12.411 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:12.412 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:12.413 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:12.415 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:10:12.417 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:10:12.417 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:10:12.418 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6423ms
2025-02-19 18:10:12.418 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:12.419 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:12.421 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9069ms
2025-02-19 18:10:12.423 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:12.429 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:12.433 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:12.437 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:12.439 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:12.441 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.6589ms
2025-02-19 18:10:12.442 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:12.443 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.9768ms
2025-02-19 18:10:12.840 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:12.843 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:12.844 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5613ms
2025-02-19 18:10:12.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:12.868 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:12.869 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:12.870 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:10:12.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:12.877 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:10:12.878 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.0815ms
2025-02-19 18:10:12.881 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:12.882 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.8165ms
2025-02-19 18:10:12.953 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:12.955 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:12.956 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6771ms
2025-02-19 18:10:12.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:12.975 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:12.976 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:12.978 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:10:12.982 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:12.984 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:10:12.985 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.2961ms
2025-02-19 18:10:12.987 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:12.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.2141ms
2025-02-19 18:10:13.432 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:13.434 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:13.434 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.434 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:13.435 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.436 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4546ms
2025-02-19 18:10:13.437 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.438 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8214ms
2025-02-19 18:10:13.440 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:13.441 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.2305ms
2025-02-19 18:10:13.442 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:13.443 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:13.446 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.447 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:13.448 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:13.448 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:13.449 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:13.449 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:13.450 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:13.451 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:13.453 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:13.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:13.456 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:10:13.457 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:13.458 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:10:13.458 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.828ms
2025-02-19 18:10:13.460 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:13.461 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.5875ms
2025-02-19 18:10:13.462 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:13.463 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.1896ms
2025-02-19 18:10:13.463 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:13.464 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.0998ms
2025-02-19 18:10:13.465 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:13.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.4025ms
2025-02-19 18:10:13.468 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.1769ms
2025-02-19 18:10:13.530 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:10:13.532 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:10:13.533 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.3116ms
2025-02-19 18:10:13.557 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:13.557 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:13.559 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:13.560 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:13.561 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8868ms
2025-02-19 18:10:13.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.6077ms
2025-02-19 18:10:20.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:20.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:20.460 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:20.462 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:10:20.464 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:20.466 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:10:20.467 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:20.467 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:20.468 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:20.469 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:20.470 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:10:20.472 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:10:20.474 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:10:20.475 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6516ms
2025-02-19 18:10:20.475 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:20.476 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:20.478 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.9638ms
2025-02-19 18:10:20.479 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:20.484 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:20.488 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:20.492 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:20.494 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:20.496 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.2771ms
2025-02-19 18:10:20.497 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:20.498 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.8504ms
2025-02-19 18:10:20.839 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:20.842 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:20.844 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.4342ms
2025-02-19 18:10:20.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:20.861 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:20.862 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:20.863 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:10:20.867 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:20.869 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:10:20.870 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4218ms
2025-02-19 18:10:20.871 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:20.872 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.8708ms
2025-02-19 18:10:20.943 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:20.945 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:20.946 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5029ms
2025-02-19 18:10:20.962 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:10:20.964 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:20.966 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:20.966 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:10:20.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:20.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:10:20.973 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.3127ms
2025-02-19 18:10:20.975 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:10:20.976 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5709ms
2025-02-19 18:10:21.395 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:21.396 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:21.396 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:21.397 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.398 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.400 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.400 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.3919ms
2025-02-19 18:10:21.401 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1483ms
2025-02-19 18:10:21.402 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.6481ms
2025-02-19 18:10:21.404 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:21.432 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.435 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:21.437 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:21.406 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:21.448 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.408 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:10:21.448 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:21.449 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:21.453 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:21.458 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:21.459 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:21.461 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:21.462 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 22.5268ms
2025-02-19 18:10:21.466 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:10:21.468 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:21.468 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:21.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 66.0576ms
2025-02-19 18:10:21.472 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:10:21.472 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:10:21.477 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:10:21.478 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.3518ms
2025-02-19 18:10:21.479 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.9295ms
2025-02-19 18:10:21.480 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:21.481 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:10:21.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 76.8682ms
2025-02-19 18:10:21.483 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 75.4311ms
2025-02-19 18:10:21.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:21.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:21.521 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:21.522 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:21.523 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.6812ms
2025-02-19 18:10:21.524 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.4914ms
2025-02-19 18:10:21.531 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:10:21.534 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:10:21.535 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 4.1522ms
2025-02-19 18:10:29.826 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:29.828 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:29.829 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.7341ms
2025-02-19 18:10:29.832 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:29.834 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:29.835 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:29.836 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:29.842 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:29.845 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:29.846 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.1355ms
2025-02-19 18:10:29.847 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:29.848 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.3538ms
2025-02-19 18:10:29.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:29.861 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:29.862 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.4471ms
2025-02-19 18:10:30.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:30.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:30.407 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:30.409 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:30.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.1932ms
2025-02-19 18:10:30.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.7941ms
2025-02-19 18:10:30.436 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:30.437 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:30.438 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1576ms
2025-02-19 18:10:30.440 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:30.441 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:30.442 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:30.443 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:30.448 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:30.450 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:30.451 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5478ms
2025-02-19 18:10:30.452 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:30.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.2835ms
2025-02-19 18:10:30.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:30.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:30.492 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:30.493 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:30.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.143ms
2025-02-19 18:10:30.495 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.7825ms
2025-02-19 18:10:30.960 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:30.962 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:30.963 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6511ms
2025-02-19 18:10:30.965 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:30.967 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:30.968 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:30.968 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:30.972 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:30.976 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:30.979 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:30.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:30.986 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:30.988 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:30.990 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.3902ms
2025-02-19 18:10:30.990 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:30.991 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.2925ms
2025-02-19 18:10:31.000 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:31.002 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:10:31.003 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:10:31.003 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:31.005 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:10:31.007 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:10:31.007 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.4715ms
2025-02-19 18:10:31.008 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.9263ms
2025-02-19 18:10:31.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.7782ms
2025-02-19 18:10:31.365 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:31.367 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:31.368 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:31.369 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:31.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.3506ms
2025-02-19 18:10:31.370 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.3063ms
2025-02-19 18:10:31.375 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:31.377 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:31.378 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:31.378 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:31.383 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:31.386 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:31.387 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.3719ms
2025-02-19 18:10:31.388 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:31.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.1905ms
2025-02-19 18:10:31.395 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:31.397 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:31.398 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.2693ms
2025-02-19 18:10:31.776 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:31.776 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:31.778 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:31.780 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:31.780 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.4673ms
2025-02-19 18:10:31.781 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.3693ms
2025-02-19 18:10:31.801 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:31.802 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:31.803 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1187ms
2025-02-19 18:10:31.805 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:31.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:31.807 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:31.808 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:31.812 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:31.815 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:31.816 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.4383ms
2025-02-19 18:10:31.817 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:31.818 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.7122ms
2025-02-19 18:10:31.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:31.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:31.848 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:31.849 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:31.850 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.1732ms
2025-02-19 18:10:31.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.0888ms
2025-02-19 18:10:35.666 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:35.666 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:35.668 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:35.669 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:35.670 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.1617ms
2025-02-19 18:10:35.670 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.4108ms
2025-02-19 18:10:35.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:35.676 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:35.677 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:35.678 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:35.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:35.685 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:35.686 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.058ms
2025-02-19 18:10:35.687 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:35.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.3857ms
2025-02-19 18:10:35.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:35.695 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:35.696 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 2.8525ms
2025-02-19 18:10:36.032 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:36.034 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:36.034 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.1998ms
2025-02-19 18:10:36.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:36.038 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:36.039 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:36.040 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:36.043 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:36.048 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:36.052 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:36.057 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:36.060 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:36.063 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:36.065 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.9606ms
2025-02-19 18:10:36.066 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:36.066 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.048ms
2025-02-19 18:10:36.072 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:10:36.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:36.074 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:10:36.074 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:10:36.076 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:36.078 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:10:36.078 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.5115ms
2025-02-19 18:10:36.079 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.4816ms
2025-02-19 18:10:36.080 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.2227ms
2025-02-19 18:10:36.802 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:36.802 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:36.804 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:36.805 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:36.806 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.1475ms
2025-02-19 18:10:36.806 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.0561ms
2025-02-19 18:10:36.811 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:36.813 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:36.814 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:36.814 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:36.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:36.822 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:36.822 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0796ms
2025-02-19 18:10:36.823 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:36.824 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.1576ms
2025-02-19 18:10:36.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:36.833 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:36.834 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.9824ms
2025-02-19 18:10:37.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:37.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:37.164 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:37.165 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:37.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.0441ms
2025-02-19 18:10:37.166 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.9299ms
2025-02-19 18:10:37.181 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:37.183 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:37.183 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7482ms
2025-02-19 18:10:37.186 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:37.187 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:37.188 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:37.190 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:37.194 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:37.197 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:37.198 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.6988ms
2025-02-19 18:10:37.199 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:37.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.5803ms
2025-02-19 18:10:37.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:37.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:37.230 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:37.232 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:37.232 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.4817ms
2025-02-19 18:10:37.233 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.3968ms
2025-02-19 18:10:37.715 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:37.716 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:37.717 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:37.719 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:37.720 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.1258ms
2025-02-19 18:10:37.721 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.1745ms
2025-02-19 18:10:37.725 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:37.734 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:37.736 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:37.739 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:37.748 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:37.752 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:37.754 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.1586ms
2025-02-19 18:10:37.757 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:37.758 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 32.7074ms
2025-02-19 18:10:37.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:37.766 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:37.767 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.0814ms
2025-02-19 18:10:38.039 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:38.039 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:38.042 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:38.043 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:38.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.6334ms
2025-02-19 18:10:38.045 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.2488ms
2025-02-19 18:10:38.058 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:38.060 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.060 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7914ms
2025-02-19 18:10:38.062 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:38.063 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.064 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:38.065 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:38.070 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:38.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:38.073 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.8137ms
2025-02-19 18:10:38.075 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:38.075 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.2727ms
2025-02-19 18:10:38.113 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:38.114 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:38.115 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:38.117 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:38.117 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.5416ms
2025-02-19 18:10:38.118 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.3245ms
2025-02-19 18:10:38.391 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:38.391 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:38.393 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.394 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:38.394 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.6296ms
2025-02-19 18:10:38.396 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.7837ms
2025-02-19 18:10:38.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:38.402 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.402 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:38.403 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:38.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:38.411 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:38.412 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.2487ms
2025-02-19 18:10:38.413 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:38.414 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.6902ms
2025-02-19 18:10:38.420 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:38.422 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:38.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.0726ms
2025-02-19 18:10:38.800 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:38.802 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.802 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.8267ms
2025-02-19 18:10:38.805 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:38.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:38.807 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:38.808 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:38.813 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:38.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:38.822 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:38.826 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:38.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:38.832 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:38.834 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.2199ms
2025-02-19 18:10:38.835 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:38.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.0934ms
2025-02-19 18:10:38.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:10:38.844 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:38.846 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:10:38.847 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:10:38.848 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:38.850 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:10:38.850 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.886ms
2025-02-19 18:10:38.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 7.7007ms
2025-02-19 18:10:38.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 6.3988ms
2025-02-19 18:10:39.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:39.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:39.832 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:39.835 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:39.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.3676ms
2025-02-19 18:10:39.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.4334ms
2025-02-19 18:10:39.854 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:39.856 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:39.857 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.5875ms
2025-02-19 18:10:39.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:10:39.861 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:39.862 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:39.863 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:10:39.867 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:10:39.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:10:39.871 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.3123ms
2025-02-19 18:10:39.872 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:10:39.873 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.7169ms
2025-02-19 18:10:39.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:10:39.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:39.906 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:10:39.907 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:39.907 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.2117ms
2025-02-19 18:10:39.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.1886ms
2025-02-19 18:10:40.345 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:40.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:40.347 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:40.349 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:40.350 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.0457ms
2025-02-19 18:10:40.351 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.9366ms
2025-02-19 18:10:40.353 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-02-19 18:10:40.356 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:40.357 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:40.358 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-02-19 18:10:40.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-02-19 18:10:40.364 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-02-19 18:10:40.366 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.4162ms
2025-02-19 18:10:40.367 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-02-19 18:10:40.368 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.1282ms
2025-02-19 18:10:40.373 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:40.376 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:40.377 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.6075ms
2025-02-19 18:10:40.667 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:40.669 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:40.669 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.3287ms
2025-02-19 18:10:40.671 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:10:40.673 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:10:40.673 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:40.674 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:10:40.679 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:10:40.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:40.687 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:40.691 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:40.694 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:10:40.697 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:10:40.698 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.03ms
2025-02-19 18:10:40.699 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:10:40.700 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.329ms
2025-02-19 18:10:40.707 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-02-19 18:10:40.708 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:10:40.710 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-02-19 18:10:40.710 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-02-19 18:10:40.712 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:10:40.712 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.9356ms
2025-02-19 18:10:40.714 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-02-19 18:10:40.715 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 6.8936ms
2025-02-19 18:10:40.718 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.4321ms
2025-02-19 18:19:16.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:16.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:16.984 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:16.985 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:16.987 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:16.989 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:16.990 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:16.990 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:16.991 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:16.991 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:16.993 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:16.995 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:16.996 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:16.997 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0745ms
2025-02-19 18:19:16.998 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:16.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.6835ms
2025-02-19 18:19:17.030 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:17.035 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.039 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.043 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.050 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:17.052 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 57.1083ms
2025-02-19 18:19:17.053 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:17.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 72.4539ms
2025-02-19 18:19:17.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:17.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:17.529 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:17.530 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:17.532 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:17.533 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:17.534 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:17.535 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:17.535 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:17.536 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:17.537 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:17.540 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:17.542 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:17.542 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:17.544 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.8097ms
2025-02-19 18:19:17.545 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:17.545 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.545 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6862ms
2025-02-19 18:19:17.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.553 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.557 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:17.559 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:17.560 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.973ms
2025-02-19 18:19:17.561 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:17.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.131ms
2025-02-19 18:19:18.350 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:18.352 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:18.352 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.251ms
2025-02-19 18:19:18.355 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:18.356 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:18.357 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:18.358 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:18.364 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:18.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:18.368 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.6617ms
2025-02-19 18:19:18.369 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:18.370 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.6444ms
2025-02-19 18:19:18.470 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:18.472 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:18.473 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.704ms
2025-02-19 18:19:18.476 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:18.478 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:18.479 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:18.480 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:18.486 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:18.488 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:18.489 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0468ms
2025-02-19 18:19:18.490 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:18.491 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.5233ms
2025-02-19 18:19:19.299 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:19.300 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:19.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:19.301 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.3761ms
2025-02-19 18:19:19.302 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.304 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:19.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.089ms
2025-02-19 18:19:19.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.4492ms
2025-02-19 18:19:19.308 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:19.311 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:19.311 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:19.312 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.314 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:19.315 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:19.315 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:19.316 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:19.317 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:19:19.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:19.318 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:19.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:19.325 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.8969ms
2025-02-19 18:19:19.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:19.326 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:19.328 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:19.329 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.4046ms
2025-02-19 18:19:19.330 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.5586ms
2025-02-19 18:19:19.332 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:19.333 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.4046ms
2025-02-19 18:19:19.352 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:19:19.355 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:19:19.356 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 36.3593ms
2025-02-19 18:19:19.357 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:19.358 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 48.4138ms
2025-02-19 18:19:19.455 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:19:19.457 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:19:19.458 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.0074ms
2025-02-19 18:19:19.484 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:19:19.487 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:19:19.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.196ms
2025-02-19 18:19:19.592 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:19:19.595 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:19:19.596 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.8587ms
2025-02-19 18:19:41.804 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:41.804 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:41.806 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:41.807 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:41.809 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:41.811 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:41.812 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:41.813 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:41.813 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:41.814 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:41.816 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:41.818 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:41.819 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:41.820 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7477ms
2025-02-19 18:19:41.820 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:41.821 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:41.824 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.4363ms
2025-02-19 18:19:41.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:41.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:41.834 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:41.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:41.840 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:41.841 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.0117ms
2025-02-19 18:19:41.842 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:41.843 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.9765ms
2025-02-19 18:19:42.342 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:42.342 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:42.344 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:42.345 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:42.346 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:42.347 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:42.348 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:42.348 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:42.349 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:42.349 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:42.351 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:42.353 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:42.354 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:42.355 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:42.355 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.044ms
2025-02-19 18:19:42.358 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:42.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:42.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.8352ms
2025-02-19 18:19:42.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:42.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:42.370 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:42.372 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:42.373 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.4237ms
2025-02-19 18:19:42.374 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:42.374 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.1734ms
2025-02-19 18:19:43.023 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:43.027 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:43.028 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.0257ms
2025-02-19 18:19:43.057 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:43.060 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:43.061 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:43.062 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:43.066 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:43.069 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:43.070 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1048ms
2025-02-19 18:19:43.072 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:43.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.549ms
2025-02-19 18:19:43.260 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:43.262 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:43.263 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6179ms
2025-02-19 18:19:43.266 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:43.269 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:43.270 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:43.272 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:43.278 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:43.280 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:43.282 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.1059ms
2025-02-19 18:19:43.283 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:43.284 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.8049ms
2025-02-19 18:19:44.333 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:44.334 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:44.335 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:44.335 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.337 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.338 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.339 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.761ms
2025-02-19 18:19:44.339 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.0718ms
2025-02-19 18:19:44.340 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.2965ms
2025-02-19 18:19:44.342 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:44.344 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:44.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:44.346 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.347 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.348 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:44.349 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:44.349 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:44.349 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:44.350 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:19:44.350 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:44.351 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:44.354 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:44.354 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:19:44.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:44.359 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:19:44.359 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.5875ms
2025-02-19 18:19:44.360 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.3999ms
2025-02-19 18:19:44.361 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:44.362 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:44.362 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 18.5854ms
2025-02-19 18:19:44.363 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 20.4469ms
2025-02-19 18:19:44.380 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:44.382 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:44.383 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 28.2631ms
2025-02-19 18:19:44.384 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:44.384 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 39.3643ms
2025-02-19 18:19:44.449 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:19:44.452 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:19:44.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 4.2427ms
2025-02-19 18:19:44.487 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:19:44.489 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:19:44.491 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.506ms
2025-02-19 18:19:44.531 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:19:44.533 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:19:44.534 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.0433ms
2025-02-19 18:19:45.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:45.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:45.668 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:45.670 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:45.671 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:45.673 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:45.674 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:45.674 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:45.675 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:45.676 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:45.677 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:45.679 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:45.680 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:45.681 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:45.681 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2662ms
2025-02-19 18:19:45.684 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:45.684 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.8833ms
2025-02-19 18:19:45.685 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:45.690 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:45.695 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:45.698 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:45.700 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:45.702 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.287ms
2025-02-19 18:19:45.703 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:45.704 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.4411ms
2025-02-19 18:19:46.207 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:46.207 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:19:46.208 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:46.210 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:19:46.211 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:46.213 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:19:46.214 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:46.215 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:46.215 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:46.216 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:19:46.218 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:19:46.221 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:19:46.222 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:19:46.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:19:46.223 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.684ms
2025-02-19 18:19:46.226 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:46.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:46.227 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.1708ms
2025-02-19 18:19:46.231 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:46.236 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:46.241 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:19:46.243 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:19:46.244 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.7834ms
2025-02-19 18:19:46.246 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:19:46.247 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.7785ms
2025-02-19 18:19:46.952 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:46.954 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:46.955 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1072ms
2025-02-19 18:19:46.966 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:46.969 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:46.970 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:46.972 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:46.978 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:46.980 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:46.981 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4642ms
2025-02-19 18:19:46.982 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:46.983 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.0764ms
2025-02-19 18:19:47.113 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:47.115 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:47.116 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2292ms
2025-02-19 18:19:47.120 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:19:47.123 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:47.124 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:47.125 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:19:47.130 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:47.132 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:19:47.134 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3848ms
2025-02-19 18:19:47.135 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:19:47.136 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.5269ms
2025-02-19 18:19:48.263 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:48.264 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:48.265 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:48.265 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.266 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.267 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.268 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.0669ms
2025-02-19 18:19:48.268 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.5957ms
2025-02-19 18:19:48.268 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.7003ms
2025-02-19 18:19:48.271 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:19:48.272 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:48.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:19:48.275 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.277 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.278 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:19:48.279 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:48.280 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:48.280 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:48.280 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:19:48.281 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:48.282 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:19:48.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:48.286 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:19:48.287 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:19:48.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:48.289 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:19:48.293 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:19:48.294 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.9469ms
2025-02-19 18:19:48.295 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 12.3153ms
2025-02-19 18:19:48.296 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.9365ms
2025-02-19 18:19:48.297 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:48.298 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:19:48.298 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:19:48.299 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.0701ms
2025-02-19 18:19:48.300 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 28.5497ms
2025-02-19 18:19:48.300 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.6019ms
2025-02-19 18:19:48.375 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:19:48.377 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:19:48.378 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.0457ms
2025-02-19 18:19:48.411 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:19:48.413 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:19:48.415 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.3825ms
2025-02-19 18:19:48.494 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:19:48.496 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:19:48.497 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 2.6531ms
2025-02-19 18:22:55.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:55.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:22:55.792 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:55.793 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:55.795 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:55.796 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:55.797 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:55.798 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:55.798 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:22:55.799 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:22:55.800 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:22:55.801 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:22:55.802 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:22:55.803 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6249ms
2025-02-19 18:22:55.803 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:22:55.805 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:55.807 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.2874ms
2025-02-19 18:22:55.808 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:55.812 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:55.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:55.818 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:55.820 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:22:55.821 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.5547ms
2025-02-19 18:22:55.822 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:55.823 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.6319ms
2025-02-19 18:22:56.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:56.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:22:56.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:56.343 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:56.345 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:56.347 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:56.348 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:56.349 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:56.350 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:22:56.350 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:22:56.352 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:22:56.354 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:22:56.355 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:22:56.356 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:22:56.356 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2977ms
2025-02-19 18:22:56.359 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:56.360 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.8922ms
2025-02-19 18:22:56.360 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.367 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.370 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.377 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:22:56.378 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.9316ms
2025-02-19 18:22:56.379 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:56.381 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.795ms
2025-02-19 18:22:56.649 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:56.649 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:22:56.651 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:56.652 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:22:56.655 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:56.657 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:22:56.658 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:56.658 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:56.659 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:22:56.660 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:22:56.661 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:22:56.663 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:22:56.664 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:22:56.665 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.946ms
2025-02-19 18:22:56.665 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:22:56.666 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:56.668 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.4745ms
2025-02-19 18:22:56.670 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.675 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.679 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:22:56.685 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:22:56.687 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.8954ms
2025-02-19 18:22:56.688 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:22:56.689 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 40.0255ms
2025-02-19 18:22:57.585 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:22:57.587 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:57.587 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2054ms
2025-02-19 18:22:57.589 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:22:57.590 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:57.591 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:22:57.592 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:22:57.596 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:22:57.599 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:22:57.600 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.5247ms
2025-02-19 18:22:57.601 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:22:57.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.4346ms
2025-02-19 18:22:57.750 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:22:57.752 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:57.753 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.126ms
2025-02-19 18:22:57.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:22:57.758 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:57.759 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:22:57.760 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:22:57.764 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:22:57.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:22:57.768 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.2746ms
2025-02-19 18:22:57.769 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:22:57.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.7932ms
2025-02-19 18:22:58.227 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:58.228 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:58.229 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.231 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.232 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1111ms
2025-02-19 18:22:58.232 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6295ms
2025-02-19 18:22:58.234 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:58.236 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:22:58.239 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.240 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.241 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:58.242 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:58.243 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:22:58.244 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:22:58.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:22:58.248 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:22:58.251 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:22:58.252 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:22:58.253 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0568ms
2025-02-19 18:22:58.254 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.8087ms
2025-02-19 18:22:58.255 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:58.257 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:22:58.258 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.4207ms
2025-02-19 18:22:58.259 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.3021ms
2025-02-19 18:22:58.707 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:22:58.709 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.710 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.3546ms
2025-02-19 18:22:58.713 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:22:58.715 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:22:58.716 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:22:58.716 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:22:58.721 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:22:58.724 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:22:58.725 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.2964ms
2025-02-19 18:22:58.726 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:22:58.727 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 14.4283ms
2025-02-19 18:22:58.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:22:58.855 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:22:58.856 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.9616ms
2025-02-19 18:22:58.922 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:22:58.922 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:22:58.925 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:22:58.926 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:22:58.927 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.6923ms
2025-02-19 18:22:58.928 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.7213ms
2025-02-19 18:23:12.786 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:12.786 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:23:12.788 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:23:12.789 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:23:12.790 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:23:12.792 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:23:12.793 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:12.793 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:23:12.794 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:23:12.794 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:23:12.796 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:23:12.797 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:23:12.798 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:23:12.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:23:12.799 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3393ms
2025-02-19 18:23:12.801 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:12.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:12.802 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.5103ms
2025-02-19 18:23:12.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:12.809 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:12.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:12.812 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:23:12.813 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.1855ms
2025-02-19 18:23:12.814 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:23:12.814 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.0037ms
2025-02-19 18:23:13.327 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:13.327 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:23:13.329 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:23:13.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:23:13.333 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:23:13.335 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:23:13.335 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:13.336 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:23:13.337 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:23:13.337 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:23:13.339 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:23:13.340 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:23:13.341 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:23:13.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:23:13.342 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4236ms
2025-02-19 18:23:13.345 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:13.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:13.346 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7649ms
2025-02-19 18:23:13.350 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:13.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:13.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:23:13.359 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:23:13.360 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.3649ms
2025-02-19 18:23:13.361 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:23:13.361 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.8807ms
2025-02-19 18:23:14.137 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:23:14.139 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:14.139 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5975ms
2025-02-19 18:23:14.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:23:14.151 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:14.153 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:23:14.154 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:23:14.159 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:23:14.161 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:23:14.162 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4542ms
2025-02-19 18:23:14.164 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:23:14.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.5068ms
2025-02-19 18:23:14.371 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:23:14.372 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:14.373 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9813ms
2025-02-19 18:23:14.377 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:23:14.379 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:14.381 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:23:14.382 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:23:14.386 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:23:14.388 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:23:14.389 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7884ms
2025-02-19 18:23:14.390 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:23:14.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.4947ms
2025-02-19 18:23:15.369 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:15.369 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:15.371 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.371 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:23:15.372 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.372 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.342ms
2025-02-19 18:23:15.374 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.374 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.2021ms
2025-02-19 18:23:15.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:15.377 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.6516ms
2025-02-19 18:23:15.379 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:23:15.381 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.382 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:23:15.383 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.384 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:15.385 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:23:15.386 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:15.386 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:23:15.387 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:23:15.387 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:23:15.389 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:23:15.391 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:23:15.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:23:15.394 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:23:15.395 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:23:15.395 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:23:15.396 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.8813ms
2025-02-19 18:23:15.398 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:23:15.399 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.1651ms
2025-02-19 18:23:15.400 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:15.401 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.4114ms
2025-02-19 18:23:15.401 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:23:15.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.5931ms
2025-02-19 18:23:15.403 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:23:15.403 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.5367ms
2025-02-19 18:23:15.406 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.7496ms
2025-02-19 18:23:15.728 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:23:15.730 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:23:15.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.3202ms
2025-02-19 18:23:15.754 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:23:15.756 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:23:15.757 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.9306ms
2025-02-19 18:23:15.779 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:23:15.781 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:23:15.781 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 2.822ms
2025-02-19 18:24:53.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:53.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:24:53.865 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:53.866 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:53.868 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:53.869 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:53.870 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:53.871 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:53.872 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:53.873 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:24:53.874 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:24:53.876 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:24:53.877 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:24:53.877 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:24:53.878 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8207ms
2025-02-19 18:24:53.880 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:53.881 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:53.881 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.4378ms
2025-02-19 18:24:53.884 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:53.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:53.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:53.894 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:24:53.894 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.5553ms
2025-02-19 18:24:53.895 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:53.896 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.6253ms
2025-02-19 18:24:54.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:54.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:24:54.407 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:54.408 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:54.409 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:54.411 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:54.412 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:54.412 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:54.413 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:54.414 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:24:54.415 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:24:54.417 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:24:54.417 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:24:54.418 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9271ms
2025-02-19 18:24:54.418 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:24:54.419 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:54.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.3058ms
2025-02-19 18:24:54.424 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.428 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.431 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.434 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.436 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:24:54.437 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.0918ms
2025-02-19 18:24:54.438 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:54.439 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.4658ms
2025-02-19 18:24:54.641 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:54.641 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:24:54.642 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:54.644 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:54.646 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:54.647 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:54.648 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:54.649 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:54.649 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:54.650 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:24:54.651 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:24:54.653 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:24:54.655 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:24:54.655 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:24:54.658 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.5038ms
2025-02-19 18:24:54.659 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.659 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:54.662 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.9585ms
2025-02-19 18:24:54.663 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.668 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.672 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:54.674 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:24:54.675 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.0844ms
2025-02-19 18:24:54.676 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:54.677 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.02ms
2025-02-19 18:24:55.642 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:55.644 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:55.645 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2348ms
2025-02-19 18:24:55.679 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:55.682 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:55.683 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:55.684 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:24:55.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:55.690 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:24:55.691 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9582ms
2025-02-19 18:24:55.692 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:55.693 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.214ms
2025-02-19 18:24:55.803 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:55.806 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:55.807 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.8368ms
2025-02-19 18:24:55.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:55.823 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:55.824 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:55.824 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:24:55.828 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:55.830 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:24:55.832 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.0174ms
2025-02-19 18:24:55.833 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:55.834 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.047ms
2025-02-19 18:24:56.249 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:56.250 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:56.251 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.253 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8807ms
2025-02-19 18:24:56.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1165ms
2025-02-19 18:24:56.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:56.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:56.262 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.264 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.264 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:56.265 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:56.266 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:56.268 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:56.273 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:56.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:56.276 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:24:56.277 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:24:56.278 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.9432ms
2025-02-19 18:24:56.279 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.091ms
2025-02-19 18:24:56.279 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:56.280 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:56.281 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.965ms
2025-02-19 18:24:56.282 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.1548ms
2025-02-19 18:24:56.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:24:56.424 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:24:56.425 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.5002ms
2025-02-19 18:24:56.843 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:24:56.846 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.847 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.3271ms
2025-02-19 18:24:56.849 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:24:56.851 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:56.852 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:24:56.853 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:24:56.859 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:24:56.863 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:24:56.864 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.9848ms
2025-02-19 18:24:56.866 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:24:56.867 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 17.4397ms
2025-02-19 18:24:57.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:24:57.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:24:57.039 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:24:57.042 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:24:57.043 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 5.9045ms
2025-02-19 18:24:57.045 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.1871ms
2025-02-19 18:24:57.688 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:57.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:24:57.690 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:57.691 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:57.693 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:57.696 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:57.696 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:57.697 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:57.698 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:57.699 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:24:57.700 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:24:57.702 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:24:57.703 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:24:57.704 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4982ms
2025-02-19 18:24:57.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:24:57.705 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:57.708 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.8152ms
2025-02-19 18:24:57.709 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:57.715 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:57.719 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:57.723 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:57.725 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:24:57.726 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.8563ms
2025-02-19 18:24:57.727 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:57.728 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.6001ms
2025-02-19 18:24:58.240 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:24:58.241 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:24:58.242 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:58.243 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:24:58.245 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:58.247 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:24:58.247 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:58.248 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:58.249 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:24:58.249 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:24:58.250 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:24:58.253 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:24:58.254 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:24:58.254 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:24:58.255 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6155ms
2025-02-19 18:24:58.258 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:24:58.259 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:58.259 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.1164ms
2025-02-19 18:24:58.264 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:58.268 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:58.273 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:24:58.275 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:24:58.276 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.4734ms
2025-02-19 18:24:58.277 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:24:58.278 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.8042ms
2025-02-19 18:24:58.898 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:58.901 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:58.903 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.3247ms
2025-02-19 18:24:58.921 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:58.922 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:58.924 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:58.925 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:24:58.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:58.931 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:24:58.932 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8942ms
2025-02-19 18:24:58.933 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:58.934 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.3029ms
2025-02-19 18:24:59.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:59.097 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:59.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.617ms
2025-02-19 18:24:59.107 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:24:59.110 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:24:59.111 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:59.112 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:24:59.116 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:24:59.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:24:59.120 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1325ms
2025-02-19 18:24:59.121 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:24:59.121 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.2348ms
2025-02-19 18:25:00.294 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:00.294 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:00.296 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:25:00.296 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.298 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.299 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.300 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.3641ms
2025-02-19 18:25:00.301 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.615ms
2025-02-19 18:25:00.301 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.73ms
2025-02-19 18:25:00.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:25:00.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:00.307 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:00.308 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.310 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.315 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:25:00.314 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:00.315 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:00.315 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:25:00.316 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:00.317 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:00.319 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:00.321 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:25:00.323 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:00.325 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:00.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:25:00.327 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:25:00.328 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:25:00.328 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 10.5984ms
2025-02-19 18:25:00.329 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.5422ms
2025-02-19 18:25:00.330 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.8432ms
2025-02-19 18:25:00.331 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:25:00.332 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:00.333 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:00.334 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 29.9978ms
2025-02-19 18:25:00.334 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.7796ms
2025-02-19 18:25:00.336 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.873ms
2025-02-19 18:25:00.437 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:25:00.440 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:25:00.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.0042ms
2025-02-19 18:25:00.464 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:25:00.466 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:25:00.467 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.491ms
2025-02-19 18:25:00.551 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:25:00.553 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:25:00.555 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 4.596ms
2025-02-19 18:25:54.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:54.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:25:54.829 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:54.830 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:54.832 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:54.834 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:54.835 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:54.835 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:54.836 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:54.836 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:25:54.837 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:25:54.839 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:25:54.840 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:25:54.841 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.69ms
2025-02-19 18:25:54.842 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:25:54.842 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:54.845 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9229ms
2025-02-19 18:25:54.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:54.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:54.856 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:54.860 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:54.862 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:25:54.864 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.2126ms
2025-02-19 18:25:54.866 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:54.867 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.467ms
2025-02-19 18:25:55.358 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:55.358 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:25:55.360 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:55.361 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:55.363 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:55.364 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:55.365 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:55.365 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:55.366 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:55.366 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:25:55.367 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:25:55.369 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:25:55.370 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:25:55.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:25:55.371 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1515ms
2025-02-19 18:25:55.374 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:55.375 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:55.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.1406ms
2025-02-19 18:25:55.379 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:55.383 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:55.387 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:55.389 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:25:55.390 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.4904ms
2025-02-19 18:25:55.391 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:55.392 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.4972ms
2025-02-19 18:25:56.177 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:25:56.181 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:56.182 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7899ms
2025-02-19 18:25:56.198 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:25:56.201 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:56.202 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:25:56.204 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:25:56.211 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:56.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:25:56.215 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7206ms
2025-02-19 18:25:56.216 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:25:56.217 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.1716ms
2025-02-19 18:25:56.379 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:25:56.381 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:56.381 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3348ms
2025-02-19 18:25:56.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:25:56.387 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:56.388 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:25:56.389 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:25:56.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:56.395 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:25:56.396 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4829ms
2025-02-19 18:25:56.396 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:25:56.397 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.2975ms
2025-02-19 18:25:57.309 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:57.310 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:57.311 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:25:57.312 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.313 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.314 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.315 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1366ms
2025-02-19 18:25:57.316 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.6018ms
2025-02-19 18:25:57.316 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.4381ms
2025-02-19 18:25:57.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:25:57.321 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:57.323 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:57.324 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.326 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.327 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:25:57.328 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:25:57.329 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:57.329 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:57.330 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:25:57.330 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:57.331 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:57.335 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:57.335 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:25:57.337 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:25:57.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:25:57.340 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:25:57.342 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:25:57.343 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.4938ms
2025-02-19 18:25:57.344 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 12.2035ms
2025-02-19 18:25:57.345 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.1597ms
2025-02-19 18:25:57.346 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:57.347 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:25:57.347 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:57.348 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.856ms
2025-02-19 18:25:57.349 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 30.1477ms
2025-02-19 18:25:57.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.1062ms
2025-02-19 18:25:57.466 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:25:57.468 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:25:57.469 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.3053ms
2025-02-19 18:25:57.545 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:25:57.548 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:25:57.548 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.7767ms
2025-02-19 18:25:57.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:25:57.603 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:25:57.604 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 2.749ms
2025-02-19 18:25:59.805 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:25:59.806 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:25:59.807 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:59.808 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:25:59.809 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:59.811 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:25:59.812 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:59.812 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:59.813 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:25:59.814 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:25:59.815 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:25:59.817 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:25:59.817 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:25:59.818 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4099ms
2025-02-19 18:25:59.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:25:59.820 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:25:59.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.0684ms
2025-02-19 18:25:59.823 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:59.827 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:59.831 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:59.835 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:25:59.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:25:59.837 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.1736ms
2025-02-19 18:25:59.838 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:25:59.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.956ms
2025-02-19 18:26:00.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:26:00.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:26:00.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:26:00.343 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:26:00.344 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:26:00.346 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:26:00.346 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:00.347 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:26:00.347 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:26:00.348 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:26:00.349 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:26:00.351 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:26:00.352 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:26:00.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:26:00.353 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8945ms
2025-02-19 18:26:00.356 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:00.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:26:00.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.2819ms
2025-02-19 18:26:00.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:26:00.365 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:26:00.369 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:26:00.371 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:26:00.372 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.4425ms
2025-02-19 18:26:00.373 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:26:00.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.5629ms
2025-02-19 18:26:01.047 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:26:01.049 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:01.050 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0356ms
2025-02-19 18:26:01.065 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:26:01.066 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:01.067 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:26:01.068 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:26:01.072 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:26:01.074 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:26:01.075 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7644ms
2025-02-19 18:26:01.076 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:26:01.076 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.8166ms
2025-02-19 18:26:01.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:26:01.385 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:01.385 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7078ms
2025-02-19 18:26:01.388 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:26:01.389 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:01.390 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:26:01.391 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:26:01.396 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:26:01.398 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:26:01.400 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6131ms
2025-02-19 18:26:01.401 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:26:01.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.8603ms
2025-02-19 18:26:02.368 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:26:02.369 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:26:02.369 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:26:02.370 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.371 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.372 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.372 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.4124ms
2025-02-19 18:26:02.373 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1601ms
2025-02-19 18:26:02.373 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.5289ms
2025-02-19 18:26:02.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:26:02.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:26:02.378 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:26:02.380 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.381 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.382 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:26:02.383 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:26:02.383 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:02.384 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:02.384 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:26:02.385 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:26:02.385 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:26:02.389 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:26:02.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:26:02.390 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:26:02.391 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:26:02.393 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:26:02.394 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:26:02.395 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.5175ms
2025-02-19 18:26:02.396 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.1898ms
2025-02-19 18:26:02.396 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.4597ms
2025-02-19 18:26:02.397 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:26:02.398 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:02.399 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:26:02.399 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.0543ms
2025-02-19 18:26:02.400 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.3192ms
2025-02-19 18:26:02.401 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.0479ms
2025-02-19 18:26:02.596 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:26:02.599 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:26:02.600 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.682ms
2025-02-19 18:26:02.654 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:26:02.656 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:26:02.657 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.4319ms
2025-02-19 18:26:02.705 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:26:02.707 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:26:02.708 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.0625ms
2025-02-19 18:27:01.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:01.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:27:01.578 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:01.580 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:01.581 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:01.583 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:01.584 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:01.585 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:01.586 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:01.586 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:27:01.588 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:27:01.590 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:27:01.591 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:27:01.592 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:27:01.592 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.4246ms
2025-02-19 18:27:01.595 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:01.596 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.4908ms
2025-02-19 18:27:01.597 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:01.602 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:01.605 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:01.609 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:01.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:27:01.612 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.3967ms
2025-02-19 18:27:01.614 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:01.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.2559ms
2025-02-19 18:27:02.137 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:02.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:27:02.141 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:02.144 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:02.147 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:02.149 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:02.150 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:02.152 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:02.153 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:02.154 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:27:02.157 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:27:02.158 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:27:02.160 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:27:02.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:27:02.161 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3308ms
2025-02-19 18:27:02.164 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:02.165 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:02.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 27.7756ms
2025-02-19 18:27:02.169 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:02.173 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:02.177 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:02.179 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:27:02.181 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.1394ms
2025-02-19 18:27:02.182 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:02.183 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 45.1573ms
2025-02-19 18:27:02.990 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:02.993 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:02.994 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.8007ms
2025-02-19 18:27:03.000 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:03.010 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:03.013 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:03.016 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:27:03.027 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:03.029 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:27:03.030 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9068ms
2025-02-19 18:27:03.031 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:03.032 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 32.1698ms
2025-02-19 18:27:03.214 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:03.216 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:03.217 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5941ms
2025-02-19 18:27:03.219 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:03.220 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:03.221 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:03.222 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:27:03.226 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:03.228 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:27:03.229 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.391ms
2025-02-19 18:27:03.230 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:03.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.8747ms
2025-02-19 18:27:04.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:04.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:04.293 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:27:04.294 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.295 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.297 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.298 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.8169ms
2025-02-19 18:27:04.298 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.306ms
2025-02-19 18:27:04.299 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.3009ms
2025-02-19 18:27:04.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:27:04.303 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:04.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:04.307 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.308 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.310 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:04.310 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:27:04.311 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:04.311 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:04.312 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:27:04.313 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:04.314 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:04.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:04.320 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:04.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:27:04.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:27:04.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:27:04.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:27:04.325 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.1617ms
2025-02-19 18:27:04.327 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.9063ms
2025-02-19 18:27:04.328 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 13.0848ms
2025-02-19 18:27:04.329 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:04.330 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:04.331 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:27:04.331 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.3516ms
2025-02-19 18:27:04.332 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.3726ms
2025-02-19 18:27:04.333 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 31.5927ms
2025-02-19 18:27:04.415 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:27:04.417 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:27:04.418 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.2172ms
2025-02-19 18:27:04.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:27:04.448 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:27:04.449 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.4987ms
2025-02-19 18:27:04.536 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:27:04.539 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:27:04.540 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.5522ms
2025-02-19 18:27:22.835 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:22.836 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:27:22.838 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:22.840 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:22.841 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:22.843 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:22.844 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:22.844 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:22.845 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:22.846 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:27:22.847 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:27:22.850 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:27:22.852 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:27:22.852 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:27:22.853 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.6808ms
2025-02-19 18:27:22.855 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:22.856 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.0185ms
2025-02-19 18:27:22.857 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:22.863 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:22.867 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:22.871 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:22.873 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:27:22.874 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.4466ms
2025-02-19 18:27:22.875 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:22.876 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 39.6389ms
2025-02-19 18:27:23.379 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:23.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:27:23.382 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:23.383 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:27:23.385 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:23.386 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:27:23.387 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:23.388 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:23.388 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:23.389 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:27:23.390 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:27:23.392 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:27:23.393 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:27:23.393 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:27:23.394 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9029ms
2025-02-19 18:27:23.396 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:23.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:23.397 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.5195ms
2025-02-19 18:27:23.400 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:23.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:23.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:27:23.410 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:27:23.411 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.8239ms
2025-02-19 18:27:23.412 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:27:23.413 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.6127ms
2025-02-19 18:27:24.207 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:24.209 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:24.210 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1799ms
2025-02-19 18:27:24.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:24.225 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:24.226 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:24.228 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:27:24.234 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:24.236 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:27:24.238 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.4812ms
2025-02-19 18:27:24.239 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:24.240 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.3874ms
2025-02-19 18:27:24.460 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:24.461 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:24.462 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3126ms
2025-02-19 18:27:24.464 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:27:24.465 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:24.466 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:24.467 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:27:24.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:24.473 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:27:24.474 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.5415ms
2025-02-19 18:27:24.475 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:27:24.476 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.4677ms
2025-02-19 18:27:25.291 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:25.292 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.294 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.7167ms
2025-02-19 18:27:25.293 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:25.294 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:27:25.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:25.300 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.304 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.306 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.309 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 15.9996ms
2025-02-19 18:27:25.310 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 15.7494ms
2025-02-19 18:27:25.311 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:25.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:27:25.321 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:27:25.322 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:25.325 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.327 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:27:25.329 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:27:25.330 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:25.330 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:27:25.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:25.331 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:27:25.337 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:27:25.338 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:27:25.340 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.4977ms
2025-02-19 18:27:25.341 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:27:25.342 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:27:25.343 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:25.346 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:27:25.346 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 12.5991ms
2025-02-19 18:27:25.347 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 50.1939ms
2025-02-19 18:27:25.348 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.3616ms
2025-02-19 18:27:25.349 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:27:25.352 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:27:25.353 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 38.2862ms
2025-02-19 18:27:25.354 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.8519ms
2025-02-19 18:27:25.493 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:27:25.495 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:27:25.496 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.4342ms
2025-02-19 18:27:25.597 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:27:25.600 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:27:25.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.688ms
2025-02-19 18:27:25.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:27:25.677 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:27:25.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.2963ms
2025-02-19 18:28:43.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:43.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:28:43.811 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:43.812 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:43.814 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:43.816 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:43.816 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:43.817 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:43.818 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:43.818 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:28:43.819 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:28:43.821 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:28:43.822 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:28:43.823 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:28:43.823 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9065ms
2025-02-19 18:28:43.825 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:43.826 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:43.826 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.489ms
2025-02-19 18:28:43.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:43.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:43.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:43.839 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:28:43.840 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.7589ms
2025-02-19 18:28:43.841 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:43.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.9523ms
2025-02-19 18:28:44.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:44.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:28:44.341 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:44.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:44.344 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:44.345 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:44.346 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:44.347 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:44.348 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:44.348 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:28:44.350 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:28:44.352 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:28:44.353 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:28:44.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:28:44.354 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0141ms
2025-02-19 18:28:44.356 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:44.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:44.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.5921ms
2025-02-19 18:28:44.361 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:44.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:44.370 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:44.372 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:28:44.373 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.3163ms
2025-02-19 18:28:44.374 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:44.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.9082ms
2025-02-19 18:28:45.161 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:45.163 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:45.164 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1393ms
2025-02-19 18:28:45.170 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:45.177 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:45.181 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:45.183 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:28:45.193 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:45.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:28:45.196 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.5576ms
2025-02-19 18:28:45.197 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:45.198 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 27.5094ms
2025-02-19 18:28:45.384 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:45.387 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:45.387 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5145ms
2025-02-19 18:28:45.391 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:45.393 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:45.394 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:45.395 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:28:45.399 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:45.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:28:45.402 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8963ms
2025-02-19 18:28:45.404 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:45.405 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.8235ms
2025-02-19 18:28:46.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:46.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:46.294 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:28:46.294 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.295 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.297 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.297 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.7201ms
2025-02-19 18:28:46.298 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5751ms
2025-02-19 18:28:46.298 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.7375ms
2025-02-19 18:28:46.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:28:46.302 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:46.303 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:46.304 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.306 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.307 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:46.308 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:28:46.308 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:46.308 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:46.309 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:28:46.310 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:46.310 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:46.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:46.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:28:46.316 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:46.317 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:28:46.318 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:28:46.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:28:46.321 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.1597ms
2025-02-19 18:28:46.322 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 10.3999ms
2025-02-19 18:28:46.322 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0603ms
2025-02-19 18:28:46.323 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:46.324 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:28:46.325 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:46.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.3441ms
2025-02-19 18:28:46.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 25.848ms
2025-02-19 18:28:46.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.4229ms
2025-02-19 18:28:46.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:28:46.424 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:28:46.424 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.4868ms
2025-02-19 18:28:46.449 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:28:46.452 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:28:46.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.6769ms
2025-02-19 18:28:46.517 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:28:46.520 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:28:46.521 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.7611ms
2025-02-19 18:28:48.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:48.793 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:28:48.794 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:48.795 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:48.797 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:48.800 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:48.800 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:48.801 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:48.802 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:48.803 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:28:48.805 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:28:48.807 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:28:48.808 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:28:48.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:28:48.809 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6159ms
2025-02-19 18:28:48.811 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:48.812 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:48.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.5367ms
2025-02-19 18:28:48.815 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:48.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:48.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:48.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:28:48.825 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.0977ms
2025-02-19 18:28:48.826 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:48.827 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.2226ms
2025-02-19 18:28:49.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:49.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:28:49.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:49.343 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:28:49.344 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:49.346 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:28:49.346 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:49.347 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:49.347 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:49.348 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:28:49.349 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:28:49.351 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:28:49.351 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:28:49.352 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3196ms
2025-02-19 18:28:49.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:28:49.353 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:49.356 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.5955ms
2025-02-19 18:28:49.358 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:49.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:49.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:49.370 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:28:49.372 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:28:49.373 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.352ms
2025-02-19 18:28:49.374 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:28:49.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.3007ms
2025-02-19 18:28:50.029 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:50.033 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:50.035 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.2961ms
2025-02-19 18:28:50.064 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:50.066 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:50.067 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:50.068 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:28:50.072 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:50.074 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:28:50.075 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.5577ms
2025-02-19 18:28:50.076 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:50.077 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.1ms
2025-02-19 18:28:50.184 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:50.186 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:50.187 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0892ms
2025-02-19 18:28:50.191 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:28:50.194 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:50.196 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:50.197 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:28:50.202 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:50.204 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:28:50.206 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1489ms
2025-02-19 18:28:50.207 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:28:50.208 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.981ms
2025-02-19 18:28:51.324 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:51.326 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:28:51.324 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:51.326 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.327 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.328 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.328 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.617ms
2025-02-19 18:28:51.329 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.2645ms
2025-02-19 18:28:51.330 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.226ms
2025-02-19 18:28:51.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:28:51.333 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:51.334 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:28:51.336 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.337 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.338 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:28:51.339 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:28:51.339 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:51.339 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:51.340 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:28:51.340 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:51.341 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:28:51.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:28:51.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:51.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:28:51.347 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:28:51.349 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:28:51.351 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:28:51.351 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.9293ms
2025-02-19 18:28:51.352 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.4282ms
2025-02-19 18:28:51.353 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.572ms
2025-02-19 18:28:51.353 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:28:51.354 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:51.356 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.2419ms
2025-02-19 18:28:51.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 23.4044ms
2025-02-19 18:28:51.355 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:28:51.360 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.6632ms
2025-02-19 18:28:51.594 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:28:51.596 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:28:51.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.3976ms
2025-02-19 18:28:51.681 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:28:51.684 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:28:51.685 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.6353ms
2025-02-19 18:28:51.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:28:51.765 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:28:51.766 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 2.5107ms
2025-02-19 18:31:09.699 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:09.700 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:31:09.702 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:09.703 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:09.705 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:09.706 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:09.707 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:09.708 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:09.709 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:09.709 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:31:09.710 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:31:09.712 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:31:09.714 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:31:09.714 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:31:09.714 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1255ms
2025-02-19 18:31:09.717 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:09.718 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.1027ms
2025-02-19 18:31:09.718 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:09.724 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:09.728 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:09.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:09.733 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:31:09.734 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.6369ms
2025-02-19 18:31:09.735 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:09.736 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7615ms
2025-02-19 18:31:10.242 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:10.243 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:31:10.244 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:10.246 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:10.247 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:10.249 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:10.249 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:10.250 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:10.250 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:10.251 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:31:10.252 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:31:10.254 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:31:10.255 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:31:10.255 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:31:10.256 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.096ms
2025-02-19 18:31:10.258 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:10.259 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.9007ms
2025-02-19 18:31:10.259 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:10.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:10.269 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:10.273 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:10.275 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:31:10.276 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.1976ms
2025-02-19 18:31:10.277 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:10.278 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.7283ms
2025-02-19 18:31:11.112 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:11.133 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:11.134 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 21.8029ms
2025-02-19 18:31:11.142 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:11.143 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:11.144 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:11.145 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:31:11.149 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:11.151 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:31:11.152 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1783ms
2025-02-19 18:31:11.153 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:11.154 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.0488ms
2025-02-19 18:31:11.297 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:11.299 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:11.299 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5551ms
2025-02-19 18:31:11.302 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:11.303 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:11.304 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:11.305 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:31:11.310 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:11.312 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:31:11.313 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.5601ms
2025-02-19 18:31:11.314 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:11.315 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.4304ms
2025-02-19 18:31:12.447 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:12.449 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:12.449 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.450 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:31:12.451 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.451 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.9141ms
2025-02-19 18:31:12.453 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.454 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.3667ms
2025-02-19 18:31:12.456 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:12.457 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 6.9599ms
2025-02-19 18:31:12.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:12.460 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.462 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:31:12.463 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.464 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:12.465 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:12.466 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:12.466 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:12.467 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:31:12.467 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:12.469 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:31:12.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:12.472 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:12.473 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:31:12.475 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:31:12.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:31:12.476 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.794ms
2025-02-19 18:31:12.478 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:31:12.479 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.8169ms
2025-02-19 18:31:12.480 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:12.481 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.701ms
2025-02-19 18:31:12.482 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:12.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.1815ms
2025-02-19 18:31:12.483 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:31:12.484 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.3651ms
2025-02-19 18:31:12.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 24.3233ms
2025-02-19 18:31:12.619 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:31:12.621 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:31:12.623 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 3.7076ms
2025-02-19 18:31:12.650 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:31:12.652 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:31:12.653 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.1309ms
2025-02-19 18:31:12.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:31:12.691 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:31:12.692 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.1864ms
2025-02-19 18:31:20.840 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:20.841 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:31:20.843 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:20.844 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:20.846 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:20.848 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:20.849 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:20.849 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:20.850 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:20.851 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:31:20.853 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:31:20.855 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:31:20.856 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:31:20.857 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:31:20.857 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.112ms
2025-02-19 18:31:20.859 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:20.860 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:20.860 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.2331ms
2025-02-19 18:31:20.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:20.868 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:20.872 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:20.875 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:31:20.876 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.8864ms
2025-02-19 18:31:20.877 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:20.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.3751ms
2025-02-19 18:31:21.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:21.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:31:21.388 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:21.390 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:31:21.392 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:21.394 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:31:21.395 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:21.396 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:21.397 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:21.398 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:31:21.399 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:31:21.401 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:31:21.402 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:31:21.403 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:31:21.403 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.0716ms
2025-02-19 18:31:21.405 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:21.406 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:21.406 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.282ms
2025-02-19 18:31:21.410 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:21.415 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:21.419 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:31:21.420 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:31:21.422 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.1907ms
2025-02-19 18:31:21.423 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:31:21.425 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.2568ms
2025-02-19 18:31:22.093 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:22.095 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:22.096 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0737ms
2025-02-19 18:31:22.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:22.117 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:22.118 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:22.119 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:31:22.123 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:22.125 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:31:22.127 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6939ms
2025-02-19 18:31:22.128 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:22.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.9987ms
2025-02-19 18:31:22.268 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:22.270 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:22.270 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0629ms
2025-02-19 18:31:22.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:31:22.275 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:22.276 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:22.277 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:31:22.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:22.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:31:22.284 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7449ms
2025-02-19 18:31:22.285 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:31:22.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.3948ms
2025-02-19 18:31:23.315 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:23.316 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:23.316 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:31:23.317 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.318 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.320 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.321 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.4891ms
2025-02-19 18:31:23.321 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.315ms
2025-02-19 18:31:23.322 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.6175ms
2025-02-19 18:31:23.324 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:31:23.325 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:23.327 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:31:23.329 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.330 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.331 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:31:23.332 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:31:23.333 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:23.333 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:23.334 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:31:23.334 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:23.335 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:31:23.338 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:31:23.338 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:23.339 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:31:23.340 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:31:23.342 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:31:23.344 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:31:23.344 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.6876ms
2025-02-19 18:31:23.345 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.2882ms
2025-02-19 18:31:23.346 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.6135ms
2025-02-19 18:31:23.346 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:31:23.347 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:23.348 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:31:23.349 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 25.1248ms
2025-02-19 18:31:23.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.379ms
2025-02-19 18:31:23.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.9153ms
2025-02-19 18:31:23.581 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - null null
2025-02-19 18:31:23.583 +01:00 [INF] Sending file. Request path: '/images/climat-mediteranneen.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-mediteranneen.jpg'
2025-02-19 18:31:23.584 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-mediteranneen.jpg - 200 19074 image/jpeg 2.9715ms
2025-02-19 18:31:23.638 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-02-19 18:31:23.640 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-02-19 18:31:23.641 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.5735ms
2025-02-19 18:31:23.711 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - null null
2025-02-19 18:31:23.713 +01:00 [INF] Sending file. Request path: '/images/marmande.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\marmande.jpg'
2025-02-19 18:31:23.714 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/marmande.jpg - 200 8162 image/jpeg 3.22ms
2025-02-19 18:32:13.615 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:13.616 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:32:13.617 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:32:13.619 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:32:13.621 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:32:13.622 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:32:13.623 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:13.624 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:32:13.624 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:32:13.625 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:32:13.626 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:32:13.627 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:32:13.628 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:32:13.629 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:32:13.629 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6432ms
2025-02-19 18:32:13.632 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:13.632 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:13.632 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.2631ms
2025-02-19 18:32:13.636 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:13.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:13.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:13.643 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:32:13.644 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.3827ms
2025-02-19 18:32:13.645 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:32:13.646 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.3378ms
2025-02-19 18:32:14.159 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:14.159 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-02-19 18:32:14.161 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:32:14.163 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-19 18:32:14.164 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:32:14.166 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-19 18:32:14.166 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:14.167 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:32:14.167 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:32:14.168 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-02-19 18:32:14.169 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-02-19 18:32:14.170 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-02-19 18:32:14.171 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-19 18:32:14.172 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-02-19 18:32:14.172 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2704ms
2025-02-19 18:32:14.174 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:14.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:14.176 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.5143ms
2025-02-19 18:32:14.179 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:14.182 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:14.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-02-19 18:32:14.188 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 18:32:14.189 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.5065ms
2025-02-19 18:32:14.190 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-02-19 18:32:14.191 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.7269ms
2025-02-19 18:32:14.470 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:32:14.472 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:14.473 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7688ms
2025-02-19 18:32:14.476 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:32:14.477 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:14.478 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:32:14.478 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:32:14.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:32:14.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:32:14.485 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6906ms
2025-02-19 18:32:14.487 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:32:14.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.6322ms
2025-02-19 18:32:14.599 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-02-19 18:32:14.601 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:14.601 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:32:14.602 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-02-19 18:32:14.605 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:32:14.607 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-02-19 18:32:14.609 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8536ms
2025-02-19 18:32:14.609 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-02-19 18:32:14.610 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.9451ms
2025-02-19 18:32:15.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:15.097 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.7623ms
2025-02-19 18:32:15.099 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:15.099 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:32:15.101 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:15.101 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.102 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.103 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.104 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.8282ms
2025-02-19 18:32:15.104 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 5.2423ms
2025-02-19 18:32:15.105 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:15.108 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-02-19 18:32:15.109 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:32:15.110 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.111 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:32:15.112 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-02-19 18:32:15.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:32:15.116 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:32:15.117 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST(7 * [v].[MaturationDaysCount] AS int), (
    SELECT TOP(1) [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId])), CASE
    WHEN DATEADD(day, CAST([v].[MaturationDaysCount] AS int), (
        SELECT TOP(1) [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId])) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-02-19 18:32:15.117 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4451ms
2025-02-19 18:32:15.118 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-02-19 18:32:15.120 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-02-19 18:32:15.121 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:15.122 +01:00 [INF] CORS policy execution successful.
2025-02-19 18:32:15.123 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.172ms
2025-02-19 18:32:15.124 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.1097ms
2025-02-19 18:32:15.125 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:15.125 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-02-19 18:32:15.127 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-02-19 18:32:15.128 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 19.8026ms
2025-02-19 18:32:15.131 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-02-19 18:32:15.134 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-02-19 18:32:15.135 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.8695ms
2025-02-19 18:32:15.136 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-02-19 18:32:15.137 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 18.509ms
2025-02-19 18:33:55.671 +01:00 [INF] Application is shutting down...
