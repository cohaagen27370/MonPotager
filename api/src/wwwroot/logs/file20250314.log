2025-03-14 16:04:59.277 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Climates] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.335 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stations] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.348 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.360 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.412 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 1
2025-03-14 16:04:59.450 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 2
2025-03-14 16:04:59.458 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[Image], [c].[Label]
FROM [Categories] AS [c]
WHERE [c].[Id] = 3
2025-03-14 16:04:59.468 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Stages] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.477 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.485 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.509 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-03-14 16:04:59.568 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
2025-03-14 16:04:59.610 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 1
2025-03-14 16:04:59.627 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank], [c].[Id], [c].[Image], [c].[Label]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = 1 AND [s].[Rank] = 5
2025-03-14 16:04:59.638 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Flows] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.645 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Messages] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.653 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:04:59.786 +01:00 [INF] User profile is available. Using 'C:\Users\laure\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-14 16:04:59.870 +01:00 [INF] Now listening on: http://[::]:5000
2025-03-14 16:04:59.873 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-14 16:04:59.874 +01:00 [INF] Hosting environment: Development
2025-03-14 16:04:59.875 +01:00 [INF] Content root path: D:\projets\MonPotager\api\src
2025-03-14 16:12:24.886 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:12:24.886 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:12:25.056 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:12:25.056 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:12:25.067 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:12:25.069 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:12:25.076 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:12:25.076 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:12:25.084 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:12:25.084 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:12:25.089 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:12:25.091 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:12:25.096 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:12:25.099 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.5934ms
2025-03-14 16:12:25.101 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:12:25.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 221.6514ms
2025-03-14 16:12:25.171 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:12:25.198 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:25.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:25.251 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:25.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:12:25.279 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 190.2974ms
2025-03-14 16:12:25.280 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:12:25.284 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 398.8681ms
2025-03-14 16:12:25.396 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:12:25.402 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.405 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 9.5606ms
2025-03-14 16:12:25.415 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:12:25.417 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.457 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:12:25.461 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
2025-03-14 16:12:25.463 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:12:25.465 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:12:25.467 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:12:25.469 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:12:25.470 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:12:25.471 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.5124ms
2025-03-14 16:12:25.472 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:12:25.473 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 58.6066ms
2025-03-14 16:12:25.938 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:12:25.939 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:12:25.940 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.941 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.942 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4397ms
2025-03-14 16:12:25.942 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.2574ms
2025-03-14 16:12:25.944 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:12:25.946 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:12:25.949 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.950 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:12:25.952 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:12:25.952 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:12:25.954 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
2025-03-14 16:12:25.956 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:12:25'.
2025-03-14 16:12:25.956 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:12:25.957 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:12:25.958 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:12:25.958 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:12:25.962 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:12:25.964 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:12:25.966 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:12:25.967 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.8043ms
2025-03-14 16:12:25.969 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:12:25.970 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 23.8781ms
2025-03-14 16:12:26.009 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:12:26.014 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:26.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:26.026 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:12:26.028 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:12:26.030 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 70.2718ms
2025-03-14 16:12:26.032 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:12:26.034 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 90.0487ms
2025-03-14 16:12:26.050 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:12:26.050 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:12:26.050 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:12:26.067 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:12:26.067 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:12:26.067 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:12:26.068 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 18.5239ms
2025-03-14 16:12:26.069 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 19.5422ms
2025-03-14 16:12:26.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 20.1044ms
2025-03-14 16:13:28.266 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:28.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:28.269 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:13:28.271 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:13:28.272 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:13:28.274 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:13:28.275 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:28.276 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:28.276 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:13:28.277 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:13:28.278 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:28.280 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:28.280 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:28.282 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9098ms
2025-03-14 16:13:28.284 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:13:28.285 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:28.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.5839ms
2025-03-14 16:13:28.289 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:28.294 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:28.300 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:28.302 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:13:28.304 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.0411ms
2025-03-14 16:13:28.305 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:28.306 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.2496ms
2025-03-14 16:13:28.714 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:13:28.716 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:28.717 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9418ms
2025-03-14 16:13:28.719 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:13:28.720 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:28.723 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:28'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:28.725 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:28'.
2025-03-14 16:13:28.726 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:13:28.727 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:13:28.729 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:28.730 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:28.731 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:28.732 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.4841ms
2025-03-14 16:13:28.733 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:13:28.735 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.9273ms
2025-03-14 16:13:30.171 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:30.171 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:30.173 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:30.175 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:30.176 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.0969ms
2025-03-14 16:13:30.177 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.6157ms
2025-03-14 16:13:30.180 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:30.181 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:30.183 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:30.185 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:30.186 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:30'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:30.187 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:30'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:30.189 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:30'.
2025-03-14 16:13:30.191 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:30'.
2025-03-14 16:13:30.192 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:30.194 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:30.197 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:13:30.197 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:13:30.202 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:30.203 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:13:30.203 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:30.209 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:30.211 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.1473ms
2025-03-14 16:13:30.211 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:30.212 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:30.214 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 33.0362ms
2025-03-14 16:13:30.217 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:30.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:30.224 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:13:30.226 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 27.202ms
2025-03-14 16:13:30.228 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:30.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 49.1567ms
2025-03-14 16:13:55.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:55.347 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:55.349 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:13:55.350 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:13:55.351 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:13:55.353 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:13:55.354 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:55.356 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:55.356 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:13:55.357 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:13:55.357 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:55.359 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:55.360 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:55.361 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7233ms
2025-03-14 16:13:55.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:13:55.362 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:55.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.7999ms
2025-03-14 16:13:55.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:55.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:55.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:55.376 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:13:55.377 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.0534ms
2025-03-14 16:13:55.378 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:55.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.0872ms
2025-03-14 16:13:55.617 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:13:55.620 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:55.621 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9743ms
2025-03-14 16:13:55.624 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:13:55.627 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:55.628 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:55'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:55.630 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:55'.
2025-03-14 16:13:55.631 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:13:55.633 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:13:55.636 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:55.637 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:55.638 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:55.640 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.7623ms
2025-03-14 16:13:55.640 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:13:55.641 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 16.7583ms
2025-03-14 16:13:56.143 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:56.143 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:56.145 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:56.146 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:56.146 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.0844ms
2025-03-14 16:13:56.147 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.1963ms
2025-03-14 16:13:56.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:13:56.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:13:56.152 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:56.154 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:13:56.155 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:56'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:56.155 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:56'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:13:56.156 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:56'.
2025-03-14 16:13:56.157 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:13:56'.
2025-03-14 16:13:56.158 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:56.158 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:56.159 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:13:56.160 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:13:56.162 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:13:56.164 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:13:56.165 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:13:56.165 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:13:56.168 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.0355ms
2025-03-14 16:13:56.169 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:13:56.169 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:56.170 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.4621ms
2025-03-14 16:13:56.175 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:56.178 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:13:56.181 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:13:56.184 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.7265ms
2025-03-14 16:13:56.184 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:13:56.185 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 36.7981ms
2025-03-14 16:14:31.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:14:31.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:14:31.828 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:14:31.831 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:14:31.831 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:14:31.832 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:14:31.832 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.168ms
2025-03-14 16:14:31.833 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.5583ms
2025-03-14 16:14:31.834 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.846ms
2025-03-14 16:14:34.964 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:14:34.964 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:14:34.964 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:14:34.966 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:14:34.968 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:14:34.974 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:14:34.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 10.1016ms
2025-03-14 16:14:34.975 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 10.7625ms
2025-03-14 16:14:34.976 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 11.6953ms
2025-03-14 16:15:54.553 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:15:54.553 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:15:54.555 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:15:54.556 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:15:54.558 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:15:54.560 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:15:54.560 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:15:54.561 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:15:54.562 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:15:54.562 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:15:54.563 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:15:54.567 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:15:54.567 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:15:54.568 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7552ms
2025-03-14 16:15:54.569 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:15:54.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.3374ms
2025-03-14 16:15:54.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:15:54.575 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:15:54.579 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:15:54.583 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:15:54.586 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:15:54.587 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.1875ms
2025-03-14 16:15:54.588 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:15:54.588 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.0577ms
2025-03-14 16:16:02.702 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:16:02.703 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:02.704 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0925ms
2025-03-14 16:16:02.706 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:16:02.708 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:02.709 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:02'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:02.711 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:02'.
2025-03-14 16:16:02.712 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:16:02.713 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:16:02.714 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:16:02.716 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:16:02.718 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:16:02.719 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.6795ms
2025-03-14 16:16:02.720 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:16:02.722 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 15.5368ms
2025-03-14 16:16:03.229 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:16:03.231 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:03.232 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.0285ms
2025-03-14 16:16:03.249 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:16:03.252 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:03.253 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:03'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:03.257 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:03'.
2025-03-14 16:16:03.260 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:03.261 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:16:03.262 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:16:03.263 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:16:03.264 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:16:03.265 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.4943ms
2025-03-14 16:16:03.266 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:03.267 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.8732ms
2025-03-14 16:16:09.355 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:16:09.357 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:16:09.359 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:16:09.360 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:16:09.363 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:16:09.367 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:16:09.368 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:09.370 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:16:09.372 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:16:09.373 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:16:09.376 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:16:09.379 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:16:09.380 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:16:09.381 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8254ms
2025-03-14 16:16:09.381 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:16:09.382 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:09.386 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 31.0041ms
2025-03-14 16:16:09.388 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:09.397 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:09.402 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:09.406 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:16:09.407 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.491ms
2025-03-14 16:16:09.409 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:16:09.411 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 54.0218ms
2025-03-14 16:16:17.442 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:16:17.444 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:17.445 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4468ms
2025-03-14 16:16:17.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:16:17.462 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:17.464 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:17'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:17.468 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:17'.
2025-03-14 16:16:17.471 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:16:17.474 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:16:17.477 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:16:17.478 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:16:17.479 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:16:17.481 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.8669ms
2025-03-14 16:16:17.485 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:16:17.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 28.1443ms
2025-03-14 16:16:17.961 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:16:17.964 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:17.965 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.7007ms
2025-03-14 16:16:17.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:16:17.972 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:17.973 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:17'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:17.976 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:17'.
2025-03-14 16:16:17.977 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:17.979 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:16:17.981 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:16:17.982 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:16:17.983 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:16:17.984 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3602ms
2025-03-14 16:16:17.986 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:16:17.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9114ms
2025-03-14 16:16:20.125 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:16:20.128 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:20.128 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.612ms
2025-03-14 16:16:20.130 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:16:20.133 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:20.135 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:20'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:20.137 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:20'.
2025-03-14 16:16:20.138 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:16:20.140 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:16:20.147 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:16:20.152 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:20.157 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:20.162 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:16:20.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:16:20.167 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.0756ms
2025-03-14 16:16:20.168 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:16:20.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.8359ms
2025-03-14 16:16:20.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:16:20.340 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:16:20.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:16:20.357 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:16:20.358 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:16:20.361 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:16:20.362 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 23.51ms
2025-03-14 16:16:20.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 25.0835ms
2025-03-14 16:16:20.367 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 25.5884ms
2025-03-14 16:16:38.157 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:16:38.158 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:38.159 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 1.7153ms
2025-03-14 16:16:38.160 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:16:38.161 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:16:38.164 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:38'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:16:38.166 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:16:38'.
2025-03-14 16:16:38.167 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:16:38.172 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:16:38.190 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 16:16:38.209 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:16:38.211 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:16:38.215 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 41.3906ms
2025-03-14 16:16:38.216 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:16:38.217 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 56.1977ms
2025-03-14 16:17:02.451 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:17:02.451 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:02.452 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:02.453 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:17:02.455 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:02.456 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:02.456 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.4303ms
2025-03-14 16:17:02.457 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.7238ms
2025-03-14 16:17:02.458 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.5208ms
2025-03-14 16:17:04.305 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:17:04.307 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:04.307 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 1.9501ms
2025-03-14 16:17:04.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:17:04.311 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:04.314 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:04'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:04.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:04'.
2025-03-14 16:17:04.316 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:04.317 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:04.321 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:17:04.323 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:04.324 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 6.2181ms
2025-03-14 16:17:04.325 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:04.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 17.0871ms
2025-03-14 16:17:07.039 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 16:17:07.040 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:07.041 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - 204 null null 2.4831ms
2025-03-14 16:17:07.043 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 16:17:07.044 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:07.045 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:07'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:07.047 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:07'.
2025-03-14 16:17:07.048 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:07.048 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:07.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:17:07.063 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 16:17:07.133 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 16:17:07.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:07.143 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 93.3335ms
2025-03-14 16:17:07.143 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:07.144 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - 200 null application/json; charset=utf-8 101.4016ms
2025-03-14 16:17:07.240 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:07.243 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:07.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 3.138ms
2025-03-14 16:17:08.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:17:08.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:08.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:08.868 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:17:08.870 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:08.871 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:08.871 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.0525ms
2025-03-14 16:17:08.872 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.5608ms
2025-03-14 16:17:08.873 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.3965ms
2025-03-14 16:17:10.043 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:17:10.045 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:10.045 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 1.9274ms
2025-03-14 16:17:10.048 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:17:10.049 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:10.050 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:10'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:10.052 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:10'.
2025-03-14 16:17:10.052 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:10.053 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:10.059 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:17:10.063 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 16:17:10.071 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 16:17:10.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:10.074 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 19.6672ms
2025-03-14 16:17:10.074 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:10.075 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 27.6708ms
2025-03-14 16:17:10.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:10.241 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:10.242 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.2818ms
2025-03-14 16:17:10.247 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:17:10.247 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:17:10.252 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:17:10.253 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:17:10.253 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.4674ms
2025-03-14 16:17:10.254 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.947ms
2025-03-14 16:17:11.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:17:11.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:11.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:11.054 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:17:11.055 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:11.056 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:11.057 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.1546ms
2025-03-14 16:17:11.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.6111ms
2025-03-14 16:17:11.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.2745ms
2025-03-14 16:17:12.457 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:17:12.459 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:12.459 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 2.1663ms
2025-03-14 16:17:12.465 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:17:12.467 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:12.469 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:12'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:12.471 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:12'.
2025-03-14 16:17:12.472 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:12.473 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:12.480 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:17:12.483 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:12.484 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 9.5174ms
2025-03-14 16:17:12.485 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:12.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 21.2676ms
2025-03-14 16:17:14.327 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:17:14.329 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:14.329 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.2632ms
2025-03-14 16:17:14.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:17:14.333 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:14.334 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:14'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:14.336 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:14'.
2025-03-14 16:17:14.337 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:14.338 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:14.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:17:14.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 16:17:14.360 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 16:17:14.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:14.363 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 23.0435ms
2025-03-14 16:17:14.364 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:17:14.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 33.0376ms
2025-03-14 16:17:14.531 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:14.532 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:17:14.534 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:17:14.534 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:14.537 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:17:14.538 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:17:14.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.7536ms
2025-03-14 16:17:14.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.9083ms
2025-03-14 16:17:14.540 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.4309ms
2025-03-14 16:17:15.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:17:15.670 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:15.670 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:17:15.671 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:15.672 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:15.672 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.1621ms
2025-03-14 16:17:15.676 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:15.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.9142ms
2025-03-14 16:17:15.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.5757ms
2025-03-14 16:17:18.456 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:17:18.456 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:17:18.458 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:17:18.459 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:17:18.460 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:17:18.462 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:17:18.463 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:17:18.464 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:17:18.465 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:17:18.465 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:18.466 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:17:18.468 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:17:18.469 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:17:18.470 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4922ms
2025-03-14 16:17:18.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:17:18.471 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:17:18.473 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.304ms
2025-03-14 16:17:18.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:18.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:18.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:18.486 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:18.488 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.1753ms
2025-03-14 16:17:18.489 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:17:18.490 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.0665ms
2025-03-14 16:17:26.520 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:17:26.522 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:26.523 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1676ms
2025-03-14 16:17:26.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:17:26.535 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:26.539 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:26'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:26.544 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:26'.
2025-03-14 16:17:26.545 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:17:26.547 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:17:26.550 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:17:26.552 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:17:26.553 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:17:26.555 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.9978ms
2025-03-14 16:17:26.556 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:17:26.557 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 24.6498ms
2025-03-14 16:17:27.150 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:17:27.152 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:27.152 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.1398ms
2025-03-14 16:17:27.155 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:17:27.156 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:27.158 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:27'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:27.159 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:27'.
2025-03-14 16:17:27.160 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:17:27.162 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:17:27.164 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:17:27.165 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:17:27.166 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:17:27.167 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1724ms
2025-03-14 16:17:27.168 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:17:27.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.2189ms
2025-03-14 16:17:29.611 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:17:29.613 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:29.614 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4632ms
2025-03-14 16:17:29.616 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:17:29.617 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:17:29.618 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:29'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:17:29.620 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:17:29'.
2025-03-14 16:17:29.621 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:17:29.622 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:17:29.627 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:17:29.633 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:29.637 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:29.641 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:17:29.644 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:17:29.645 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.4825ms
2025-03-14 16:17:29.646 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:17:29.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.7515ms
2025-03-14 16:17:29.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:17:29.832 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:17:29.833 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 3.6106ms
2025-03-14 16:17:29.893 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:17:29.896 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:17:29.897 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.5287ms
2025-03-14 16:17:30.006 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:17:30.008 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:17:30.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 3.3295ms
2025-03-14 16:18:49.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:18:49.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:18:49.461 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:18:49.462 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:18:49.464 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:18:49.465 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:18:49.466 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:18:49.466 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:18:49.467 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:18:49.467 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:18:49.469 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:18:49.470 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:18:49.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:18:49.471 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:18:49.473 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5458ms
2025-03-14 16:18:49.474 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:18:49.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:18:49.475 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.9843ms
2025-03-14 16:18:49.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:18:49.481 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:18:49.483 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:18:49.484 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.7447ms
2025-03-14 16:18:49.485 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:18:49.485 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.7859ms
2025-03-14 16:18:57.547 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:18:57.549 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:18:57.550 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3622ms
2025-03-14 16:18:57.554 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:18:57.556 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:18:57.556 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:18:57'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:18:57.558 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:18:57'.
2025-03-14 16:18:57.560 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:18:57.561 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:18:57.562 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:18:57.563 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:18:57.564 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:18:57.564 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 2.125ms
2025-03-14 16:18:57.566 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:18:57.568 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 13.9393ms
2025-03-14 16:18:58.083 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:18:58.088 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:18:58.088 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.3392ms
2025-03-14 16:18:58.096 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:18:58.098 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:18:58.099 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:18:58'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:18:58.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:18:58'.
2025-03-14 16:18:58.101 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:18:58.102 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:18:58.103 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:18:58.104 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:18:58.105 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:18:58.107 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2031ms
2025-03-14 16:18:58.107 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:18:58.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 12.524ms
2025-03-14 16:19:00.171 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:19:00.173 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:00.173 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4934ms
2025-03-14 16:19:00.176 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:19:00.178 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:00.179 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:00'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:00.181 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:00'.
2025-03-14 16:19:00.182 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:00.183 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:19:00.192 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:19:00.196 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:00.202 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:00.208 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:00.211 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:19:00.212 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.6407ms
2025-03-14 16:19:00.213 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:00.214 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 38.4408ms
2025-03-14 16:19:00.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:19:00.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:19:00.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:19:00.409 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:19:00.410 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:19:00.412 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.5045ms
2025-03-14 16:19:00.412 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:19:00.415 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.6464ms
2025-03-14 16:19:00.418 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 12.5838ms
2025-03-14 16:19:01.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:19:01.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:19:01.490 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:19:01.492 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:19:01.493 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:19:01.495 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:19:01.496 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:01.497 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:01.497 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:19:01.498 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:19:01.499 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:19:01.501 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:19:01.502 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:19:01.503 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5727ms
2025-03-14 16:19:01.504 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:01.504 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:19:01.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.6999ms
2025-03-14 16:19:01.509 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:01.513 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:01.518 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:01.519 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:19:01.521 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.0126ms
2025-03-14 16:19:01.522 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:01.523 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.5789ms
2025-03-14 16:19:09.636 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:19:09.638 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:09.639 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8588ms
2025-03-14 16:19:09.643 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:19:09.645 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:09.646 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:09'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:09.648 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:09'.
2025-03-14 16:19:09.649 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:19:09.650 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:19:09.651 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:19:09.652 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:19:09.653 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:19:09.655 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.9508ms
2025-03-14 16:19:09.656 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:19:09.657 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 13.5417ms
2025-03-14 16:19:10.163 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:19:10.166 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:10.167 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.3206ms
2025-03-14 16:19:10.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:19:10.176 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:10.177 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:10'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:10.180 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:10'.
2025-03-14 16:19:10.180 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:10.182 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:19:10.183 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:19:10.184 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:19:10.185 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:19:10.186 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.6441ms
2025-03-14 16:19:10.187 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:10.187 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 12.9476ms
2025-03-14 16:19:12.288 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:19:12.289 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:12.291 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.9128ms
2025-03-14 16:19:12.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:19:12.296 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:12.297 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:12'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:12.299 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:12'.
2025-03-14 16:19:12.300 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:12.300 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:19:12.307 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:19:12.311 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:12.315 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:12.321 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:19:12.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:19:12.326 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 23.3411ms
2025-03-14 16:19:12.326 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:19:12.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.7188ms
2025-03-14 16:19:12.535 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:19:12.538 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:19:12.541 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.9132ms
2025-03-14 16:19:12.593 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:19:12.595 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:19:12.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.4613ms
2025-03-14 16:19:12.755 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:19:12.758 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:19:12.759 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 4.0634ms
2025-03-14 16:19:15.990 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:19:15.992 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:15.993 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 2.5469ms
2025-03-14 16:19:15.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:19:15.996 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:15.997 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:16.000 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:15'.
2025-03-14 16:19:16.001 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:19:16.002 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:19:16.007 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:19:16.009 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:19:16.010 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 7.0783ms
2025-03-14 16:19:16.011 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:19:16.012 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 17.0146ms
2025-03-14 16:19:19.469 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 16:19:19.471 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:19.472 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.393ms
2025-03-14 16:19:19.476 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 16:19:19.478 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:19.479 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:19'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:19.481 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:19'.
2025-03-14 16:19:19.482 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 16:19:19.488 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 16:19:19.895 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 16:19:20.026 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 16:19:20.916 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 16:19:20.925 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 16:19:20.928 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 16:19:20.931 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 1441.9057ms
2025-03-14 16:19:20.932 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 16:19:20.933 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 1457.7078ms
2025-03-14 16:19:24.388 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 16:19:24.390 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.4405ms
2025-03-14 16:19:24.393 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 48
2025-03-14 16:19:24.395 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.396 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:24'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-14 16:19:24.398 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '09/03/2025 22:19:31', Current time (UTC): '14/03/2025 15:19:24'.
2025-03-14 16:19:24.399 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 16:19:24.402 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 16:19:24.424 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 16:19:24.627 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 16:19:24.631 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 227.3299ms
2025-03-14 16:19:24.632 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 16:19:24.633 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 240.1033ms
2025-03-14 16:19:24.653 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:19:24.656 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.657 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5447ms
2025-03-14 16:19:24.659 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:19:24.660 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.665 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:19:24.666 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:19:24.670 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:19:24.672 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.673 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.7876ms
2025-03-14 16:19:24.676 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:19:24.677 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:19:24.677 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.680 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:19:24.681 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:24.682 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:19:24.688 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 20.9286ms
2025-03-14 16:19:24.689 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:19:24.690 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 30.9347ms
2025-03-14 16:19:24.703 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:19:24.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:19:24.775 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 91.1349ms
2025-03-14 16:19:24.776 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:19:24.777 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 101.6684ms
2025-03-14 16:19:24.878 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:19:24.882 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:19:24.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.297ms
2025-03-14 16:19:24.932 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:19:24.934 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.934 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 1.9825ms
2025-03-14 16:19:24.936 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:19:24.938 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:19:24.942 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:19:24.946 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:19:24.967 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:19:24.970 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:19:24.975 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 25.7401ms
2025-03-14 16:19:24.977 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:19:24.977 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 40.8931ms
2025-03-14 16:19:25.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:19:25.129 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:19:25.133 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:19:25.133 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:19:25.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 6.1749ms
2025-03-14 16:19:25.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.3918ms
2025-03-14 16:20:27.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:27.347 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:27.349 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:27.350 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:27.351 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:27.352 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:20:27.353 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:20:27.353 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:20:27.354 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 1.7419ms
2025-03-14 16:20:27.354 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:27.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 9.7704ms
2025-03-14 16:20:27.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:20:27.363 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:27.365 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:27.366 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:27.367 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:20:27.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:20:27.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.377 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.384 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:20:27.385 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.5127ms
2025-03-14 16:20:27.385 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:27.386 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.5297ms
2025-03-14 16:20:27.878 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:27.878 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:20:27.880 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:27.882 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:27.883 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:27.885 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:27.886 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:27.886 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:27.887 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:27.887 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:20:27.890 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:20:27.891 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:20:27.892 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:20:27.893 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0735ms
2025-03-14 16:20:27.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:20:27.894 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:27.896 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.897ms
2025-03-14 16:20:27.897 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.904 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:27.906 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:20:27.907 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.8569ms
2025-03-14 16:20:27.908 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:27.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.9055ms
2025-03-14 16:20:38.058 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:38.059 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:38.060 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1724ms
2025-03-14 16:20:38.064 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:38.066 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:38.067 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:38.067 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:20:38.072 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:38.074 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:20:38.075 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.5928ms
2025-03-14 16:20:38.077 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:38.078 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5455ms
2025-03-14 16:20:38.285 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:38.286 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:38.287 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9344ms
2025-03-14 16:20:38.289 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:38.290 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:38.292 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:38.293 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:20:38.297 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:38.299 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:20:38.300 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.992ms
2025-03-14 16:20:38.301 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:38.302 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.7132ms
2025-03-14 16:20:39.206 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:39.208 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:39.208 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:39.210 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:39.210 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1244ms
2025-03-14 16:20:39.211 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4628ms
2025-03-14 16:20:39.218 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:39.219 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:39.221 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:39.222 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:39.223 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:39.223 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:39.224 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:39.225 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:39.229 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:39.236 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:20:39.237 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.6207ms
2025-03-14 16:20:39.239 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:39.240 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 21.5893ms
2025-03-14 16:20:39.264 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:39.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:20:39.268 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 39.1832ms
2025-03-14 16:20:39.269 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:39.271 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 51.147ms
2025-03-14 16:20:41.317 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:41.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:20:41.319 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:41.320 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:20:41.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:41.326 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:20:41.326 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:41.327 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:41.329 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:41.330 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:20:41.331 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:20:41.333 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:20:41.334 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:20:41.335 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:20:41.335 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5753ms
2025-03-14 16:20:41.339 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:41.339 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.7196ms
2025-03-14 16:20:41.341 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:41.348 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:41.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:20:41.356 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:20:41.358 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.1409ms
2025-03-14 16:20:41.359 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:20:41.360 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.336ms
2025-03-14 16:20:41.381 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:20:41.383 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:41.387 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.5779ms
2025-03-14 16:20:41.390 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:20:41.391 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:41.394 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:20:41.395 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:20:41.403 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:20:41.405 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:20:41.408 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.2092ms
2025-03-14 16:20:41.409 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:20:41.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 499 null application/json; charset=utf-8 20.3922ms
2025-03-14 16:20:51.712 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:51.713 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:51.714 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.872ms
2025-03-14 16:20:51.716 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:51.721 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:51.722 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:51.724 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:20:51.730 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:51.733 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:20:51.735 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.6558ms
2025-03-14 16:20:51.736 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:51.737 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.4096ms
2025-03-14 16:20:51.964 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:51.965 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:51.965 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.7799ms
2025-03-14 16:20:51.968 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:20:51.970 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:51.971 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:51.972 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:20:51.975 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:51.977 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:20:51.978 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1648ms
2025-03-14 16:20:51.979 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:20:51.980 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.5637ms
2025-03-14 16:20:53.177 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:53.178 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:53.178 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:53.179 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:53.180 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.0894ms
2025-03-14 16:20:53.180 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.4791ms
2025-03-14 16:20:53.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:53.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:20:53.184 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:53.185 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:53.186 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:53.186 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:53.187 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:53.187 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:20:53.191 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:53.191 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:20:53.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:20:53.196 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:20:53.196 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.5871ms
2025-03-14 16:20:53.197 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.2649ms
2025-03-14 16:20:53.197 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:53.198 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:20:53.198 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 15.1772ms
2025-03-14 16:20:53.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 15.6573ms
2025-03-14 16:20:54.708 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:20:54.710 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:54.710 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.1585ms
2025-03-14 16:20:54.712 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:20:54.714 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:20:54.715 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:20:54.716 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:20:54.719 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:20:54.721 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:20:54.723 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.9744ms
2025-03-14 16:20:54.724 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:20:54.725 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.2715ms
2025-03-14 16:20:55.190 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:20:55.192 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:20:55.193 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.6556ms
2025-03-14 16:20:55.546 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:20:55.548 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:20:55.549 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 2.882ms
2025-03-14 16:20:55.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:20:55.578 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:20:55.579 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.2131ms
2025-03-14 16:21:15.325 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:15.326 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:15.327 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:21:15.328 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:21:15.330 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:21:15.331 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:21:15.332 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:15.332 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:15.333 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:21:15.334 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:15.335 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:21:15.336 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:21:15.337 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:21:15.338 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1282ms
2025-03-14 16:21:15.338 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:15.339 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:15.341 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.4437ms
2025-03-14 16:21:15.342 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:15.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:15.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:15.351 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:15.352 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.465ms
2025-03-14 16:21:15.353 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:15.353 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.3908ms
2025-03-14 16:21:23.300 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:23.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:23.302 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:21:23.304 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:21:23.307 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:21:23.309 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:21:23.309 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:23.310 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:23.311 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:21:23.312 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:23.313 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:21:23.315 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:21:23.316 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:21:23.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:23.317 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8278ms
2025-03-14 16:21:23.320 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:23.321 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:23.321 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.4356ms
2025-03-14 16:21:23.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:23.327 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:23.330 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:23.331 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.1011ms
2025-03-14 16:21:23.333 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:23.333 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.5786ms
2025-03-14 16:21:32.807 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:21:32.809 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:32.810 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6462ms
2025-03-14 16:21:32.813 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:21:32.815 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:32.816 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:21:32.817 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:21:32.823 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:21:32.826 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:21:32.827 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.3488ms
2025-03-14 16:21:32.828 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:21:32.829 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.3166ms
2025-03-14 16:21:33.058 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:21:33.060 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.061 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9721ms
2025-03-14 16:21:33.064 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:21:33.067 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.068 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:21:33.069 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:21:33.075 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:21:33.077 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:21:33.078 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1989ms
2025-03-14 16:21:33.079 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:21:33.080 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.5965ms
2025-03-14 16:21:33.342 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:33.343 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:33.345 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.346 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.347 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.9634ms
2025-03-14 16:21:33.348 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7737ms
2025-03-14 16:21:33.351 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:33.353 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:21:33.354 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.355 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:33.356 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:33.357 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:33.358 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:21:33.359 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:21:33.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:21:33.364 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:21:33.366 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:21:33.367 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:21:33.368 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0419ms
2025-03-14 16:21:33.369 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.8246ms
2025-03-14 16:21:33.370 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:33.371 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:21:33.372 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.9905ms
2025-03-14 16:21:33.372 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.6149ms
2025-03-14 16:21:33.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:21:33.556 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:21:33.557 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.6183ms
2025-03-14 16:21:35.663 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:21:35.665 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:35.665 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.1211ms
2025-03-14 16:21:35.669 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:21:35.670 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:35.671 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:21:35.673 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:21:35.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:21:35.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:21:35.682 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.5548ms
2025-03-14 16:21:35.683 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:21:35.684 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 15.5989ms
2025-03-14 16:21:35.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:21:35.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:21:35.855 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:21:35.857 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:21:35.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.9306ms
2025-03-14 16:21:35.858 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.8626ms
2025-03-14 16:21:37.457 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:37.458 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:37.459 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.3737ms
2025-03-14 16:21:37.462 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:37.464 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:37.465 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:37.465 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:37.469 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:37.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:37.478 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:37.483 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:37.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:37.486 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.2581ms
2025-03-14 16:21:37.486 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:37.487 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.4856ms
2025-03-14 16:21:37.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:21:37.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:37.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:37.676 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:21:37.677 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:37.678 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:37.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.6043ms
2025-03-14 16:21:37.679 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.1072ms
2025-03-14 16:21:37.680 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.4761ms
2025-03-14 16:21:38.847 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:21:38.847 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:21:38.848 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:21:38.849 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:21:38.851 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:21:38.852 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:38.853 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.8493ms
2025-03-14 16:21:38.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.5159ms
2025-03-14 16:21:38.854 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.6501ms
2025-03-14 16:21:38.860 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:21:38.862 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:38.862 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:21:38.863 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:21:38.868 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:21:38.870 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:21:38.871 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.0323ms
2025-03-14 16:21:38.872 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:21:38.873 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.2333ms
2025-03-14 16:21:39.042 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:21:39.044 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:21:39.044 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:21:39.047 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:21:39.047 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.0963ms
2025-03-14 16:21:39.048 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.107ms
2025-03-14 16:21:39.907 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:39.909 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:39.910 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7306ms
2025-03-14 16:21:39.913 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:39.914 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:39.915 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:39.916 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:39.920 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:39.924 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:39.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:39.932 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:39.934 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:39.936 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.6778ms
2025-03-14 16:21:39.937 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:39.938 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.9707ms
2025-03-14 16:21:40.095 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:21:40.096 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:40.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:40.098 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:21:40.100 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:40.101 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:40.101 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.9526ms
2025-03-14 16:21:40.102 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.0952ms
2025-03-14 16:21:40.103 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.7982ms
2025-03-14 16:21:41.746 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:21:41.747 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:41.748 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.749 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:41.750 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.750 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 3.9173ms
2025-03-14 16:21:41.752 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.752 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 4.8263ms
2025-03-14 16:21:41.754 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:21:41.754 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 5.453ms
2025-03-14 16:21:41.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:41.758 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.760 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:41.761 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.763 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:21:41.763 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:41.764 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:41.766 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:21:41.767 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 16:21:41.767 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:41.768 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:41.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:41.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:41.796 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 16:21:41.796 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:21:41.800 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 16:21:41.800 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 16:21:41.801 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 16:21:41.802 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 16:21:41.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 16:21:41.811 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:41.812 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:21:41.813 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 45.0118ms
2025-03-14 16:21:41.815 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:21:41.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:21:41.816 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 62.4184ms
2025-03-14 16:21:41.820 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 16:21:41.823 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 16:21:41.830 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 60.164ms
2025-03-14 16:21:41.830 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 61.5747ms
2025-03-14 16:21:41.831 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:41.832 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:21:41.833 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 76.9039ms
2025-03-14 16:21:41.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 74.4577ms
2025-03-14 16:21:41.987 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:41.989 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:41.990 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.7077ms
2025-03-14 16:21:41.991 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:41.993 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:41.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 4.2175ms
2025-03-14 16:21:42.005 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 16:21:42.007 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:21:42.007 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:21:42.009 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:21:42.011 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 16:21:42.011 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:21:42.011 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.524ms
2025-03-14 16:21:42.012 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 7.2546ms
2025-03-14 16:21:42.012 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.2016ms
2025-03-14 16:21:42.025 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:21:42.026 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:42.027 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 1.9836ms
2025-03-14 16:21:42.029 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:21:42.030 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:42.031 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:42.032 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:42.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:42.040 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:21:42.044 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:21:42.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:21:42.046 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 13.1848ms
2025-03-14 16:21:42.048 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:42.048 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 19.5637ms
2025-03-14 16:21:42.086 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:42.088 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:42.088 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2686ms
2025-03-14 16:21:42.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:42.099 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:42.100 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:42.102 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:42.106 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:42.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:42.112 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:42.116 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:42.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:42.119 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.2904ms
2025-03-14 16:21:42.120 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:42.121 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.9056ms
2025-03-14 16:21:42.278 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:21:42.278 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:42.280 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:21:42.280 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:42.282 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:42.282 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.2631ms
2025-03-14 16:21:42.284 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:42.284 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.0637ms
2025-03-14 16:21:42.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.4283ms
2025-03-14 16:21:44.537 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:21:44.537 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:44.538 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:44.539 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.541 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.542 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.543 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 5.9116ms
2025-03-14 16:21:44.544 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 6.0772ms
2025-03-14 16:21:44.544 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 6.5271ms
2025-03-14 16:21:44.546 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:44.547 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:21:44.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:21:44.550 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.551 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.553 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.555 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:21:44.555 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:44.556 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:44.556 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:21:44.557 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:44.559 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 16:21:44.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:44.563 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:44.564 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 16:21:44.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 16:21:44.566 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:44.566 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:21:44.570 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 7.2705ms
2025-03-14 16:21:44.571 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 16:21:44.572 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:21:44.574 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:21:44.575 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 16:21:44.575 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 26.7862ms
2025-03-14 16:21:44.577 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:21:44.578 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 19.3619ms
2025-03-14 16:21:44.580 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 19.834ms
2025-03-14 16:21:44.581 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:21:44.582 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:44.583 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 37.3217ms
2025-03-14 16:21:44.584 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 36.6385ms
2025-03-14 16:21:44.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 16:21:44.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:44.760 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 16:21:44.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:21:44.761 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:44.762 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 4.2606ms
2025-03-14 16:21:44.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:44.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:21:44.764 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:21:44.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.9018ms
2025-03-14 16:21:44.768 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:44.769 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:21:44.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.698ms
2025-03-14 16:21:44.772 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:21:44.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.8886ms
2025-03-14 16:21:44.773 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 9.242ms
2025-03-14 16:21:44.779 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.782 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 10.1256ms
2025-03-14 16:21:44.784 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:21:44.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:44.787 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:44.792 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:21:44.797 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:21:44.801 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:21:44.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:21:44.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:21:44.810 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 15.822ms
2025-03-14 16:21:44.811 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:21:44.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 27.6251ms
2025-03-14 16:21:44.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741965704988 - null null
2025-03-14 16:21:44.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741965704988 - null null
2025-03-14 16:21:45.000 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:21:45.000 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:21:45.001 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741965704988 - null null
2025-03-14 16:21:45.001 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741965704988 - 200 8212 image/jpeg 6.7344ms
2025-03-14 16:21:45.002 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741965704988 - 200 73473 image/jpeg 6.8271ms
2025-03-14 16:21:45.006 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:21:45.008 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741965704988 - 200 16731 image/jpeg 7.3624ms
2025-03-14 16:21:45.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741965705254 - null null
2025-03-14 16:21:45.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741965705255 - null null
2025-03-14 16:21:45.260 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741965705255 - null null
2025-03-14 16:21:45.261 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:21:45.263 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:21:45.265 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:21:45.266 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741965705254 - 200 8212 image/jpeg 6.6608ms
2025-03-14 16:21:45.266 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741965705255 - 200 73473 image/jpeg 7.1371ms
2025-03-14 16:21:45.267 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741965705255 - 200 16731 image/jpeg 7.423ms
2025-03-14 16:21:45.386 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:45.391 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:45.391 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.8749ms
2025-03-14 16:21:45.393 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:21:45.395 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:21:45.396 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:45.396 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:21:45.401 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:21:45.405 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:45.409 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:45.413 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:21:45.415 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:21:45.417 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.9793ms
2025-03-14 16:21:45.418 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:21:45.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.0389ms
2025-03-14 16:21:45.596 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:21:45.597 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:21:45.598 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:21:45.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:21:45.599 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:21:45.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.3965ms
2025-03-14 16:21:45.603 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:21:45.604 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.0446ms
2025-03-14 16:21:45.606 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.0697ms
2025-03-14 16:23:31.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:23:31.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:31.478 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:23:31.480 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:23:31.484 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:23:31.488 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:23:31.493 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:31.495 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:31.495 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:23:31.496 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:23:31.498 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:23:31.501 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:23:31.502 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:23:31.502 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.3601ms
2025-03-14 16:23:31.503 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:23:31.504 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:31.507 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 49.9979ms
2025-03-14 16:23:31.508 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:31.514 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:31.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:31.528 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:23:31.529 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 29.6853ms
2025-03-14 16:23:31.530 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:31.532 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 74.3837ms
2025-03-14 16:23:39.431 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:23:39.434 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.434 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9912ms
2025-03-14 16:23:39.441 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:23:39.443 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.444 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:23:39.448 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:23:39.453 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:23:39.455 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:23:39.456 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4008ms
2025-03-14 16:23:39.458 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:23:39.459 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.6612ms
2025-03-14 16:23:39.629 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:23:39.631 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.632 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7981ms
2025-03-14 16:23:39.636 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:23:39.638 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.640 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:23:39.643 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:23:39.648 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:23:39.650 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:23:39.652 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1085ms
2025-03-14 16:23:39.653 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:23:39.655 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.7634ms
2025-03-14 16:23:39.960 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:23:39.960 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:23:39.962 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.963 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.964 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.6042ms
2025-03-14 16:23:39.964 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8363ms
2025-03-14 16:23:39.966 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:23:39.968 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:23:39.970 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.972 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:39.972 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:39.973 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:39.973 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:23:39.974 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:23:39.978 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:23:39.978 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:23:39.980 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:23:39.982 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:23:39.983 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.4016ms
2025-03-14 16:23:39.984 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.9691ms
2025-03-14 16:23:39.985 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:39.986 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:23:39.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.4294ms
2025-03-14 16:23:39.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.7085ms
2025-03-14 16:23:40.159 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:23:40.162 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:23:40.163 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.5152ms
2025-03-14 16:23:42.188 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:42.190 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:42.191 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.4617ms
2025-03-14 16:23:42.198 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:42.204 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:42.205 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:42.206 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:23:42.212 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:23:42.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:23:42.218 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.9739ms
2025-03-14 16:23:42.219 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:42.220 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 21.9481ms
2025-03-14 16:23:42.390 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:23:42.391 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:23:42.393 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:23:42.395 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:23:42.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.8222ms
2025-03-14 16:23:42.396 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.2688ms
2025-03-14 16:23:43.945 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:43.946 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:43.947 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2908ms
2025-03-14 16:23:43.952 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:43.954 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:43.955 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:43.955 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:23:43.959 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:23:43.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:43.968 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:43.971 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:43.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:23:43.975 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.2056ms
2025-03-14 16:23:43.976 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:43.976 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.0575ms
2025-03-14 16:23:44.156 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:23:44.156 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:23:44.156 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:23:44.158 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:23:44.160 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:23:44.161 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:23:44.162 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.7141ms
2025-03-14 16:23:44.163 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.4439ms
2025-03-14 16:23:44.163 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.0238ms
2025-03-14 16:23:46.287 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:23:46.287 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:23:46.288 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:46.289 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:23:46.290 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:23:46.291 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:46.292 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.0704ms
2025-03-14 16:23:46.293 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.3038ms
2025-03-14 16:23:46.293 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.2926ms
2025-03-14 16:23:46.299 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:46.300 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:46.300 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:46.301 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:23:46.307 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:23:46.309 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:23:46.310 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.0075ms
2025-03-14 16:23:46.312 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:46.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 13.5907ms
2025-03-14 16:23:46.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:23:46.493 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:23:46.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.7655ms
2025-03-14 16:23:47.311 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:47.313 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:47.313 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6369ms
2025-03-14 16:23:47.316 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:47.317 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:47.318 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:47.319 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:23:47.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:23:47.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:47.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:47.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:47.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:23:47.339 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.1702ms
2025-03-14 16:23:47.340 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:47.341 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.9908ms
2025-03-14 16:23:47.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:23:47.532 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:23:47.532 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:23:47.534 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:23:47.536 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:23:47.539 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:23:47.540 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 29.8388ms
2025-03-14 16:23:47.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.3577ms
2025-03-14 16:23:47.543 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 10.3375ms
2025-03-14 16:23:50.225 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:50.225 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:23:50.225 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:23:50.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:50.228 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:23:50.230 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:23:50.230 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.2652ms
2025-03-14 16:23:50.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.9915ms
2025-03-14 16:23:50.232 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 7.2324ms
2025-03-14 16:23:50.235 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:23:50.240 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:50.241 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:50.242 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:23:50.246 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:23:50.248 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:23:50.249 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.2646ms
2025-03-14 16:23:50.250 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:23:50.252 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.8617ms
2025-03-14 16:23:50.427 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:23:50.429 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:23:50.430 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.8638ms
2025-03-14 16:23:50.941 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:50.944 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:50.944 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.8781ms
2025-03-14 16:23:50.948 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:23:50.950 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:23:50.951 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:50.951 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:23:50.955 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:23:50.959 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:50.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:50.967 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:23:50.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:23:50.970 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.7028ms
2025-03-14 16:23:50.972 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:23:50.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.2781ms
2025-03-14 16:23:51.126 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:23:51.127 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:23:51.128 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:23:51.129 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:23:51.130 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:23:51.131 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.5067ms
2025-03-14 16:23:51.133 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:23:51.133 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.5199ms
2025-03-14 16:23:51.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.5585ms
2025-03-14 16:24:45.443 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:45.444 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:24:45.445 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:45.446 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:45.447 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:45.449 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:45.451 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:45.452 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:45.452 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:24:45.453 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:24:45.454 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:24:45.455 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:24:45.456 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:24:45.456 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.6677ms
2025-03-14 16:24:45.457 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:24:45.457 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:45.459 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.5766ms
2025-03-14 16:24:45.459 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.464 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:24:45.469 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.1586ms
2025-03-14 16:24:45.469 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:45.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.3445ms
2025-03-14 16:24:45.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:45.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:24:45.826 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:45.827 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:45.829 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:45.830 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:45.831 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:45.831 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:45.832 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:24:45.832 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:24:45.833 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:24:45.835 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:24:45.836 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:24:45.837 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6185ms
2025-03-14 16:24:45.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:24:45.838 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:45.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.2548ms
2025-03-14 16:24:45.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.845 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.848 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:45.849 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:24:45.850 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.9028ms
2025-03-14 16:24:45.851 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:45.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.4279ms
2025-03-14 16:24:55.803 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:24:55.805 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:55.806 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9953ms
2025-03-14 16:24:55.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:24:55.810 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:55.811 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:24:55.812 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:24:55.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:24:55.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:24:55.819 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.554ms
2025-03-14 16:24:55.820 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:24:55.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.19ms
2025-03-14 16:24:56.052 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:24:56.055 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:56.055 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0547ms
2025-03-14 16:24:56.058 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:24:56.059 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:56.060 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:24:56.060 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:24:56.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:24:56.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:24:56.068 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9885ms
2025-03-14 16:24:56.069 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:24:56.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.1095ms
2025-03-14 16:24:57.209 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:57.210 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:57.211 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:57.213 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:57.214 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.4015ms
2025-03-14 16:24:57.215 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3397ms
2025-03-14 16:24:57.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:57.222 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:57.223 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.223 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:57.224 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:24:57.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:24:57.228 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.230 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:24:57.231 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:24:57.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:24:57.236 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:24:57.237 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.5175ms
2025-03-14 16:24:57.241 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:24:57.241 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.242 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.7741ms
2025-03-14 16:24:57.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.0826ms
2025-03-14 16:24:57.244 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.9603ms
2025-03-14 16:24:57.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:24:57.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:24:57.386 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:57.388 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:24:57.390 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:57.392 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:24:57.392 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.393 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:57.393 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:24:57.394 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:24:57.395 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:24:57.396 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:24:57.397 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:24:57.398 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3216ms
2025-03-14 16:24:57.398 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:24:57.399 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:24:57.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.4369ms
2025-03-14 16:24:57.403 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:57.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:57.411 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:24:57.414 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:24:57.416 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.1577ms
2025-03-14 16:24:57.417 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:24:57.418 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.7299ms
2025-03-14 16:25:07.211 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:07.213 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:07.214 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3127ms
2025-03-14 16:25:07.217 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:07.218 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:07.219 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:07.220 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:25:07.224 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:07.227 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:25:07.228 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6965ms
2025-03-14 16:25:07.229 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:07.230 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.9312ms
2025-03-14 16:25:07.479 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:07.481 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:07.482 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6311ms
2025-03-14 16:25:07.484 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:07.487 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:07.488 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:07.490 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:25:07.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:07.498 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:25:07.499 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.9738ms
2025-03-14 16:25:07.504 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:07.505 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.1628ms
2025-03-14 16:25:08.217 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:08.217 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:08.219 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:08.221 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:08.221 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3167ms
2025-03-14 16:25:08.222 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.4026ms
2025-03-14 16:25:08.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:08.225 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:08.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:08.227 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:08.228 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:08.228 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:08.229 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:25:08.229 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:25:08.235 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:08.237 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:08.238 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:25:08.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:25:08.240 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.9074ms
2025-03-14 16:25:08.241 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.4588ms
2025-03-14 16:25:08.242 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:08.243 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:08.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.6133ms
2025-03-14 16:25:08.245 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.5016ms
2025-03-14 16:25:10.373 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:25:10.375 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:25:10.376 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.2612ms
2025-03-14 16:25:10.678 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:10.680 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:10.681 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.8225ms
2025-03-14 16:25:10.684 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:10.687 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:10.689 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:10.690 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:25:10.694 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:25:10.698 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:25:10.699 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.3339ms
2025-03-14 16:25:10.700 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:10.700 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.0935ms
2025-03-14 16:25:11.722 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:25:11.724 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:25:11.725 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 2.89ms
2025-03-14 16:25:11.896 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:25:11.897 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:25:11.898 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.3589ms
2025-03-14 16:25:14.329 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:14.329 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:25:14.330 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:25:14.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:25:14.333 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:25:14.335 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:25:14.335 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:14.336 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:25:14.337 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:25:14.338 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:25:14.340 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:25:14.342 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:25:14.343 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:25:14.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:25:14.343 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.608ms
2025-03-14 16:25:14.345 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:14.346 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:14.346 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.7364ms
2025-03-14 16:25:14.350 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:14.354 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:14.356 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:25:14.357 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.1942ms
2025-03-14 16:25:14.358 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:25:14.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.1393ms
2025-03-14 16:25:22.476 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:22.478 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:22.478 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4717ms
2025-03-14 16:25:22.482 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:22.483 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:22.485 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:22.489 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:25:22.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:22.496 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:25:22.497 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0879ms
2025-03-14 16:25:22.498 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:22.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.0933ms
2025-03-14 16:25:22.707 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:22.709 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:22.710 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7981ms
2025-03-14 16:25:22.716 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:25:22.718 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:22.720 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:22.721 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:25:22.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:22.727 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:25:22.729 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9719ms
2025-03-14 16:25:22.730 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:25:22.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.7829ms
2025-03-14 16:25:23.014 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:23.014 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:23.016 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:23.017 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:23.018 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.3907ms
2025-03-14 16:25:23.018 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.7469ms
2025-03-14 16:25:23.021 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:23.022 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:25:23.024 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:23.025 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:23.026 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:23.026 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:23.026 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:25:23.028 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:25:23.033 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:23.034 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:25:23.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:25:23.040 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:25:23.040 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.8717ms
2025-03-14 16:25:23.041 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.2471ms
2025-03-14 16:25:23.042 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:23.043 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:25:23.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.3247ms
2025-03-14 16:25:23.045 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.0387ms
2025-03-14 16:25:23.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:25:23.226 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:25:23.227 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.6369ms
2025-03-14 16:25:25.323 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:25.325 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:25.325 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.3695ms
2025-03-14 16:25:25.328 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:25.330 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:25.331 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:25.332 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:25:25.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:25:25.338 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:25:25.340 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.0842ms
2025-03-14 16:25:25.342 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:25.342 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 14.8452ms
2025-03-14 16:25:25.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:25:25.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:25:25.524 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:25:25.525 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:25:25.526 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.4085ms
2025-03-14 16:25:25.527 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.2896ms
2025-03-14 16:25:27.960 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:25:27.962 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:27.962 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.1189ms
2025-03-14 16:25:27.965 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:25:27.966 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:27.967 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:25:27.968 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:25:27.973 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:25:27.977 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:27.980 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:27.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:25:27.988 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:25:27.988 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.0055ms
2025-03-14 16:25:27.989 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:25:27.990 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.3383ms
2025-03-14 16:25:28.160 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:25:28.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:25:28.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:25:28.164 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:25:28.165 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:25:28.167 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:25:28.167 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.4667ms
2025-03-14 16:25:28.168 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.9796ms
2025-03-14 16:25:28.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.8493ms
2025-03-14 16:25:30.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:25:30.068 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:25:30.070 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:25:30.072 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:25:30.072 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.7518ms
2025-03-14 16:25:30.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.4533ms
2025-03-14 16:25:30.074 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:30.079 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:30.079 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.224ms
2025-03-14 16:25:30.081 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:25:30.083 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:25:30.084 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:30.085 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:25:30.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:25:30.091 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:25:30.093 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.2849ms
2025-03-14 16:25:30.094 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:25:30.095 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 13.3694ms
2025-03-14 16:25:30.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:25:30.279 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:25:30.279 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.6734ms
2025-03-14 16:27:03.108 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:03.109 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:03.111 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:27:03.113 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:27:03.116 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:27:03.118 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:27:03.119 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:03.121 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:03.122 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:03.122 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:27:03.124 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:27:03.128 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:27:03.129 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:27:03.130 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:27:03.131 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.3074ms
2025-03-14 16:27:03.134 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:03.135 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:03.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 26.6552ms
2025-03-14 16:27:03.140 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:03.146 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:03.148 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:27:03.150 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.7348ms
2025-03-14 16:27:03.152 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:03.153 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 43.3658ms
2025-03-14 16:27:11.862 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:11.865 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:11.866 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1415ms
2025-03-14 16:27:11.870 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:11.874 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:11.876 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:11.877 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:27:11.882 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:11.884 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:27:11.885 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3262ms
2025-03-14 16:27:11.888 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:11.889 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.5212ms
2025-03-14 16:27:12.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:12.121 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.122 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9445ms
2025-03-14 16:27:12.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:12.131 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.132 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:12.133 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:27:12.138 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:12.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:27:12.142 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0585ms
2025-03-14 16:27:12.143 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:12.144 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.3649ms
2025-03-14 16:27:12.395 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:12.397 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:12.397 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.399 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.400 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3657ms
2025-03-14 16:27:12.400 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.5305ms
2025-03-14 16:27:12.403 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:12.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:12.407 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.409 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:12.411 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:12.411 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:12.412 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:12.414 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:12.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:12.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:12.423 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:27:12.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:27:12.426 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.6209ms
2025-03-14 16:27:12.428 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.419ms
2025-03-14 16:27:12.428 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:12.430 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:12.431 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.3985ms
2025-03-14 16:27:12.432 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.0531ms
2025-03-14 16:27:12.595 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:27:12.598 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:27:12.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.5046ms
2025-03-14 16:27:14.741 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:14.743 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:14.744 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.6648ms
2025-03-14 16:27:14.748 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:14.750 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:14.751 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:14.753 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:27:14.758 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:27:14.760 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:27:14.762 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.846ms
2025-03-14 16:27:14.763 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:14.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.8067ms
2025-03-14 16:27:14.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:27:14.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:27:14.937 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:27:14.939 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:27:14.940 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.2088ms
2025-03-14 16:27:14.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 7.6107ms
2025-03-14 16:27:17.206 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:17.208 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:17.209 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6705ms
2025-03-14 16:27:17.211 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:17.214 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:17.215 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:17.216 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:27:17.221 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:27:17.226 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:17.230 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:17.235 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:17.237 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:27:17.238 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.0479ms
2025-03-14 16:27:17.239 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:17.241 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.213ms
2025-03-14 16:27:17.406 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:27:17.407 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:27:17.407 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:27:17.410 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:27:17.412 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:27:17.415 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:27:17.415 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 8.7836ms
2025-03-14 16:27:17.416 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 9.562ms
2025-03-14 16:27:17.417 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 10.4532ms
2025-03-14 16:27:18.997 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:27:18.998 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:27:19.000 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:27:19.002 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:27:19.003 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 6.0721ms
2025-03-14 16:27:19.004 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:19.004 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.1282ms
2025-03-14 16:27:19.010 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:19.013 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 8.764ms
2025-03-14 16:27:19.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:19.018 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:19.019 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:19.020 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:27:19.026 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:27:19.028 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:27:19.029 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.9897ms
2025-03-14 16:27:19.030 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:19.031 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 15.3853ms
2025-03-14 16:27:19.201 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:27:19.205 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:27:19.205 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.028ms
2025-03-14 16:27:20.627 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:20.630 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:20.631 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.8243ms
2025-03-14 16:27:20.634 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:20.636 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:20.637 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:20.639 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:27:20.643 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:27:20.648 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:20.653 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:20.657 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:20.660 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:27:20.662 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3784ms
2025-03-14 16:27:20.663 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:20.665 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.733ms
2025-03-14 16:27:20.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:27:20.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:27:20.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:27:20.833 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:27:20.835 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:27:20.837 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:27:20.838 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 8.3799ms
2025-03-14 16:27:20.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 9.4834ms
2025-03-14 16:27:20.840 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.8427ms
2025-03-14 16:27:39.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:39.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:27:39.306 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:27:39.308 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:27:39.310 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:27:39.312 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:27:39.313 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:39.313 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:39.314 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:39.315 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:27:39.316 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:27:39.318 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:27:39.319 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:27:39.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:27:39.319 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2387ms
2025-03-14 16:27:39.322 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:39.322 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:39.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.2867ms
2025-03-14 16:27:39.327 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:39.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:27:39.334 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:27:39.335 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.2582ms
2025-03-14 16:27:39.337 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:27:39.337 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.2719ms
2025-03-14 16:27:49.191 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:49.192 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:49.193 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4341ms
2025-03-14 16:27:49.196 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:49.198 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:49.199 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:49.200 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:27:49.205 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:49.207 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:27:49.208 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.257ms
2025-03-14 16:27:49.209 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:49.209 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.076ms
2025-03-14 16:27:49.449 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:49.450 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:49.451 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9539ms
2025-03-14 16:27:49.454 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:27:49.455 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:49.456 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:49.457 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:27:49.461 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:49.463 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:27:49.464 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6694ms
2025-03-14 16:27:49.464 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:27:49.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.8248ms
2025-03-14 16:27:50.291 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:50.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:50.293 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:50.294 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:50.294 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.0118ms
2025-03-14 16:27:50.295 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.1966ms
2025-03-14 16:27:50.298 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:50.299 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:27:50.300 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:50.302 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:50.302 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:50.303 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:50.304 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:50.305 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:27:50.312 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:50.314 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:27:50.317 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:27:50.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:27:50.320 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.5284ms
2025-03-14 16:27:50.321 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.963ms
2025-03-14 16:27:50.321 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:50.322 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:27:50.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.4279ms
2025-03-14 16:27:50.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.673ms
2025-03-14 16:27:52.435 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:27:52.436 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:27:52.437 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.6568ms
2025-03-14 16:27:52.732 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:52.733 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:52.734 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.6645ms
2025-03-14 16:27:52.737 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:27:52.739 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:27:52.740 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:52.740 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:27:52.744 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:27:52.746 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:27:52.748 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.963ms
2025-03-14 16:27:52.749 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:27:52.750 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.686ms
2025-03-14 16:27:53.424 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:27:53.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:27:53.426 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:27:53.428 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:27:53.429 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.1012ms
2025-03-14 16:27:53.431 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.3615ms
2025-03-14 16:28:14.086 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:28:14.088 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:14.088 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4368ms
2025-03-14 16:28:14.090 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:28:14.091 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:14.093 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:14.095 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:28:14.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:28:14.104 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:14.110 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:14.114 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:14.116 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:28:14.116 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.5583ms
2025-03-14 16:28:14.117 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:14.119 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.4452ms
2025-03-14 16:28:14.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:28:14.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:28:14.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:28:14.306 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:28:14.307 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:28:14.308 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:28:14.309 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.2556ms
2025-03-14 16:28:14.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.9873ms
2025-03-14 16:28:14.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.8727ms
2025-03-14 16:28:16.170 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:28:16.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:28:16.174 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:28:16.175 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:28:16.175 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:28:16.176 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.6988ms
2025-03-14 16:28:16.176 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.7915ms
2025-03-14 16:28:16.178 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:16.183 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 7.2679ms
2025-03-14 16:28:16.185 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:28:16.186 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:16.187 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:28:16.188 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:28:16.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:28:16.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:28:16.196 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.1569ms
2025-03-14 16:28:16.197 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:28:16.198 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.6539ms
2025-03-14 16:28:16.362 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:28:16.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:28:16.364 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:28:16.366 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:28:16.366 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.5176ms
2025-03-14 16:28:16.367 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.9178ms
2025-03-14 16:28:43.694 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:28:43.696 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:43.696 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.0865ms
2025-03-14 16:28:43.698 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:28:43.700 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:43.701 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:43.701 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:28:43.706 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:28:43.710 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:43.714 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:43.717 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:43.720 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:28:43.721 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.7579ms
2025-03-14 16:28:43.722 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:43.723 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.3699ms
2025-03-14 16:28:43.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:28:43.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:28:43.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:28:43.906 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:28:43.908 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:28:43.909 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:28:43.910 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.4849ms
2025-03-14 16:28:43.911 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.3392ms
2025-03-14 16:28:43.911 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.2964ms
2025-03-14 16:28:47.071 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:28:47.071 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:28:47.073 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:28:47.075 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:28:47.077 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:28:47.079 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:28:47.079 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:47.080 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:47.081 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:28:47.081 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:28:47.082 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:28:47.084 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:28:47.085 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:28:47.086 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3235ms
2025-03-14 16:28:47.086 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:28:47.087 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:47.089 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9094ms
2025-03-14 16:28:47.091 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:47.096 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:47.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:28:47.103 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:28:47.104 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.9143ms
2025-03-14 16:28:47.105 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:28:47.106 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.4216ms
2025-03-14 16:28:55.252 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:28:55.255 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:55.256 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5234ms
2025-03-14 16:28:55.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:28:55.261 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:55.262 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:28:55.264 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:28:55.269 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:28:55.271 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:28:55.273 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0933ms
2025-03-14 16:28:55.274 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:28:55.276 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.0679ms
2025-03-14 16:28:55.495 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:28:55.498 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:55.499 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4727ms
2025-03-14 16:28:55.504 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:28:55.506 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:55.507 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:28:55.508 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:28:55.513 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:28:55.515 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:28:55.517 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.8243ms
2025-03-14 16:28:55.518 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:28:55.519 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0388ms
2025-03-14 16:28:56.291 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:28:56.296 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:56.297 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2051ms
2025-03-14 16:28:56.300 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:28:56.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:28:56.302 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:56.305 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:56.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.4848ms
2025-03-14 16:28:56.307 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:56.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:28:56.310 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:28:56.312 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:56.315 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:56.316 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:28:56.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:28:56.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:28:56.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:28:56.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:28:56.325 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.581ms
2025-03-14 16:28:56.326 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.392ms
2025-03-14 16:28:56.327 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:56.328 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:28:56.329 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.6221ms
2025-03-14 16:28:56.330 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 21.0107ms
2025-03-14 16:28:58.245 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:28:58.248 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:28:58.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.4187ms
2025-03-14 16:28:58.989 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:28:58.990 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:58.991 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.8026ms
2025-03-14 16:28:58.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:28:58.996 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:28:58.997 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:28:58.998 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:28:59.002 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:28:59.004 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:28:59.005 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.6647ms
2025-03-14 16:28:59.006 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:28:59.007 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.3795ms
2025-03-14 16:28:59.195 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:28:59.195 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:28:59.197 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:28:59.198 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:28:59.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.0881ms
2025-03-14 16:28:59.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.5416ms
2025-03-14 16:29:01.271 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:01.274 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:01.275 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.727ms
2025-03-14 16:29:01.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:01.280 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:01.280 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:01.281 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:01.286 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:01.289 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:01.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:01.297 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:01.301 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:01.302 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.1296ms
2025-03-14 16:29:01.303 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:01.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.696ms
2025-03-14 16:29:01.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:29:01.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:01.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:01.484 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:29:01.485 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:01.486 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:01.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.9487ms
2025-03-14 16:29:01.487 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.6575ms
2025-03-14 16:29:01.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.1863ms
2025-03-14 16:29:03.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:03.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:03.334 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:03.335 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:03.336 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.6268ms
2025-03-14 16:29:03.336 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:03.337 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.3974ms
2025-03-14 16:29:03.340 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:03.342 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.6346ms
2025-03-14 16:29:03.345 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:03.346 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:03.347 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:03.348 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:29:03.352 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:29:03.354 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:29:03.355 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.437ms
2025-03-14 16:29:03.356 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:03.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.6906ms
2025-03-14 16:29:05.045 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:05.047 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:05.103 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 58.1976ms
2025-03-14 16:29:05.135 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:05.158 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:05.160 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:05.161 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:05.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:05.174 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:05.182 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:05.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:05.188 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:05.190 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.6655ms
2025-03-14 16:29:05.191 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:05.192 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 57.7189ms
2025-03-14 16:29:05.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:29:05.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:05.298 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:29:05.299 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:05.299 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:05.300 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.5495ms
2025-03-14 16:29:05.302 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:05.302 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.9784ms
2025-03-14 16:29:05.309 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.5745ms
2025-03-14 16:29:20.862 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:20.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:20.864 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:29:20.865 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:29:20.866 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:29:20.869 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:29:20.869 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:20.870 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:20.871 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:20.872 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:20.874 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:29:20.875 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:20.875 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:29:20.878 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:29:20.879 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:20.879 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.8058ms
2025-03-14 16:29:20.881 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:20.883 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:20.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.1326ms
2025-03-14 16:29:20.886 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:20.887 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:20.888 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.2724ms
2025-03-14 16:29:20.889 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:20.889 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.0412ms
2025-03-14 16:29:28.924 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:28.926 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:28.926 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6698ms
2025-03-14 16:29:28.953 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:28.958 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:28.959 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:28.961 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:29:28.967 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:28.969 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:29:28.969 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4289ms
2025-03-14 16:29:28.970 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:28.971 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.6726ms
2025-03-14 16:29:29.164 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:29.168 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.169 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.6804ms
2025-03-14 16:29:29.179 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:29.181 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.182 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:29.183 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:29:29.189 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:29.191 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:29:29.192 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.2744ms
2025-03-14 16:29:29.192 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:29.193 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.4846ms
2025-03-14 16:29:29.530 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:29.530 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:29.532 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.534 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.534 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.5586ms
2025-03-14 16:29:29.535 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1739ms
2025-03-14 16:29:29.543 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:29.543 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:29.545 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.547 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:29.548 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:29.549 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:29.549 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:29.550 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:29.557 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:29.559 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:29.560 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:29:29.561 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:29:29.562 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.8014ms
2025-03-14 16:29:29.562 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.2518ms
2025-03-14 16:29:29.563 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:29.564 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:29.565 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 21.9816ms
2025-03-14 16:29:29.566 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.584ms
2025-03-14 16:29:29.742 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:29:29.744 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:29:29.745 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.6066ms
2025-03-14 16:29:31.775 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:31.777 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:31.777 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.2512ms
2025-03-14 16:29:31.782 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:31.784 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:31.788 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:31.789 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:29:31.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:29:31.795 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:29:31.796 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.0641ms
2025-03-14 16:29:31.797 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:31.799 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.7915ms
2025-03-14 16:29:31.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:31.967 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:31.970 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:31.972 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:31.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.7766ms
2025-03-14 16:29:31.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.4716ms
2025-03-14 16:29:34.018 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:34.020 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:34.020 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.226ms
2025-03-14 16:29:34.023 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:34.025 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:34.026 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:34.027 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:34.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:34.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:34.040 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:34.044 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:34.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:34.048 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.7914ms
2025-03-14 16:29:34.048 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:34.049 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.5115ms
2025-03-14 16:29:34.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:29:34.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:34.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:34.069 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:29:34.070 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:34.072 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:34.072 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.3785ms
2025-03-14 16:29:34.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.2027ms
2025-03-14 16:29:34.074 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.6221ms
2025-03-14 16:29:36.111 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:36.111 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:36.113 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:36.114 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:36.115 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.4011ms
2025-03-14 16:29:36.116 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.6323ms
2025-03-14 16:29:36.121 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:36.123 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:36.124 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.9205ms
2025-03-14 16:29:36.126 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:36.127 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:36.128 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:36.129 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:29:36.134 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:29:36.136 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:29:36.137 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.4322ms
2025-03-14 16:29:36.139 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:36.141 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 15.1559ms
2025-03-14 16:29:36.148 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:36.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:36.150 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:36.152 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:36.152 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.1961ms
2025-03-14 16:29:36.153 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.8186ms
2025-03-14 16:29:46.826 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:46.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:46.828 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:29:46.830 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 16:29:46.831 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:29:46.832 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 16:29:46.833 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:46.834 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:46.834 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:46.835 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:46.836 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 16:29:46.837 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 16:29:46.838 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 16:29:46.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:46.839 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.1793ms
2025-03-14 16:29:46.841 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:46.843 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.9692ms
2025-03-14 16:29:46.843 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:46.848 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:46.852 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:46.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:46.855 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.1077ms
2025-03-14 16:29:46.856 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:46.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.1852ms
2025-03-14 16:29:47.209 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:47.212 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.213 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.7863ms
2025-03-14 16:29:47.217 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:47.219 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.220 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:47.222 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:29:47.226 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:47.228 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:29:47.229 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9488ms
2025-03-14 16:29:47.231 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:47.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.1113ms
2025-03-14 16:29:47.378 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:47.380 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.380 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1851ms
2025-03-14 16:29:47.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 16:29:47.387 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.388 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:47.388 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 16:29:47.393 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:47.395 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 16:29:47.396 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6497ms
2025-03-14 16:29:47.397 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 16:29:47.398 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.4369ms
2025-03-14 16:29:47.799 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:47.799 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:47.801 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.803 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:47.804 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.804 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.9009ms
2025-03-14 16:29:47.811 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.812 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 12.5475ms
2025-03-14 16:29:47.813 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:47.814 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 11.1914ms
2025-03-14 16:29:47.819 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 16:29:47.822 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:47.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:47.826 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.826 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:47.828 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:47.829 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:47.832 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:47.834 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 16:29:47.835 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:47.840 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:29:47.844 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:29:47.844 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 16:29:47.846 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 15.818ms
2025-03-14 16:29:47.851 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:29:47.851 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 16:29:47.852 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:47.854 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:29:47.855 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.4641ms
2025-03-14 16:29:47.855 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 42.1503ms
2025-03-14 16:29:47.857 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.2284ms
2025-03-14 16:29:47.857 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 16:29:47.863 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:47.864 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 42.6386ms
2025-03-14 16:29:47.865 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 42.5635ms
2025-03-14 16:29:47.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 16:29:47.913 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 16:29:47.915 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.3202ms
2025-03-14 16:29:47.935 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:47.936 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:47.937 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:47.939 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:47.940 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.5365ms
2025-03-14 16:29:47.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.5991ms
2025-03-14 16:29:49.452 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:49.454 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:49.454 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4809ms
2025-03-14 16:29:49.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:49.459 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:49.460 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:49.461 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:49.466 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:49.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:49.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:49.481 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:49.483 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:49.485 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.8187ms
2025-03-14 16:29:49.486 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:49.487 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.4066ms
2025-03-14 16:29:49.506 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:29:49.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:49.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:49.509 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:29:49.511 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:49.513 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:49.513 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.7207ms
2025-03-14 16:29:49.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.8306ms
2025-03-14 16:29:49.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.9283ms
2025-03-14 16:29:50.642 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:50.643 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:50.645 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:50.647 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:50.648 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 5.5031ms
2025-03-14 16:29:50.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.6081ms
2025-03-14 16:29:50.650 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:50.660 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:50.661 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 10.332ms
2025-03-14 16:29:50.665 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 16:29:50.667 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:50.669 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:50.670 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 16:29:50.675 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 16:29:50.677 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 16:29:50.678 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.0208ms
2025-03-14 16:29:50.679 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 16:29:50.680 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 15.592ms
2025-03-14 16:29:50.689 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 16:29:50.691 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 16:29:50.691 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 16:29:50.693 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 16:29:50.693 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.4057ms
2025-03-14 16:29:50.694 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.3115ms
2025-03-14 16:29:51.669 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:51.671 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:51.672 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.0828ms
2025-03-14 16:29:51.675 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:29:51.677 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:51.678 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:51.678 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:51.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:29:51.687 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:51.691 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:51.695 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:29:51.697 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:51.698 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.3435ms
2025-03-14 16:29:51.699 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:29:51.699 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.9525ms
2025-03-14 16:29:51.721 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:29:51.721 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:51.723 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:51.723 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:29:51.724 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:51.726 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:51.726 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.2695ms
2025-03-14 16:29:51.727 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.2107ms
2025-03-14 16:29:51.728 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.2312ms
2025-03-14 16:29:53.318 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:29:53.319 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:53.320 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 2.0514ms
2025-03-14 16:29:53.323 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 16:29:53.324 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:53.325 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:29:53.326 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:53.332 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:29:53.333 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:53.334 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 6.4298ms
2025-03-14 16:29:53.335 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:29:53.336 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 12.9325ms
2025-03-14 16:29:55.317 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:29:55.319 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:55.320 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.4184ms
2025-03-14 16:29:55.322 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 16:29:55.324 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:55.325 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:29:55.325 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:55.330 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:29:55.335 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 16:29:55.356 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 16:29:55.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:55.358 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 31.4255ms
2025-03-14 16:29:55.359 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 16:29:55.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 37.709ms
2025-03-14 16:29:55.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:55.374 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:55.377 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.8382ms
2025-03-14 16:29:55.385 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:29:55.385 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:29:55.388 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:29:55.390 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:29:55.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.8492ms
2025-03-14 16:29:55.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 6.5739ms
2025-03-14 16:29:57.854 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 16:29:57.856 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:57.857 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 204 null null 3.0282ms
2025-03-14 16:29:57.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 16:29:57.860 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:57.862 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 16:29:57.866 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:29:57.885 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 16:29:57.889 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 16:29:57.893 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 26.349ms
2025-03-14 16:29:57.894 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 16:29:57.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 200 null application/json; charset=utf-8 35.817ms
2025-03-14 16:29:57.908 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:57.911 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:57.912 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.3454ms
2025-03-14 16:29:59.386 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:29:59.386 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:29:59.387 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:29:59.387 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.388 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.390 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 4.6471ms
2025-03-14 16:29:59.391 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 5.1213ms
2025-03-14 16:29:59.392 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 5.3063ms
2025-03-14 16:29:59.395 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:29:59.396 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:29:59.397 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:29:59.399 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.401 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.402 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.403 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:29:59.403 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:29:59.404 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:29:59.404 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:29:59.405 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 16:29:59.406 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:29:59.410 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:29:59.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 16:29:59.413 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:29:59.413 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 16:29:59.414 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 6.1677ms
2025-03-14 16:29:59.416 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:29:59.417 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 20.9817ms
2025-03-14 16:29:59.417 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 16:29:59.421 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 16:29:59.423 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 15.7432ms
2025-03-14 16:29:59.423 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:29:59.424 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 28.6959ms
2025-03-14 16:29:59.443 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:29:59.446 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:29:59.450 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:29:59.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:29:59.453 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 43.2633ms
2025-03-14 16:29:59.454 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:29:59.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 57.1654ms
2025-03-14 16:29:59.591 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:29:59.594 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:29:59.594 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:29:59.596 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:29:59.596 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.9101ms
2025-03-14 16:29:59.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.3962ms
2025-03-14 16:29:59.599 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:29:59.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:29:59.604 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:29:59.606 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:29:59.606 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.9115ms
2025-03-14 16:29:59.607 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.6873ms
2025-03-14 16:29:59.613 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 16:29:59.616 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 16:29:59.617 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 4.0302ms
2025-03-14 16:29:59.621 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:29:59.622 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.623 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 2.5178ms
2025-03-14 16:29:59.626 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:29:59.627 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:29:59.629 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:29:59.632 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:29:59.636 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:29:59.640 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:29:59.644 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:29:59.647 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:29:59.648 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 15.2987ms
2025-03-14 16:29:59.650 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:29:59.650 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 24.738ms
2025-03-14 16:29:59.679 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966199672 - null null
2025-03-14 16:29:59.679 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966199672 - null null
2025-03-14 16:29:59.680 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966199672 - null null
2025-03-14 16:29:59.681 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:29:59.685 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:29:59.687 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:29:59.687 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966199672 - 200 8212 image/jpeg 8.0266ms
2025-03-14 16:29:59.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966199672 - 200 73473 image/jpeg 8.5965ms
2025-03-14 16:29:59.689 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966199672 - 200 16731 image/jpeg 9.1773ms
2025-03-14 16:30:00.142 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966200137 - null null
2025-03-14 16:30:00.142 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966200137 - null null
2025-03-14 16:30:00.142 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966200137 - null null
2025-03-14 16:30:00.145 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:30:00.148 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:30:00.148 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966200137 - 200 8212 image/jpeg 6.6089ms
2025-03-14 16:30:00.149 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966200137 - 200 16731 image/jpeg 7.1419ms
2025-03-14 16:30:00.149 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:30:00.154 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966200137 - 200 73473 image/jpeg 11.9162ms
2025-03-14 16:30:00.262 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:30:00.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:00.265 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.9109ms
2025-03-14 16:30:00.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 16:30:00.270 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:00.271 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:30:00.272 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 16:30:00.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 16:30:00.279 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:30:00.284 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:30:00.288 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 16:30:00.290 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:30:00.291 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.7614ms
2025-03-14 16:30:00.292 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 16:30:00.293 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.6571ms
2025-03-14 16:30:00.303 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 16:30:00.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:30:00.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:30:00.306 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 16:30:00.307 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:30:00.308 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:30:00.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.1951ms
2025-03-14 16:30:00.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.5152ms
2025-03-14 16:30:00.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.4131ms
2025-03-14 16:30:01.325 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:30:01.326 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:30:01.326 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:30:01.327 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.329 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.330 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.331 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 5.7511ms
2025-03-14 16:30:01.332 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 5.799ms
2025-03-14 16:30:01.332 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 5.8622ms
2025-03-14 16:30:01.335 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 16:30:01.336 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 16:30:01.338 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 16:30:01.340 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.343 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.344 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.345 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:30:01.345 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:30:01.345 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:30:01.346 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:30:01.346 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:30:01.347 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 16:30:01.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:30:01.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:30:01.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 16:30:01.355 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 16:30:01.356 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:30:01.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 16:30:01.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 16:30:01.360 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 9.0115ms
2025-03-14 16:30:01.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:30:01.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 16:30:01.364 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 16:30:01.366 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:30:01.367 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 18.9175ms
2025-03-14 16:30:01.367 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 29.5325ms
2025-03-14 16:30:01.369 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 19.3779ms
2025-03-14 16:30:01.369 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 16:30:01.372 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:30:01.373 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 38.4024ms
2025-03-14 16:30:01.374 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 37.5428ms
2025-03-14 16:30:01.527 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:30:01.529 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.530 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 2.9298ms
2025-03-14 16:30:01.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 16:30:01.534 +01:00 [INF] CORS policy execution successful.
2025-03-14 16:30:01.535 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:30:01.536 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 16:30:01.540 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 16:30:01.544 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 16:30:01.547 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 16:30:01.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 16:30:01.552 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 14.7389ms
2025-03-14 16:30:01.553 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 16:30:01.554 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 16:30:01.555 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 16:30:01.556 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 16:30:01.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 23.3684ms
2025-03-14 16:30:01.558 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 16:30:01.558 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 5.5777ms
2025-03-14 16:30:01.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 16:30:01.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.6444ms
2025-03-14 16:30:01.564 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 16:30:01.566 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 16:30:01.568 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 16:30:01.570 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 16:30:01.570 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 13.8347ms
2025-03-14 16:30:01.572 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 16:30:01.573 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.4431ms
2025-03-14 16:30:01.576 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 7.8686ms
2025-03-14 16:30:01.603 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966201598 - null null
2025-03-14 16:30:01.603 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966201598 - null null
2025-03-14 16:30:01.604 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966201598 - null null
2025-03-14 16:30:01.606 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:30:01.608 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:30:01.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966201598 - 200 8212 image/jpeg 10.0202ms
2025-03-14 16:30:01.613 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:30:01.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966201598 - 200 73473 image/jpeg 10.6438ms
2025-03-14 16:30:01.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966201598 - 200 16731 image/jpeg 15.3431ms
2025-03-14 16:31:15.634 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966275619 - null null
2025-03-14 16:31:15.635 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966275618 - null null
2025-03-14 16:31:15.636 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966275619 - null null
2025-03-14 16:31:15.638 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 16:31:15.639 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 16:31:15.641 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 16:31:15.641 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741966275619 - 200 73473 image/jpeg 6.8908ms
2025-03-14 16:31:15.642 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741966275618 - 200 8212 image/jpeg 7.4509ms
2025-03-14 16:31:15.643 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741966275619 - 200 16731 image/jpeg 7.7872ms
2025-03-14 17:06:59.045 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741968419019 - null null
2025-03-14 17:06:59.046 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741968419020 - null null
2025-03-14 17:06:59.048 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741968419021 - null null
2025-03-14 17:06:59.049 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:06:59.052 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:06:59.053 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:06:59.053 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741968419019 - 200 8212 image/jpeg 8.6707ms
2025-03-14 17:06:59.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741968419020 - 200 73473 image/jpeg 8.4898ms
2025-03-14 17:06:59.056 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741968419021 - 200 16731 image/jpeg 7.397ms
2025-03-14 17:14:49.437 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:49.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:14:49.440 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:14:49.441 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:14:49.442 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:14:49.445 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:14:49.445 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:49.446 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:14:49.446 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:14:49.447 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:14:49.448 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:14:49.450 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:14:49.450 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:14:49.451 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0059ms
2025-03-14 17:14:49.451 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:49.452 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.8557ms
2025-03-14 17:14:49.487 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:14:49.491 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.497 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.499 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:14:49.500 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 50.8607ms
2025-03-14 17:14:49.500 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:14:49.501 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 62.9246ms
2025-03-14 17:14:49.660 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:49.660 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:14:49.662 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:14:49.662 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:14:49.664 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:14:49.666 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:14:49.666 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:49.667 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:14:49.667 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:14:49.668 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:14:49.669 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:14:49.671 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:14:49.673 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:14:49.673 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:14:49.673 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7542ms
2025-03-14 17:14:49.676 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:49.677 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.677 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.0762ms
2025-03-14 17:14:49.680 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.683 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:14:49.685 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:14:49.685 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.0677ms
2025-03-14 17:14:49.686 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:14:49.687 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.8693ms
2025-03-14 17:14:50.586 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:14:50.588 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:50.591 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.0228ms
2025-03-14 17:14:50.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:14:50.600 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:50.601 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:14:50.604 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:14:50.609 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:14:50.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:14:50.612 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6178ms
2025-03-14 17:14:50.613 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:14:50.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.5378ms
2025-03-14 17:14:50.857 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:14:50.859 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:50.860 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6274ms
2025-03-14 17:14:50.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:14:50.864 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:50.865 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:14:50.866 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:14:50.870 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:14:50.871 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:14:50.872 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.2342ms
2025-03-14 17:14:50.873 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:14:50.874 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.2839ms
2025-03-14 17:14:51.351 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:51.353 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.354 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:51.354 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:14:51.354 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 2.6465ms
2025-03-14 17:14:51.356 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.357 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.359 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:51.359 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5128ms
2025-03-14 17:14:51.360 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.8039ms
2025-03-14 17:14:51.361 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:14:51.365 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:51.368 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.370 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:14:51.371 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:14:51.371 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:51.375 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:14:51.375 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:14:51.375 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:14:51.376 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:14:51.378 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:14:51.380 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:14:51.383 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.0846ms
2025-03-14 17:14:51.383 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:14:51.384 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:51.386 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:14:51.386 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.2908ms
2025-03-14 17:14:51.387 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.2746ms
2025-03-14 17:14:51.389 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:14:51.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.372ms
2025-03-14 17:14:51.415 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:14:51.418 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:14:51.419 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 34.8028ms
2025-03-14 17:14:51.419 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:14:51.420 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 48.9736ms
2025-03-14 17:14:51.543 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:14:51.544 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:14:51.545 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.6464ms
2025-03-14 17:14:51.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 17:14:51.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:14:51.551 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 17:14:51.553 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:14:51.553 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.1033ms
2025-03-14 17:14:51.554 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.6416ms
2025-03-14 17:16:43.849 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:16:43.850 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:43.851 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.0432ms
2025-03-14 17:16:43.854 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:16:43.858 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:43.859 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:16:43.859 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:43.863 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:16:43.867 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:43.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:43.874 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:43.875 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:16:43.876 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.9115ms
2025-03-14 17:16:43.877 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:16:43.878 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.2339ms
2025-03-14 17:16:43.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:16:43.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:16:43.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:16:43.902 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:16:43.904 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:16:43.907 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:16:43.907 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.9233ms
2025-03-14 17:16:43.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.9731ms
2025-03-14 17:16:43.909 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.6139ms
2025-03-14 17:16:45.155 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 17:16:45.157 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:45.158 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Concombre - 204 null null 2.5458ms
2025-03-14 17:16:45.163 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - null null
2025-03-14 17:16:45.164 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:45.165 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:45.166 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:45.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:16:45.173 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:16:45.174 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 7.1701ms
2025-03-14 17:16:45.176 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:45.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Concombre - 200 null application/json; charset=utf-8 14.3989ms
2025-03-14 17:16:47.590 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:16:47.592 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:47.593 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.4612ms
2025-03-14 17:16:47.595 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:16:47.597 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:47.598 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:47.599 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:47.604 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:16:47.608 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:16:47.619 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:16:47.621 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:16:47.622 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 22.3413ms
2025-03-14 17:16:47.623 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:47.624 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 28.8303ms
2025-03-14 17:16:47.640 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:16:47.642 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:16:47.643 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0271ms
2025-03-14 17:16:47.652 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:16:47.652 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:16:47.655 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:16:47.656 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:16:47.657 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.1777ms
2025-03-14 17:16:47.657 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.9832ms
2025-03-14 17:16:48.957 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:16:48.959 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:48.960 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 204 null null 2.8962ms
2025-03-14 17:16:48.962 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:16:48.964 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:48.965 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:16:48.965 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:48.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:16:48.972 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:16:48.973 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 6.8577ms
2025-03-14 17:16:48.974 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:16:48.975 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 200 null application/json; charset=utf-8 12.5294ms
2025-03-14 17:16:48.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:16:48.996 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:16:48.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.1141ms
2025-03-14 17:16:53.711 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:16:53.712 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:53.713 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 1.9229ms
2025-03-14 17:16:53.717 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:16:53.719 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:53.720 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:16:53.721 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:53.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:16:53.728 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:53.732 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:53.736 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:16:53.738 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:16:53.739 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.4141ms
2025-03-14 17:16:53.740 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:16:53.742 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.5451ms
2025-03-14 17:16:53.754 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:16:53.754 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:16:53.756 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:16:53.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:16:53.758 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:16:53.759 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.9184ms
2025-03-14 17:16:53.760 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:16:53.761 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.5716ms
2025-03-14 17:16:53.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.4585ms
2025-03-14 17:16:55.408 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:16:55.410 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:55.410 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.7599ms
2025-03-14 17:16:55.412 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:16:55.414 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:55.414 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:55.415 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:55.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:16:55.424 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:16:55.435 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:16:55.437 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:16:55.438 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 20.6117ms
2025-03-14 17:16:55.438 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:16:55.439 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 26.697ms
2025-03-14 17:16:55.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:16:55.459 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:16:55.460 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9315ms
2025-03-14 17:16:55.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:16:55.463 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:16:55.464 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.4559ms
2025-03-14 17:16:55.465 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:16:55.468 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:16:55.469 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.0262ms
2025-03-14 17:16:57.542 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - null null
2025-03-14 17:16:57.544 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:57.545 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - 204 null null 2.5584ms
2025-03-14 17:16:57.547 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - null null
2025-03-14 17:16:57.548 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:16:57.549 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:16:57.550 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:16:57.554 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:16:57.556 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:16:57.557 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 5.6845ms
2025-03-14 17:16:57.558 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:16:57.558 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - 200 null application/json; charset=utf-8 11.3957ms
2025-03-14 17:16:57.568 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:16:57.570 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:16:57.571 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.1028ms
2025-03-14 17:17:00.103 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:00.104 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:00.105 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2578ms
2025-03-14 17:17:00.107 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:00.108 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:00.109 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:00.110 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:00.114 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:17:00.118 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:00.121 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:00.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:00.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:17:00.127 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.158ms
2025-03-14 17:17:00.128 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:00.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.1313ms
2025-03-14 17:17:00.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:17:00.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:17:00.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:17:00.140 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:17:00.142 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:17:00.145 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:17:00.146 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.5937ms
2025-03-14 17:17:00.147 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.5434ms
2025-03-14 17:17:00.147 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.3087ms
2025-03-14 17:17:01.911 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:17:01.913 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:01.914 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - 204 null null 2.2115ms
2025-03-14 17:17:01.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:17:01.918 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:01.919 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:17:01.920 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:01.925 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:17:01.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:17:01.935 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:17:01.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:17:01.938 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 15.9889ms
2025-03-14 17:17:01.939 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:17:01.939 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - 200 null application/json; charset=utf-8 23.1215ms
2025-03-14 17:17:01.951 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:17:01.953 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:17:01.954 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 3.0258ms
2025-03-14 17:17:03.305 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26/details - null null
2025-03-14 17:17:03.307 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:03.308 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26/details - 204 null null 2.4807ms
2025-03-14 17:17:03.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26/details - null null
2025-03-14 17:17:03.311 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:03.312 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:17:03.313 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:03.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:17:03.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:17:03.320 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 6.2697ms
2025-03-14 17:17:03.321 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:17:03.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26/details - 200 null application/json; charset=utf-8 12.0764ms
2025-03-14 17:17:03.333 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:17:03.335 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:17:03.336 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 3.067ms
2025-03-14 17:17:05.075 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:05.077 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:05.082 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 6.952ms
2025-03-14 17:17:05.086 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:05.088 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:05.089 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:05.090 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:05.095 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:17:05.099 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:05.103 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:05.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:05.109 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:17:05.110 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.3878ms
2025-03-14 17:17:05.111 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:05.112 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.4479ms
2025-03-14 17:17:05.120 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:17:05.121 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:17:05.122 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:17:05.123 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:17:05.124 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:17:05.126 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:17:05.126 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.8164ms
2025-03-14 17:17:05.127 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.2891ms
2025-03-14 17:17:05.128 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.2454ms
2025-03-14 17:17:53.373 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:17:53.375 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:53.375 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.0773ms
2025-03-14 17:17:53.377 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:17:53.378 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:53.380 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:17:53.380 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:53.384 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:17:53.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:17:53.396 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:17:53.400 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:17:53.400 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 18.6972ms
2025-03-14 17:17:53.401 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:17:53.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 24.731ms
2025-03-14 17:17:53.416 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:17:53.418 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:17:53.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9042ms
2025-03-14 17:17:53.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:17:53.423 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:17:53.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 2.1827ms
2025-03-14 17:17:53.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:17:53.427 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:17:53.428 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 2.6918ms
2025-03-14 17:17:54.874 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - null null
2025-03-14 17:17:54.876 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:54.877 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - 204 null null 3.3035ms
2025-03-14 17:17:54.879 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - null null
2025-03-14 17:17:54.881 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:54.882 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:17:54.883 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:54.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:17:54.890 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:17:54.891 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 5.7691ms
2025-03-14 17:17:54.891 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:17:54.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/2416877a-463f-4062-aef2-5e851274a95c/details - 200 null application/json; charset=utf-8 13.3304ms
2025-03-14 17:17:54.902 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:17:54.903 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:17:54.904 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 2.882ms
2025-03-14 17:17:56.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 17:17:56.760 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:17:56.760 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:17:56.761 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 17:17:56.762 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:17:56.764 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:56.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 6.9019ms
2025-03-14 17:17:56.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.3383ms
2025-03-14 17:17:56.766 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.7275ms
2025-03-14 17:17:56.773 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:17:56.774 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:56.775 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:17:56.775 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:17:56.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:17:56.781 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:17:56.782 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.5416ms
2025-03-14 17:17:56.783 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:17:56.784 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.6257ms
2025-03-14 17:17:56.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 17:17:56.791 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:17:56.793 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 17:17:56.794 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:17:56.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 4.2404ms
2025-03-14 17:17:56.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.0042ms
2025-03-14 17:17:57.967 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:57.969 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:57.969 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7103ms
2025-03-14 17:17:57.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:17:57.974 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:57.975 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:57.976 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:17:57.979 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:17:57.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:57.987 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:57.990 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:17:57.992 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:17:57.993 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.1491ms
2025-03-14 17:17:57.994 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:17:57.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.6782ms
2025-03-14 17:17:58.010 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:17:58.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:17:58.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:17:58.012 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:17:58.014 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:17:58.016 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:17:58.016 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.8306ms
2025-03-14 17:17:58.017 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.4151ms
2025-03-14 17:17:58.018 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.6049ms
2025-03-14 17:17:58.985 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:17:58.985 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 17:17:58.985 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:17:58.987 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:58.989 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 17:17:58.991 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.7393ms
2025-03-14 17:17:58.990 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:17:58.991 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 6.3623ms
2025-03-14 17:17:58.993 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:17:58.994 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 8.9791ms
2025-03-14 17:17:58.998 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:17:59.001 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:17:59.001 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:17:59.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:17:59.007 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:17:59.008 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.6831ms
2025-03-14 17:17:59.008 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:17:59.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.1351ms
2025-03-14 17:17:59.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - null null
2025-03-14 17:17:59.017 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:17:59.018 +01:00 [INF] Sending file. Request path: '/images/aubergine.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aubergine.jpg'
2025-03-14 17:17:59.019 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:17:59.019 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aubergine.jpg - 200 8242 image/jpeg 3.8579ms
2025-03-14 17:17:59.020 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9553ms
2025-03-14 17:18:01.064 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:18:01.066 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:01.065 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:01.066 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.067 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.068 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.069 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 4.4722ms
2025-03-14 17:18:01.070 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 4.3557ms
2025-03-14 17:18:01.071 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 5.5759ms
2025-03-14 17:18:01.074 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:01.075 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:01.077 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:18:01.078 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.080 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.081 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.081 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:01.082 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:18:01.082 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:18:01.083 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:01.084 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:01.085 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 17:18:01.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:01.091 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:01.093 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:18:01.094 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 17:18:01.098 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:18:01.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 17:18:01.100 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:18:01.104 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 17:18:01.104 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 18.3536ms
2025-03-14 17:18:01.105 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 16.9859ms
2025-03-14 17:18:01.105 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:01.106 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:18:01.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 33.184ms
2025-03-14 17:18:01.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 32.5526ms
2025-03-14 17:18:01.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 17:18:01.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:01.127 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 37.2218ms
2025-03-14 17:18:01.127 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:18:01.128 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 51.7437ms
2025-03-14 17:18:01.235 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:18:01.241 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.242 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 7.4455ms
2025-03-14 17:18:01.246 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:18:01.249 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.251 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:01.252 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:01.259 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:01.263 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:18:01.280 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:18:01.283 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:18:01.285 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 31.2115ms
2025-03-14 17:18:01.287 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:01.291 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 45.7822ms
2025-03-14 17:18:01.296 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:18:01.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:18:01.303 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:18:01.304 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:18:01.308 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:18:01.310 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:18:01.319 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 16.1011ms
2025-03-14 17:18:01.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 9.7866ms
2025-03-14 17:18:01.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 14.2376ms
2025-03-14 17:18:01.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 17:18:01.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:18:01.342 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 17:18:01.343 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:18:01.354 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 23.9554ms
2025-03-14 17:18:01.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 16.0876ms
2025-03-14 17:18:01.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969081374 - null null
2025-03-14 17:18:01.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969081373 - null null
2025-03-14 17:18:01.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969081373 - null null
2025-03-14 17:18:01.406 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:18:01.408 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:18:01.415 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:18:01.415 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969081374 - 200 16731 image/jpeg 30.3061ms
2025-03-14 17:18:01.416 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969081373 - 200 73473 image/jpeg 31.1875ms
2025-03-14 17:18:01.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969081373 - 200 8212 image/jpeg 34.3189ms
2025-03-14 17:18:01.817 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969081812 - null null
2025-03-14 17:18:01.817 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969081812 - null null
2025-03-14 17:18:01.817 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969081812 - null null
2025-03-14 17:18:01.818 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:18:01.821 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:18:01.823 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:18:01.823 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969081812 - 200 8212 image/jpeg 6.3089ms
2025-03-14 17:18:01.824 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969081812 - 200 73473 image/jpeg 7.5546ms
2025-03-14 17:18:01.825 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969081812 - 200 16731 image/jpeg 8.0363ms
2025-03-14 17:18:01.901 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:18:01.903 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.904 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.136ms
2025-03-14 17:18:01.907 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:18:01.909 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:01.910 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:01.911 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:18:01.914 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:18:01.920 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:01.924 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:01.927 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:01.928 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:01.929 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.4039ms
2025-03-14 17:18:01.930 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:01.932 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.4698ms
2025-03-14 17:18:01.946 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:18:01.946 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:18:01.947 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:18:01.948 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:18:01.950 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:18:01.951 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:18:01.951 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.6978ms
2025-03-14 17:18:01.952 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.1304ms
2025-03-14 17:18:01.953 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.0395ms
2025-03-14 17:18:02.966 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:18:02.966 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:02.966 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:02.967 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.970 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.971 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 5.8014ms
2025-03-14 17:18:02.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 6.2103ms
2025-03-14 17:18:02.973 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 6.5377ms
2025-03-14 17:18:02.975 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:02.977 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:18:02.980 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:18:02.981 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.983 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.984 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:02.985 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:18:02.985 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:02.986 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:18:02.986 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:02.987 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:02.987 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 17:18:02.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:02.992 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:02.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 17:18:02.995 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 17:18:02.997 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:18:02.997 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:03.001 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 17:18:03.001 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 9.7524ms
2025-03-14 17:18:03.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:18:03.004 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 17:18:03.005 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:18:03.006 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:18:03.007 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 18.9874ms
2025-03-14 17:18:03.008 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 27.836ms
2025-03-14 17:18:03.009 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 18.9389ms
2025-03-14 17:18:03.010 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:18:03.012 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:03.013 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 38.6748ms
2025-03-14 17:18:03.014 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 36.746ms
2025-03-14 17:18:03.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - null null
2025-03-14 17:18:03.136 +01:00 [INF] Sending file. Request path: '/images/purin-consoude.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin-consoude.jpg'
2025-03-14 17:18:03.136 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:18:03.137 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin-consoude.jpg - 200 15941 image/jpeg 3.0862ms
2025-03-14 17:18:03.139 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:18:03.140 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:18:03.140 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:18:03.142 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.8538ms
2025-03-14 17:18:03.144 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:18:03.145 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:18:03.147 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:18:03.148 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.4816ms
2025-03-14 17:18:03.149 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.1193ms
2025-03-14 17:18:03.151 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:18:03.151 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:18:03.156 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 8.4554ms
2025-03-14 17:18:03.157 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:03.162 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 10.6961ms
2025-03-14 17:18:03.172 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:18:03.175 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:18:03.176 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:03.178 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:18:03.182 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:18:03.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:18:03.191 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:18:03.193 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:18:03.194 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 15.7034ms
2025-03-14 17:18:03.195 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:18:03.196 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 24.2108ms
2025-03-14 17:18:03.221 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969083216 - null null
2025-03-14 17:18:03.221 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969083216 - null null
2025-03-14 17:18:03.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969083216 - null null
2025-03-14 17:18:03.224 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:18:03.229 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:18:03.231 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:18:03.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969083216 - 200 8212 image/jpeg 9.973ms
2025-03-14 17:18:03.232 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969083216 - 200 73473 image/jpeg 10.5808ms
2025-03-14 17:18:03.233 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969083216 - 200 16731 image/jpeg 11.3074ms
2025-03-14 17:18:15.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969095179 - null null
2025-03-14 17:18:15.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969095179 - null null
2025-03-14 17:18:15.191 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:18:15.193 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:18:15.193 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969095179 - 200 8212 image/jpeg 4.5907ms
2025-03-14 17:18:15.194 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969095179 - 200 73473 image/jpeg 5.3934ms
2025-03-14 17:18:15.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969095179 - null null
2025-03-14 17:18:15.199 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:18:15.203 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969095179 - 200 16731 image/jpeg 5.6273ms
2025-03-14 17:18:16.317 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:18:16.318 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:18:16.319 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:16.320 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:16.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:16.323 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:16.324 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:16.326 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:16.326 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:18:16.327 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:18:16.331 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:18:16.332 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:18:16.333 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:18:16.334 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1733ms
2025-03-14 17:18:16.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:18:16.335 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:16.337 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.9413ms
2025-03-14 17:18:16.338 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:16.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:16.348 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:16.350 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:16.350 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.7501ms
2025-03-14 17:18:16.351 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:16.352 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.3882ms
2025-03-14 17:18:53.003 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:18:53.004 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:18:53.005 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:53.007 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:53.008 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:53.010 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:18:53.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:18:53.011 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:53.012 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:53.013 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:53.014 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:18:53.016 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:53.016 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:18:53.020 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:53.022 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:18:53.022 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:18:53.023 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:18:53.024 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:53.025 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:53.027 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:18:53.027 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:18:53.028 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:18:53.029 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:18:53.029 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:18:53.031 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:18:53.033 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.141ms
2025-03-14 17:18:53.039 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:53.036 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:18:53.038 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.035 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:18:53.040 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 36.3581ms
2025-03-14 17:18:53.041 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:18:53.046 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.048 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 16.8525ms
2025-03-14 17:18:53.049 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.050 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:18:53.052 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.052 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 42.8224ms
2025-03-14 17:18:53.054 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.054 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:53.061 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 34.7901ms
2025-03-14 17:18:53.061 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:53.062 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:18:53.062 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 58.0934ms
2025-03-14 17:18:53.064 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:18:53.067 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 34.4269ms
2025-03-14 17:18:53.068 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:18:53.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 59.2426ms
2025-03-14 17:19:25.362 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:19:25.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:19:25.364 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:19:25.367 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:19:25.370 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:19:25.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:19:25.372 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:19:25.372 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:19:25.373 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:19:25.373 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:19:25.374 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:19:25.376 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:19:25.377 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:19:25.377 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9872ms
2025-03-14 17:19:25.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:19:25.378 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:19:25.381 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.1227ms
2025-03-14 17:19:25.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:25.386 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:25.390 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:25.392 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:19:25.393 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.8797ms
2025-03-14 17:19:25.394 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:19:25.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.5386ms
2025-03-14 17:19:59.755 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:19:59.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:19:59.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:19:59.759 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:19:59.761 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:19:59.762 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:19:59.763 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:19:59.764 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:19:59.765 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:19:59.765 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:19:59.767 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:19:59.770 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:19:59.771 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:19:59.772 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5581ms
2025-03-14 17:19:59.772 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:19:59.773 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:19:59.775 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 19.6859ms
2025-03-14 17:19:59.776 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:59.780 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:59.784 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:19:59.786 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:19:59.787 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.4546ms
2025-03-14 17:19:59.788 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:19:59.788 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.0118ms
2025-03-14 17:20:48.407 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:20:48.407 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:20:48.409 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:20:48.410 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:20:48.411 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:20:48.413 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:20:48.414 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:20:48.415 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:20:48.415 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:20:48.416 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:20:48.417 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:20:48.419 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:20:48.419 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:20:48.420 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4287ms
2025-03-14 17:20:48.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:20:48.421 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:20:48.424 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.1587ms
2025-03-14 17:20:48.424 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:20:48.429 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:20:48.433 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:20:48.434 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:20:48.436 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.6912ms
2025-03-14 17:20:48.436 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:20:48.437 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.5921ms
2025-03-14 17:21:18.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:21:18.399 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:21:18.400 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:21:18.401 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:21:18.402 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:21:18.404 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:21:18.404 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:18.405 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:18.406 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:21:18.406 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:21:18.407 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:21:18.409 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:21:18.410 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:21:18.411 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:21:18.411 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.421ms
2025-03-14 17:21:18.413 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:18.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:18.414 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.1436ms
2025-03-14 17:21:18.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:18.421 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:18.424 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:21:18.425 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.8037ms
2025-03-14 17:21:18.425 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:18.426 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.2126ms
2025-03-14 17:21:19.009 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:21:19.010 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:19.011 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2145ms
2025-03-14 17:21:19.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:21:19.013 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:19.014 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:21:19.015 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:21:19.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:21:19.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:21:19.020 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.6471ms
2025-03-14 17:21:19.021 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:21:19.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 9.3062ms
2025-03-14 17:21:19.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:21:19.199 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:19.201 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:21:19.202 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:21:19.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:21:19.208 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:21:19.209 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6715ms
2025-03-14 17:21:19.210 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:21:19.211 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.4873ms
2025-03-14 17:21:20.207 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:21:20.208 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:21:20.208 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:21:20.209 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.210 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.211 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.212 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.3628ms
2025-03-14 17:21:20.212 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.8027ms
2025-03-14 17:21:20.212 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 4.0114ms
2025-03-14 17:21:20.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:21:20.218 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:21:20.219 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.220 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.221 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:21:20.221 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:20.221 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:21:20.222 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:21:20.225 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:21:20.225 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:21:20.227 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:21:20.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:21:20.230 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.7711ms
2025-03-14 17:21:20.231 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.5596ms
2025-03-14 17:21:20.232 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:21:20.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:21:20.232 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:20.233 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 17.5752ms
2025-03-14 17:21:20.234 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:20.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 16.7026ms
2025-03-14 17:21:20.236 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:20.238 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:21:20.241 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:21:20.243 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:21:20.244 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.7667ms
2025-03-14 17:21:20.245 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:21:20.246 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 13.8814ms
2025-03-14 17:21:23.885 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:21:23.887 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:23.888 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.1592ms
2025-03-14 17:21:23.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:21:23.892 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:23.893 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:23.894 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:21:23.897 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:21:23.902 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:23.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:23.908 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:23.910 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:21:23.910 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.4415ms
2025-03-14 17:21:23.911 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:23.912 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.0616ms
2025-03-14 17:21:25.412 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:21:25.413 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:25.414 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.0219ms
2025-03-14 17:21:25.416 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:21:25.417 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:25.419 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:21:25.420 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:21:25.423 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:21:25.425 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:21:25.425 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 4.7897ms
2025-03-14 17:21:25.426 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:21:25.427 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.5746ms
2025-03-14 17:21:26.280 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:21:26.281 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:21:26.282 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:26.283 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:21:26.286 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:21:26.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:26.292 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:26.296 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:21:26.298 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:21:26.299 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.4519ms
2025-03-14 17:21:26.300 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:21:26.301 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.3647ms
2025-03-14 17:22:53.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:22:53.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:22:53.896 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:22:53.897 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:22:53.900 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:22:53.902 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:22:53.902 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:53.903 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:53.904 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:22:53.904 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:22:53.905 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:22:53.907 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:22:53.908 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:22:53.909 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:22:53.909 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.6795ms
2025-03-14 17:22:53.912 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:53.913 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:53.913 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.6746ms
2025-03-14 17:22:53.917 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:53.920 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:53.922 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:22:53.923 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.9306ms
2025-03-14 17:22:53.924 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:53.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.1705ms
2025-03-14 17:22:54.202 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:22:54.203 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.206 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.6191ms
2025-03-14 17:22:54.211 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:22:54.213 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.215 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:22:54.216 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:22:54.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:22:54.224 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:22:54.225 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.0502ms
2025-03-14 17:22:54.226 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:22:54.227 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.7213ms
2025-03-14 17:22:54.299 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:22:54.301 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.302 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:22:54.303 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:22:54.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:22:54.308 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:22:54.310 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9305ms
2025-03-14 17:22:54.311 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:22:54.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.6472ms
2025-03-14 17:22:54.733 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:22:54.734 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:22:54.734 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:22:54.735 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.736 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.737 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.738 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.8351ms
2025-03-14 17:22:54.738 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.9154ms
2025-03-14 17:22:54.739 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.7821ms
2025-03-14 17:22:54.744 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:22:54.746 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:22:54.748 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.750 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.751 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:22:54.751 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:54.752 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:22:54.752 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:22:54.757 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:22:54.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:22:54.759 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:22:54.765 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:22:54.765 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.7834ms
2025-03-14 17:22:54.766 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.9645ms
2025-03-14 17:22:54.767 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:22:54.767 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:22:54.768 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:54.768 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 24.9008ms
2025-03-14 17:22:54.770 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:54.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.72ms
2025-03-14 17:22:54.773 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:54.775 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:22:54.779 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:22:54.782 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:22:54.784 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.1604ms
2025-03-14 17:22:54.785 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:22:54.785 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 18.2516ms
2025-03-14 17:22:57.287 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:22:57.290 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:57.290 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.8595ms
2025-03-14 17:22:57.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:22:57.295 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:57.295 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:57.296 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:22:57.299 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:22:57.302 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:57.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:57.310 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:57.313 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:22:57.313 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.5379ms
2025-03-14 17:22:57.314 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:57.315 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.7545ms
2025-03-14 17:22:58.855 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:22:58.855 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:22:58.855 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:22:58.856 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.857 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.859 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.859 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/categories - 204 null null 4.8945ms
2025-03-14 17:22:58.860 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 204 null null 5.4351ms
2025-03-14 17:22:58.861 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 204 null null 5.9415ms
2025-03-14 17:22:58.862 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - null null
2025-03-14 17:22:58.865 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - null null
2025-03-14 17:22:58.866 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - null null
2025-03-14 17:22:58.868 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.869 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.871 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.871 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:22:58.872 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:22:58.873 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:22:58.873 +01:00 [INF] Route matched with {action = "GetAllProducts", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllProducts(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:22:58.874 +01:00 [INF] Route matched with {action = "GetAllCategories", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller api.Controllers.RepositoryController (api).
2025-03-14 17:22:58.874 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:22:58.878 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Variants] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:22:58.879 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Label], [c].[Image]
FROM [Categories] AS [c]
2025-03-14 17:22:58.881 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:22:58.882 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Variants] AS [v]
2025-03-14 17:22:58.885 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:22:58.882 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.CategoryDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:22:58.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [f].[Description], [f].[DescriptionSource], [f].[Id] AS [FamilyId], [f].[Designation_Name] AS [FamilyName], [f].[Designation_Image] AS [FamilyImage], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[Id], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], CAST([f].[MaximumRisingTime] AS decimal(18,2)) AS [MaximumRisingTime], CAST([f].[MinimalRisingTime] AS decimal(18,2)) AS [MinimalRisingTime], [f].[ZeroVegetation], [f].[SunshineDuration]
FROM (
    SELECT [v].[Id], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
    FROM [Variants] AS [v]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Families] AS [f] ON [t].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
2025-03-14 17:22:58.887 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllCategories (api) in 10.3724ms
2025-03-14 17:22:58.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:22:58.889 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayVariantDto'.
2025-03-14 17:22:58.890 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllCategories (api)'
2025-03-14 17:22:58.892 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:22:58.893 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllProducts (api) in 17.4674ms
2025-03-14 17:22:58.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/categories - 200 null application/json; charset=utf-8 29.9156ms
2025-03-14 17:22:58.895 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 16.706ms
2025-03-14 17:22:58.896 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllProducts (api)'
2025-03-14 17:22:58.898 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:22:58.899 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/products?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 36.3654ms
2025-03-14 17:22:58.900 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=6 - 200 null application/json; charset=utf-8 33.296ms
2025-03-14 17:22:58.931 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:22:58.932 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.935 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 204 null null 4.214ms
2025-03-14 17:22:58.937 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - null null
2025-03-14 17:22:58.939 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:58.940 +01:00 [INF] Executing endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:22:58.941 +01:00 [INF] Route matched with {action = "GetAllFamilies", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllFamilies(Int32, Int32) on controller api.Controllers.Administration.AdminController (api).
2025-03-14 17:22:58.944 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Families] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:22:58.949 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Families] AS [f]
2025-03-14 17:22:58.953 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DescriptionSource], [t].[Designation_Image] AS [Image], [t].[Designation_ImageSource] AS [ImageSource], [t].[Designation_Name] AS [Name], [c].[Id] AS [CategoryId], [c].[Image] AS [CategoryImage], [c].[Label] AS [CategoryName], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[ZeroVegetation], [t].[SunshineDuration]
FROM (
    SELECT [f].[Id], [f].[CategoryId], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name]
    FROM [Families] AS [f]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:22:58.956 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Administration.dto.ArrayFamilyDto'.
2025-03-14 17:22:58.957 +01:00 [INF] Executed action api.Controllers.Administration.AdminController.GetAllFamilies (api) in 14.7984ms
2025-03-14 17:22:58.957 +01:00 [INF] Executed endpoint 'api.Controllers.Administration.AdminController.GetAllFamilies (api)'
2025-03-14 17:22:58.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/admin/families?pageNumber=0&pageSize=200 - 200 null application/json; charset=utf-8 21.2969ms
2025-03-14 17:22:58.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969378968 - null null
2025-03-14 17:22:58.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969378968 - null null
2025-03-14 17:22:58.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969378968 - null null
2025-03-14 17:22:58.974 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:22:58.976 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:22:58.977 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:22:58.978 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969378968 - 200 73473 image/jpeg 6.1122ms
2025-03-14 17:22:58.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969378968 - 200 8212 image/jpeg 6.978ms
2025-03-14 17:22:58.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969378968 - 200 16731 image/jpeg 7.5161ms
2025-03-14 17:22:59.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969379338 - null null
2025-03-14 17:22:59.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969379337 - null null
2025-03-14 17:22:59.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969379338 - null null
2025-03-14 17:22:59.343 +01:00 [INF] Sending file. Request path: '/images/purin.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\purin.jpg'
2025-03-14 17:22:59.345 +01:00 [INF] Sending file. Request path: '/images/haricot.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot.jpg'
2025-03-14 17:22:59.346 +01:00 [INF] Sending file. Request path: '/images/carotte.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte.jpg'
2025-03-14 17:22:59.346 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/purin.jpg?timespan=1741969379338 - 200 73473 image/jpeg 5.4637ms
2025-03-14 17:22:59.347 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot.jpg?timespan=1741969379337 - 200 8212 image/jpeg 6.34ms
2025-03-14 17:22:59.348 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte.jpg?timespan=1741969379338 - 200 16731 image/jpeg 7.2066ms
2025-03-14 17:22:59.463 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:22:59.465 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:22:59.466 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:59.467 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:22:59.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:22:59.473 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:59.478 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:59.482 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:22:59.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:22:59.484 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.6358ms
2025-03-14 17:22:59.486 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:22:59.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.179ms
2025-03-14 17:23:00.925 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:23:00.927 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:00.927 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.604ms
2025-03-14 17:23:00.929 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:23:00.931 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:00.931 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:23:00.932 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:23:00.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:23:00.938 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:23:00.939 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.0198ms
2025-03-14 17:23:00.940 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:23:00.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.7173ms
2025-03-14 17:23:03.512 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:23:03.515 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:03.516 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 4.1692ms
2025-03-14 17:23:03.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:23:03.520 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:03.520 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:23:03.521 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:23:03.526 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:23:03.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:23:03.533 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:23:03.537 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:23:03.539 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:23:03.540 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.9193ms
2025-03-14 17:23:03.541 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:23:03.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.0619ms
2025-03-14 17:23:04.958 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:23:04.960 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:04.960 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 1.8488ms
2025-03-14 17:23:04.962 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:23:04.964 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:04.965 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:23:04.966 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:23:04.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:23:04.974 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:23:04.985 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:23:04.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:23:04.987 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 20.1392ms
2025-03-14 17:23:04.988 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:23:04.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 26.9758ms
2025-03-14 17:23:06.043 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:23:06.045 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:06.045 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 204 null null 2.5059ms
2025-03-14 17:23:06.047 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:23:06.048 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:23:06.049 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:23:06.050 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:23:06.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:23:06.057 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:23:06.058 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 7.4645ms
2025-03-14 17:23:06.059 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:23:06.060 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 200 null application/json; charset=utf-8 12.8879ms
2025-03-14 17:24:03.877 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:24:03.879 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:03.880 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.0238ms
2025-03-14 17:24:03.882 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:24:03.883 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:03.884 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:24:03.885 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:24:03.889 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:24:03.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:03.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:03.899 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:03.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:24:03.902 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.4592ms
2025-03-14 17:24:03.903 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:24:03.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.4701ms
2025-03-14 17:24:05.612 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 17:24:05.613 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:05.614 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.0212ms
2025-03-14 17:24:05.615 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 17:24:05.617 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:05.618 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 17:24:05.618 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 17:24:05.645 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 17:24:05.659 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 17:24:06.356 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 17:24:06.366 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:24:06.368 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 17:24:06.370 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 750.0694ms
2025-03-14 17:24:06.371 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 17:24:06.372 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 756.1739ms
2025-03-14 17:24:41.105 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stations - null null
2025-03-14 17:24:41.107 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:41.108 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stations - 204 null null 2.6622ms
2025-03-14 17:24:41.111 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stations - null null
2025-03-14 17:24:41.113 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:41.115 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetAllStations (api)'
2025-03-14 17:24:41.118 +01:00 [INF] Route matched with {action = "GetAllStations", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller api.Controllers.RepositoryController (api).
2025-03-14 17:24:41.133 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [c].[Label] AS [ClimateName], [s].[Code] AS [CodeDepartement], [s].[Name], [s].[Latitude], [s].[Longitude]
FROM [Stations] AS [s]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
2025-03-14 17:24:41.148 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.ForecastStationDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:24:41.153 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetAllStations (api) in 33.0199ms
2025-03-14 17:24:41.155 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetAllStations (api)'
2025-03-14 17:24:41.159 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stations - 200 null application/json; charset=utf-8 47.9387ms
2025-03-14 17:24:54.526 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users - null null
2025-03-14 17:24:54.528 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:54.529 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users - 204 null null 2.4852ms
2025-03-14 17:24:54.531 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users - application/json 214
2025-03-14 17:24:54.532 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:54.533 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Add (api)'
2025-03-14 17:24:54.537 +01:00 [INF] Route matched with {action = "Add", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Add(api.Controllers.Authentication.dto.UserDto) on controller api.Controllers.AuthController (api).
2025-03-14 17:24:54.550 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_CaptchaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[ActivationDate], [c].[CreationDate], [c].[IsActive], [c].[UpdateDate], [c].[Value]
FROM [Captchas] AS [c]
WHERE [c].[Id] = @__user_CaptchaId_0 AND [c].[IsActive] = CAST(1 AS bit)
2025-03-14 17:24:54.562 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Captchas] SET [ActivationDate] = @p0, [IsActive] = @p1, [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-14 17:24:54.569 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_StationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate]
FROM [Stations] AS [s]
WHERE [s].[Id] = @__user_StationId_0
2025-03-14 17:24:54.579 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-14 17:24:54.760 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255) (DbType = AnsiString), @p4='?' (DbType = DateTime2), @p5='?' (Size = 150) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Active], [CreationDate], [Email], [ExpirationResetDate], [Name], [Password], [ResetWord], [StationId], [TypeUser], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-03-14 17:24:54.763 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:24:54.766 +01:00 [INF] Executed action api.Controllers.AuthController.Add (api) in 227.167ms
2025-03-14 17:24:54.767 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Add (api)'
2025-03-14 17:24:54.768 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users - 201 null application/json; charset=utf-8 236.4021ms
2025-03-14 17:24:54.788 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:24:54.789 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:54.790 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 1.8715ms
2025-03-14 17:24:54.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:24:54.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:24:54.793 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:24:54.794 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:24:54.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:24:54.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:54.805 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:54.808 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:24:54.809 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:24:54.810 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.6683ms
2025-03-14 17:24:54.811 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:24:54.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 20.3501ms
2025-03-14 17:25:01.759 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 17:25:01.760 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:01.761 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 2.2571ms
2025-03-14 17:25:01.763 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 17:25:01.765 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:01.766 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 17:25:01.767 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 17:25:01.792 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 17:25:01.800 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 17:25:02.207 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 17:25:02.215 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:25:02.216 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 17:25:02.217 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 449.266ms
2025-03-14 17:25:02.218 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 17:25:02.219 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 456.2994ms
2025-03-14 17:25:13.652 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 17:25:13.654 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.655 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 3.2557ms
2025-03-14 17:25:13.657 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 17:25:13.660 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.662 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 17:25:13.662 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 17:25:13.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 17:25:13.786 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 17:25:13.788 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 124.1667ms
2025-03-14 17:25:13.789 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 17:25:13.790 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 132.5505ms
2025-03-14 17:25:13.793 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:25:13.795 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.796 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9927ms
2025-03-14 17:25:13.808 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:25:13.812 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.813 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:25:13.813 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:25:13.813 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:25:13.815 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.817 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.818 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:25:13.819 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.7156ms
2025-03-14 17:25:13.819 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.1687ms
2025-03-14 17:25:13.823 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:25:13.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:25:13.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:25:13.829 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:25:13.830 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.832 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:13.833 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 12.4462ms
2025-03-14 17:25:13.834 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:25:13.835 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:25:13.836 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:25:13.837 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:25:13.838 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:25:13.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 30.5216ms
2025-03-14 17:25:13.843 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:25:13.844 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:25:13.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:25:13.849 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:25:13.850 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.7355ms
2025-03-14 17:25:13.851 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.616ms
2025-03-14 17:25:13.854 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:25:13.855 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:25:13.856 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 32.2129ms
2025-03-14 17:25:13.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.384ms
2025-03-14 17:25:20.025 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:25:20.028 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:20.029 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.336ms
2025-03-14 17:25:20.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:25:20.034 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:20.035 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:25:20.039 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:25:20.087 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:25:20.091 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:25:20.092 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 51.5158ms
2025-03-14 17:25:20.093 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:25:20.094 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 62.4823ms
2025-03-14 17:25:22.459 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:25:22.462 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:22.462 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.613ms
2025-03-14 17:25:22.465 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:25:22.467 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:22.468 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:25:22.469 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:25:22.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:25:22.479 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:22.484 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:22.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:22.491 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:25:22.492 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.9478ms
2025-03-14 17:25:22.493 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:25:22.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.3588ms
2025-03-14 17:25:24.501 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:25:24.504 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:24.504 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.8936ms
2025-03-14 17:25:24.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:25:24.509 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:24.510 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:25:24.514 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:25:24.537 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 17:25:24.539 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 17:25:24.583 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:25:24.586 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:25:24.587 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 71.6697ms
2025-03-14 17:25:24.589 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:25:24.590 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 83.7714ms
2025-03-14 17:25:25.768 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:25:25.771 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:25:25.773 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:25:25.773 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:25:25.777 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:25:25.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:25.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:25.790 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:25:25.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:25:25.794 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.824ms
2025-03-14 17:25:25.795 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:25:25.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.7676ms
2025-03-14 17:30:07.757 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:30:07.759 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:30:07.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5201ms
2025-03-14 17:30:07.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:30:07.764 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:30:07.766 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:30:07.767 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:30:07.805 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:30:07.808 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:30:07.809 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 40.4872ms
2025-03-14 17:30:07.810 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:30:07.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 49.5854ms
2025-03-14 17:31:58.532 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:31:58.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:31:58.534 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:31:58.535 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:31:58.536 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:31:58.538 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:31:58.539 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:58.539 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:31:58.540 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:31:58.540 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:31:58.542 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:31:58.544 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:31:58.545 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:31:58.545 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:31:58.545 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.891ms
2025-03-14 17:31:58.547 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:58.548 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.7297ms
2025-03-14 17:31:58.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:31:58.553 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:31:58.557 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:31:58.559 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:31:58.559 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.6735ms
2025-03-14 17:31:58.560 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:31:58.561 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.8348ms
2025-03-14 17:31:58.759 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:31:58.760 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:58.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.953ms
2025-03-14 17:31:58.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:31:58.763 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:58.764 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:31:58.765 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:31:58.769 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:31:58.771 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:31:58.772 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1141ms
2025-03-14 17:31:58.773 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:31:58.775 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.397ms
2025-03-14 17:31:58.782 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:31:58.784 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:58.786 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:31:58.787 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:31:58.791 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:31:58.795 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:31:58.796 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.4078ms
2025-03-14 17:31:58.796 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:31:58.797 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.1386ms
2025-03-14 17:31:59.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:31:59.303 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:31:59.303 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:31:59.303 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.304 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.306 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.6109ms
2025-03-14 17:31:59.307 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.2352ms
2025-03-14 17:31:59.307 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 4.5985ms
2025-03-14 17:31:59.311 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:31:59.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:31:59.314 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.315 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.317 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:31:59.318 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:59.318 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:31:59.319 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:31:59.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:31:59.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:31:59.326 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.8999ms
2025-03-14 17:31:59.327 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:31:59.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 16.2801ms
2025-03-14 17:31:59.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:31:59.354 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:31:59.355 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 33.8073ms
2025-03-14 17:31:59.355 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:31:59.356 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:59.357 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:31:59.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 44.8717ms
2025-03-14 17:31:59.358 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:59.361 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:31:59.366 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:31:59.369 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:31:59.370 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.0307ms
2025-03-14 17:31:59.371 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:31:59.372 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 16.9124ms
2025-03-14 17:32:00.834 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:32:00.836 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:32:00.836 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5367ms
2025-03-14 17:32:00.838 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:32:00.840 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:32:00.841 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:32:00.842 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:32:00.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:32:00.848 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:32:00.849 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.3264ms
2025-03-14 17:32:00.851 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:32:00.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 14.1262ms
2025-03-14 17:34:52.554 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:34:52.555 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:34:52.556 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:34:52.557 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:34:52.559 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:34:52.561 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:34:52.561 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:52.562 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:34:52.562 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:34:52.563 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:34:52.564 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:34:52.566 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:34:52.567 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:34:52.568 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1341ms
2025-03-14 17:34:52.568 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:34:52.570 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:52.573 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9873ms
2025-03-14 17:34:52.574 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:34:52.579 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:34:52.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:34:52.586 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:34:52.587 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.551ms
2025-03-14 17:34:52.588 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:34:52.589 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 34.609ms
2025-03-14 17:34:53.079 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:34:53.081 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.082 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6125ms
2025-03-14 17:34:53.099 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:34:53.101 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.102 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:34:53.102 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:34:53.106 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:34:53.109 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:34:53.110 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1439ms
2025-03-14 17:34:53.111 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:34:53.112 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.3583ms
2025-03-14 17:34:53.182 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:34:53.186 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.187 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.1349ms
2025-03-14 17:34:53.192 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:34:53.193 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.194 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:34:53.195 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:34:53.199 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:34:53.202 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:34:53.203 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6964ms
2025-03-14 17:34:53.204 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:34:53.206 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.9393ms
2025-03-14 17:34:53.678 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:34:53.679 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:34:53.680 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:34:53.681 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.682 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.685 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.687 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.5214ms
2025-03-14 17:34:53.687 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.3699ms
2025-03-14 17:34:53.688 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 7.5914ms
2025-03-14 17:34:53.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:34:53.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:34:53.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:34:53.697 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.699 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.701 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:53.702 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:53.703 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:34:53.704 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:53.704 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:34:53.705 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:34:53.706 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:34:53.712 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:34:53.714 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:34:53.715 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:34:53.717 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:34:53.718 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.4909ms
2025-03-14 17:34:53.719 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.6021ms
2025-03-14 17:34:53.720 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:53.721 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:34:53.722 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.9791ms
2025-03-14 17:34:53.723 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 29.2972ms
2025-03-14 17:34:53.740 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:34:53.743 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:34:53.744 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.9784ms
2025-03-14 17:34:53.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:34:53.752 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:34:53.752 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:34:53.753 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 41.0161ms
2025-03-14 17:34:53.755 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:34:53.755 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:34:53.756 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.1192ms
2025-03-14 17:34:53.757 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 61.9564ms
2025-03-14 17:34:53.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:34:53.793 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:34:53.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.8496ms
2025-03-14 17:34:55.147 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:34:55.150 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:55.151 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.7291ms
2025-03-14 17:34:55.163 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:34:55.165 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:34:55.166 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:34:55.166 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:34:55.171 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:34:55.174 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:34:55.175 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0438ms
2025-03-14 17:34:55.176 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:34:55.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 13.7738ms
2025-03-14 17:35:37.918 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:35:37.920 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:37.920 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.444ms
2025-03-14 17:35:37.922 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:35:37.924 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:37.925 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:35:37.926 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:35:37.931 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:35:37.935 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:37.939 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:37.943 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:37.945 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:35:37.945 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.712ms
2025-03-14 17:35:37.946 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:35:37.947 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.5497ms
2025-03-14 17:35:37.958 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:35:37.961 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:35:37.962 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 3.9493ms
2025-03-14 17:35:37.988 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:35:37.988 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:35:37.990 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:35:37.991 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:35:37.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.1318ms
2025-03-14 17:35:37.993 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 4.9562ms
2025-03-14 17:35:39.363 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:39.365 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:39.366 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.4586ms
2025-03-14 17:35:39.369 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:39.371 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:39.372 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:39.372 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:35:39.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:35:39.379 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:35:39.380 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.7632ms
2025-03-14 17:35:39.381 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:39.381 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 12.7434ms
2025-03-14 17:35:44.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:35:44.295 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:44.296 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.2581ms
2025-03-14 17:35:44.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:35:44.299 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:44.299 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:35:44.300 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:35:44.304 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:35:44.306 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:35:44.307 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5.9651ms
2025-03-14 17:35:44.308 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:35:44.308 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 11.0602ms
2025-03-14 17:35:45.965 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:45.968 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:45.968 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.6357ms
2025-03-14 17:35:45.970 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:45.972 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:45.973 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:45.973 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:35:45.978 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:35:45.980 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:35:45.981 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.611ms
2025-03-14 17:35:45.982 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:45.983 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 12.2314ms
2025-03-14 17:35:46.930 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:35:46.932 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:46.932 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5504ms
2025-03-14 17:35:46.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:35:46.936 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:46.937 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:35:46.938 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:35:46.941 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:35:46.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:46.947 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:46.951 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:35:46.953 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:35:46.955 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.6117ms
2025-03-14 17:35:46.956 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:35:46.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.3378ms
2025-03-14 17:35:46.966 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:35:46.966 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:35:46.966 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:35:46.968 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:35:46.969 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:35:46.971 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:35:46.971 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.8102ms
2025-03-14 17:35:46.972 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.8315ms
2025-03-14 17:35:46.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.4063ms
2025-03-14 17:35:48.114 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:48.116 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:48.116 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2254ms
2025-03-14 17:35:48.119 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:35:48.120 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:35:48.121 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:48.122 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:35:48.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:35:48.131 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:35:48.133 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.8251ms
2025-03-14 17:35:48.134 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:35:48.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 16.4587ms
2025-03-14 17:36:39.787 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:36:39.789 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:39.789 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.9656ms
2025-03-14 17:36:39.791 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:36:39.792 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:39.794 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:36:39.795 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:36:39.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:36:39.802 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:36:39.803 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.5871ms
2025-03-14 17:36:39.805 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:36:39.805 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 14.2722ms
2025-03-14 17:36:41.806 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:36:41.808 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:41.808 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.4185ms
2025-03-14 17:36:41.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:36:41.812 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:41.812 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:36:41.813 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:36:41.818 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:36:41.820 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:36:41.821 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.8599ms
2025-03-14 17:36:41.822 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:36:41.823 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 13.0466ms
2025-03-14 17:36:42.760 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:36:42.761 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:42.762 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.9554ms
2025-03-14 17:36:42.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:36:42.765 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:42.766 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:36:42.767 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:36:42.770 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:36:42.773 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:36:42.774 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.7525ms
2025-03-14 17:36:42.775 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:36:42.776 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 12.0158ms
2025-03-14 17:36:45.660 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:36:45.662 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:45.662 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.3863ms
2025-03-14 17:36:45.664 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:36:45.666 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:45.667 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:36:45.668 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:36:45.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:36:45.675 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:36:45.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:36:45.684 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:36:45.686 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:36:45.687 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.5277ms
2025-03-14 17:36:45.688 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:36:45.689 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.8259ms
2025-03-14 17:36:45.702 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:36:45.704 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:36:45.704 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:36:45.705 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:36:45.706 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:36:45.706 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.787ms
2025-03-14 17:36:45.709 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:36:45.710 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.7297ms
2025-03-14 17:36:45.712 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.7134ms
2025-03-14 17:36:47.082 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:36:47.084 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:47.084 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5413ms
2025-03-14 17:36:47.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:36:47.089 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:36:47.091 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:36:47.091 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:36:47.096 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:36:47.099 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:36:47.105 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 12.1077ms
2025-03-14 17:36:47.106 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:36:47.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 20.3078ms
2025-03-14 17:37:25.363 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:37:25.365 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:37:25.366 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.5701ms
2025-03-14 17:37:25.371 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:37:25.373 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:37:25.374 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:37:25.376 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:37:25.382 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:37:25.387 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:37:25.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:37:25.398 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:37:25.401 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:37:25.404 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.5394ms
2025-03-14 17:37:25.405 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:37:25.406 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.327ms
2025-03-14 17:37:25.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:37:25.426 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:37:25.428 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:37:25.429 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:37:25.436 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:37:25.451 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 25.6187ms
2025-03-14 17:37:25.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 26.4957ms
2025-03-14 17:37:25.453 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:37:25.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 37.0193ms
2025-03-14 17:37:26.631 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:37:26.633 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:37:26.633 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5336ms
2025-03-14 17:37:26.636 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:37:26.638 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:37:26.639 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:37:26.640 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:37:26.647 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:37:26.650 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:37:26.651 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.4273ms
2025-03-14 17:37:26.652 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:37:26.653 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 16.2341ms
2025-03-14 17:38:17.817 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:17.818 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:38:17.819 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:17.820 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:17.822 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:17.823 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:17.823 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:17.824 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:17.825 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:17.825 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:38:17.826 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:38:17.828 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:38:17.829 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:38:17.830 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2444ms
2025-03-14 17:38:17.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:38:17.830 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:17.832 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.9616ms
2025-03-14 17:38:17.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:17.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:17.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:17.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:38:17.843 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.7198ms
2025-03-14 17:38:17.844 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:17.844 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.6944ms
2025-03-14 17:38:18.508 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:18.510 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:18.512 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3055ms
2025-03-14 17:38:18.514 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:18.518 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:18.520 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:18.521 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:18.525 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:18.527 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:18.528 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7144ms
2025-03-14 17:38:18.530 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:18.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.4139ms
2025-03-14 17:38:18.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:18.574 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:18.574 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6072ms
2025-03-14 17:38:18.584 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:18.586 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:18.590 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:18.591 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:18.596 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:18.598 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:18.599 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9444ms
2025-03-14 17:38:18.600 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:18.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.0928ms
2025-03-14 17:38:19.076 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:19.077 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:19.078 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.078 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:19.079 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.080 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1102ms
2025-03-14 17:38:19.082 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.082 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.7656ms
2025-03-14 17:38:19.085 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:19.085 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.6975ms
2025-03-14 17:38:19.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:19.090 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.092 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:19.093 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.094 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:19.095 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:19.096 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:19.097 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:19.098 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:19.098 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:19.101 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:38:19.103 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:19.105 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:19.107 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:19.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:38:19.109 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:19.109 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.3497ms
2025-03-14 17:38:19.111 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:38:19.112 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.7127ms
2025-03-14 17:38:19.114 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:19.115 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 10.8297ms
2025-03-14 17:38:19.116 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:19.118 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 33.1412ms
2025-03-14 17:38:19.119 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:19.120 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.2119ms
2025-03-14 17:38:19.123 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 31.4189ms
2025-03-14 17:38:19.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:38:19.161 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:38:19.162 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.7636ms
2025-03-14 17:38:19.180 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:38:19.183 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:38:19.184 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.3371ms
2025-03-14 17:38:21.019 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:38:21.021 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:21.022 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.115ms
2025-03-14 17:38:21.024 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:38:21.026 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:21.027 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:38:21.027 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:38:21.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:38:21.034 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:38:21.035 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0128ms
2025-03-14 17:38:21.036 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:38:21.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 12.8125ms
2025-03-14 17:38:40.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:40.013 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:38:40.014 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:40.015 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:40.017 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:40.018 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:40.019 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:40.020 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:40.020 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:40.021 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:38:40.022 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:38:40.024 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:38:40.024 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:38:40.025 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2232ms
2025-03-14 17:38:40.025 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:38:40.026 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:40.028 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.6436ms
2025-03-14 17:38:40.029 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:40.033 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:40.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:40.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:38:40.039 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.0288ms
2025-03-14 17:38:40.040 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:40.041 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.9899ms
2025-03-14 17:38:40.516 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:40.518 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:40.519 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0227ms
2025-03-14 17:38:40.522 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:40.524 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:40.525 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:40.526 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:40.531 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:40.533 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:40.534 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0472ms
2025-03-14 17:38:40.535 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:40.536 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.4924ms
2025-03-14 17:38:40.655 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:40.658 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:40.659 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.3796ms
2025-03-14 17:38:40.669 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:40.672 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:40.673 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:40.675 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:40.680 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:40.683 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:40.685 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.0256ms
2025-03-14 17:38:40.687 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:40.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.3045ms
2025-03-14 17:38:41.080 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:41.080 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:41.081 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:41.082 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.083 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.085 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.086 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2266ms
2025-03-14 17:38:41.086 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2417ms
2025-03-14 17:38:41.087 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.4791ms
2025-03-14 17:38:41.092 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:41.095 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:41.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:41.098 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.100 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.101 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:41.102 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:41.102 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:41.103 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:41.104 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:38:41.104 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:41.105 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:41.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:38:41.111 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:41.112 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:41.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:38:41.115 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:41.117 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:41.117 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.021ms
2025-03-14 17:38:41.118 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.2939ms
2025-03-14 17:38:41.119 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.3685ms
2025-03-14 17:38:41.120 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:41.121 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:41.122 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:41.124 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 31.8872ms
2025-03-14 17:38:41.125 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.1066ms
2025-03-14 17:38:41.126 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 28.8658ms
2025-03-14 17:38:41.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:38:41.178 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:38:41.179 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.5059ms
2025-03-14 17:38:41.191 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:38:41.193 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:38:41.194 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.7458ms
2025-03-14 17:38:43.001 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:38:43.003 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:43.004 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5664ms
2025-03-14 17:38:43.007 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:38:43.009 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:43.010 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:38:43.011 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:38:43.017 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:38:43.019 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:38:43.021 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.5337ms
2025-03-14 17:38:43.022 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:38:43.023 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 15.9691ms
2025-03-14 17:38:49.214 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:49.214 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:38:49.216 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:49.217 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:38:49.220 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:49.221 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:38:49.222 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:49.223 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:49.223 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:49.224 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:38:49.225 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:38:49.227 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:38:49.228 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:38:49.229 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:38:49.229 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6144ms
2025-03-14 17:38:49.231 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:49.232 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:49.232 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.405ms
2025-03-14 17:38:49.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:49.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:38:49.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:38:49.241 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.8868ms
2025-03-14 17:38:49.242 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:38:49.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.5653ms
2025-03-14 17:38:49.503 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:49.505 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:49.505 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7599ms
2025-03-14 17:38:49.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:49.512 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:49.513 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:49.514 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:49.520 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:49.522 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:49.524 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.9644ms
2025-03-14 17:38:49.525 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:49.526 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.997ms
2025-03-14 17:38:49.609 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:38:49.611 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:49.612 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:49.613 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:38:49.617 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:49.619 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:38:49.620 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1935ms
2025-03-14 17:38:49.621 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:38:49.622 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.7534ms
2025-03-14 17:38:50.060 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:50.060 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:50.061 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:50.062 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.070 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 9.9423ms
2025-03-14 17:38:50.067 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.065 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.074 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 13.2352ms
2025-03-14 17:38:50.075 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 14.3151ms
2025-03-14 17:38:50.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:50.078 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:38:50.095 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.101 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.104 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:50.105 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:50.106 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:50.107 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:38:50.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:50.116 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:38:50.116 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:50.117 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:38:50.118 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.3143ms
2025-03-14 17:38:50.119 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.9203ms
2025-03-14 17:38:50.119 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:38:50.120 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:50.121 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:38:50.122 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:38:50.123 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 34.9826ms
2025-03-14 17:38:50.124 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 46.2426ms
2025-03-14 17:38:50.125 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:50.132 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:38:50.136 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:38:50.138 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:38:50.140 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.2879ms
2025-03-14 17:38:50.140 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:38:50.141 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.4708ms
2025-03-14 17:39:06.632 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:39:06.634 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:06.635 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5619ms
2025-03-14 17:39:06.637 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:39:06.639 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:06.640 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:06.640 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:39:06.644 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:39:06.647 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:39:06.648 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.3638ms
2025-03-14 17:39:06.648 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:06.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 11.8916ms
2025-03-14 17:39:07.817 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:39:07.819 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:07.820 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7985ms
2025-03-14 17:39:07.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:39:07.825 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:07.826 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:39:07.826 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:39:07.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:39:07.834 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:39:07.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:39:07.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:39:07.841 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:39:07.842 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.7532ms
2025-03-14 17:39:07.843 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:39:07.844 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 20.9747ms
2025-03-14 17:39:10.938 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:39:10.939 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:10.939 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 1.8656ms
2025-03-14 17:39:10.941 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:39:10.943 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:10.943 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:39:10.944 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:39:10.949 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:39:10.953 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:39:10.963 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:39:10.965 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:39:10.966 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 21.0091ms
2025-03-14 17:39:10.967 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:39:10.968 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 26.8103ms
2025-03-14 17:39:14.474 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:39:14.476 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:14.477 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.1698ms
2025-03-14 17:39:14.478 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:39:14.479 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:14.480 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:14.481 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:39:14.485 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:39:14.487 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:39:14.488 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.3554ms
2025-03-14 17:39:14.489 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:14.490 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 11.5177ms
2025-03-14 17:39:16.959 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:39:16.961 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:16.961 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.2631ms
2025-03-14 17:39:16.963 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:39:16.964 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:16.965 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:39:16.965 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:39:16.969 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:39:16.972 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:39:16.973 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.1739ms
2025-03-14 17:39:16.974 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:39:16.975 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 11.8044ms
2025-03-14 17:39:18.076 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:39:18.078 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:18.078 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:18.079 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:39:18.082 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:39:18.085 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:39:18.085 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.7609ms
2025-03-14 17:39:18.086 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:39:18.087 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 10.4264ms
2025-03-14 17:39:18.769 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:39:18.771 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:39:18.771 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:39:18.772 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:39:18.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:39:18.778 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:39:18.779 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5608ms
2025-03-14 17:39:18.780 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:39:18.782 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 12.7645ms
2025-03-14 17:40:25.301 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:40:25.302 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:40:25.303 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:40:25.304 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:40:25.305 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:40:25.307 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:40:25.307 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:25.308 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:40:25.309 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:40:25.309 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:40:25.310 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:40:25.311 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:40:25.313 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:40:25.313 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:40:25.314 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3777ms
2025-03-14 17:40:25.316 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:25.316 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.0035ms
2025-03-14 17:40:25.316 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:25.321 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:25.324 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:25.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:40:25.327 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.2328ms
2025-03-14 17:40:25.328 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:40:25.330 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.7286ms
2025-03-14 17:40:25.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:40:25.575 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:25.575 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7218ms
2025-03-14 17:40:25.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:40:25.586 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:25.586 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:40:25.587 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:40:25.590 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:40:25.593 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:40:25.594 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4861ms
2025-03-14 17:40:25.594 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:40:25.595 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.4347ms
2025-03-14 17:40:25.616 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:40:25.619 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:25.620 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:40:25.621 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:40:25.625 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:40:25.628 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:40:25.629 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9693ms
2025-03-14 17:40:25.630 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:40:25.631 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0765ms
2025-03-14 17:40:26.105 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:40:26.106 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:40:26.106 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:40:26.107 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.109 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.110 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.111 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1248ms
2025-03-14 17:40:26.111 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5374ms
2025-03-14 17:40:26.112 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.8053ms
2025-03-14 17:40:26.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:40:26.117 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:40:26.118 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.119 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.120 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:40:26.120 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:26.121 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:40:26.121 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:40:26.125 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:40:26.126 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:40:26.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:40:26.129 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:40:26.129 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.8753ms
2025-03-14 17:40:26.130 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.309ms
2025-03-14 17:40:26.131 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:40:26.131 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:40:26.132 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:26.133 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:26.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 18.2052ms
2025-03-14 17:40:26.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 17.0426ms
2025-03-14 17:40:26.135 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:26.138 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:40:26.142 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:40:26.144 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:40:26.145 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.7276ms
2025-03-14 17:40:26.146 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:40:26.148 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 16.804ms
2025-03-14 17:40:27.692 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:40:27.693 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:27.694 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.8766ms
2025-03-14 17:40:27.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:40:27.696 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:27.697 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:40:27.698 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:40:27.701 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:40:27.704 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:40:27.705 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5753ms
2025-03-14 17:40:27.706 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:40:27.707 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 11.8392ms
2025-03-14 17:40:29.956 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:40:29.958 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:29.958 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.0937ms
2025-03-14 17:40:29.961 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:40:29.962 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:29.963 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:40:29.964 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:40:29.968 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:40:29.971 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:40:29.972 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.4589ms
2025-03-14 17:40:29.973 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:40:29.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 13.3126ms
2025-03-14 17:40:31.223 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:40:31.225 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:31.226 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7283ms
2025-03-14 17:40:31.227 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:40:31.228 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:31.229 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:40:31.230 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:40:31.234 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:40:31.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:31.240 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:31.244 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:40:31.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:40:31.248 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.7834ms
2025-03-14 17:40:31.249 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:40:31.250 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.3321ms
2025-03-14 17:40:46.347 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:40:46.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:40:46.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:40:46.352 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:40:46.353 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:40:46.356 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:40:46.356 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 9.4815ms
2025-03-14 17:40:46.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.2168ms
2025-03-14 17:40:46.358 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.0794ms
2025-03-14 17:40:49.077 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:40:49.077 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:40:49.078 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:40:49.080 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:40:49.081 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:40:49.083 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:40:49.083 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.954ms
2025-03-14 17:40:49.084 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.8945ms
2025-03-14 17:40:49.085 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.7313ms
2025-03-14 17:40:51.894 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:40:51.896 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:51.896 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 1.9812ms
2025-03-14 17:40:51.898 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:40:51.900 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:51.901 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:40:51.902 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:40:51.908 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:40:51.910 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:40:51.911 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.4763ms
2025-03-14 17:40:51.912 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:40:51.913 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 14.4855ms
2025-03-14 17:40:54.825 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:40:54.827 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:54.827 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7505ms
2025-03-14 17:40:54.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:40:54.830 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:40:54.831 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:40:54.831 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:40:54.836 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:40:54.838 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:40:54.839 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.2701ms
2025-03-14 17:40:54.839 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:40:54.840 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 11.1725ms
2025-03-14 17:42:13.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:42:13.905 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:13.907 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:42:13.908 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:42:13.910 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:42:13.911 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:42:13.912 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:13.913 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:13.913 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:42:13.914 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:13.915 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:42:13.917 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:42:13.918 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:42:13.919 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:42:13.919 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9059ms
2025-03-14 17:42:13.922 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:13.922 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.1688ms
2025-03-14 17:42:13.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:13.928 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:13.931 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:13.933 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:13.935 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.4838ms
2025-03-14 17:42:13.935 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:13.936 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.3484ms
2025-03-14 17:42:14.160 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:42:14.163 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.164 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.708ms
2025-03-14 17:42:14.166 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:42:14.167 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.168 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:42:14.169 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:42:14.173 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:42:14.174 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:42:14.175 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.0057ms
2025-03-14 17:42:14.176 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:42:14.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.9672ms
2025-03-14 17:42:14.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:42:14.234 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.235 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:42:14.236 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:42:14.242 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:42:14.244 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:42:14.245 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1603ms
2025-03-14 17:42:14.246 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:42:14.247 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.1718ms
2025-03-14 17:42:14.717 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:42:14.717 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:42:14.718 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:42:14.719 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.720 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.722 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.722 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1838ms
2025-03-14 17:42:14.723 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.8676ms
2025-03-14 17:42:14.724 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.6383ms
2025-03-14 17:42:14.731 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:42:14.734 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:42:14.739 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.734 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.745 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:42:14.745 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:14.746 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:42:14.747 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:42:14.755 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:42:14.755 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:42:14.761 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:42:14.764 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:42:14.765 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 14.6189ms
2025-03-14 17:42:14.765 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.5626ms
2025-03-14 17:42:14.766 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:42:14.766 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:42:14.767 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:14.768 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 34.5053ms
2025-03-14 17:42:14.769 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:14.771 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 39.4497ms
2025-03-14 17:42:14.774 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:14.778 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:42:14.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:42:14.785 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:42:14.786 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.0402ms
2025-03-14 17:42:14.787 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:42:14.788 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 21.9229ms
2025-03-14 17:42:16.494 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:16.496 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:16.497 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5971ms
2025-03-14 17:42:16.499 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:16.501 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:16.502 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:16.502 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:42:16.507 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:42:16.510 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:16.511 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0316ms
2025-03-14 17:42:16.511 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:16.512 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 12.7717ms
2025-03-14 17:42:27.091 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:27.093 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:27.094 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.605ms
2025-03-14 17:42:27.096 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:27.097 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:27.098 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:27.100 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:27.104 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:42:27.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:27.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:27.115 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:27.117 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:27.119 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.3551ms
2025-03-14 17:42:27.120 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:27.121 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.3111ms
2025-03-14 17:42:27.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:42:27.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:27.134 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:42:27.136 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:42:27.137 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:27.139 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:42:27.139 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.3272ms
2025-03-14 17:42:27.140 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.8496ms
2025-03-14 17:42:27.141 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.6398ms
2025-03-14 17:42:28.305 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:28.307 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:28.308 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.6123ms
2025-03-14 17:42:28.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:28.312 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:28.313 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:28.313 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:42:28.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:42:28.321 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:28.322 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.5976ms
2025-03-14 17:42:28.323 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:28.324 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 13.5943ms
2025-03-14 17:42:29.990 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:42:29.992 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:29.993 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.8094ms
2025-03-14 17:42:29.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:42:29.997 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:29.999 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:42:30.000 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:42:30.004 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:42:30.007 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:30.008 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.9913ms
2025-03-14 17:42:30.009 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:42:30.010 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 14.876ms
2025-03-14 17:42:32.763 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:42:32.765 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:42:32.765 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:32.768 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:42:32.768 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 4.4094ms
2025-03-14 17:42:32.769 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.8341ms
2025-03-14 17:42:32.770 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:42:32.773 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:32.774 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:42:32.775 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:42:32.778 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:42:32.781 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:42:32.782 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.3322ms
2025-03-14 17:42:32.783 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:42:32.784 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 13.1691ms
2025-03-14 17:42:34.473 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:34.475 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:34.476 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.602ms
2025-03-14 17:42:34.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:34.481 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:34.482 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:34.482 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:34.486 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:42:34.489 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:34.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:34.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:34.500 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:34.501 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.4531ms
2025-03-14 17:42:34.502 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:34.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.7469ms
2025-03-14 17:42:34.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:42:34.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:34.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:42:34.529 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:42:34.531 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:34.533 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:42:34.533 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.4963ms
2025-03-14 17:42:34.534 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.0167ms
2025-03-14 17:42:34.535 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.6191ms
2025-03-14 17:42:35.659 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:35.661 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:35.661 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2682ms
2025-03-14 17:42:35.663 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:35.665 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:35.665 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:35.666 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:42:35.670 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:42:35.674 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:35.675 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.578ms
2025-03-14 17:42:35.676 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:35.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 13.1647ms
2025-03-14 17:42:36.696 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:42:36.698 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:36.699 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.5613ms
2025-03-14 17:42:36.700 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:42:36.701 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:36.702 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:42:36.703 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:42:36.707 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:42:36.709 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:36.710 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5.692ms
2025-03-14 17:42:36.711 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:42:36.712 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 11.4025ms
2025-03-14 17:42:41.288 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:41.291 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:41.291 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.1281ms
2025-03-14 17:42:41.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:41.294 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:41.295 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:41.296 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:42:41.300 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:42:41.302 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:41.303 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.2224ms
2025-03-14 17:42:41.304 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:41.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 11.8494ms
2025-03-14 17:42:41.986 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:41.988 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:41.988 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2242ms
2025-03-14 17:42:41.990 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:41.992 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:41.992 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:41.993 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:41.997 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:42:42.001 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:42.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:42.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:42.011 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:42.012 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.687ms
2025-03-14 17:42:42.013 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:42.014 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.8244ms
2025-03-14 17:42:42.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:42:42.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:42.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:42:42.030 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:42:42.032 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:42.034 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.2557ms
2025-03-14 17:42:42.033 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.3469ms
2025-03-14 17:42:42.033 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:42:42.040 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 13.7602ms
2025-03-14 17:42:43.464 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:42:43.466 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:43.466 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.304ms
2025-03-14 17:42:43.468 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:42:43.469 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:43.470 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:42:43.471 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:43.476 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:42:43.480 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:42:43.488 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:42:43.491 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:43.492 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 19.7872ms
2025-03-14 17:42:43.492 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:42:43.493 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 24.9241ms
2025-03-14 17:42:43.504 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:43.506 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:43.507 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.7802ms
2025-03-14 17:42:43.511 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:42:43.511 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:42:43.513 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:42:43.515 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:42:43.515 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.3376ms
2025-03-14 17:42:43.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.9212ms
2025-03-14 17:42:45.608 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:42:45.609 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:45.610 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 204 null null 2.4097ms
2025-03-14 17:42:45.613 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:42:45.614 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:45.615 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:42:45.616 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:45.620 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:42:45.622 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:42:45.623 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 5.8112ms
2025-03-14 17:42:45.624 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:42:45.625 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 200 null application/json; charset=utf-8 12.7249ms
2025-03-14 17:42:45.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:45.647 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:45.648 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9765ms
2025-03-14 17:42:54.873 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:54.875 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:54.875 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 1.8989ms
2025-03-14 17:42:54.880 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:42:54.882 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:54.882 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:54.883 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:42:54.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:42:54.889 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:42:54.890 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.236ms
2025-03-14 17:42:54.891 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:42:54.891 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 11.2324ms
2025-03-14 17:42:55.942 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:55.944 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:55.945 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7089ms
2025-03-14 17:42:55.948 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:42:55.951 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:42:55.952 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:55.953 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:42:55.957 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:42:55.961 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:55.965 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:55.969 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:42:55.971 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:42:55.972 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.1948ms
2025-03-14 17:42:55.973 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:42:55.973 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.0431ms
2025-03-14 17:42:55.989 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:42:55.990 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:42:55.990 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:42:55.992 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:42:55.994 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:42:55.996 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:42:55.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.0072ms
2025-03-14 17:42:55.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.6838ms
2025-03-14 17:42:55.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.522ms
2025-03-14 17:45:36.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:36.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:45:36.906 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:45:36.907 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:45:36.908 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:45:36.910 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:45:36.910 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:36.911 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:45:36.912 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:45:36.912 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:45:36.913 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:45:36.915 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:45:36.916 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:45:36.917 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6481ms
2025-03-14 17:45:36.918 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:45:36.918 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:36.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.4611ms
2025-03-14 17:45:36.921 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:36.926 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:36.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:36.934 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:45:36.935 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.1111ms
2025-03-14 17:45:36.937 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:45:36.938 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.7022ms
2025-03-14 17:45:37.877 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:37.879 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:37.879 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2261ms
2025-03-14 17:45:37.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:37.883 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:37.883 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:37.884 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:45:37.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:45:37.889 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:45:37.890 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.889ms
2025-03-14 17:45:37.891 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:37.892 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.6876ms
2025-03-14 17:45:38.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:38.097 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:38.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0739ms
2025-03-14 17:45:38.101 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:38.102 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:38.103 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:38.104 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:45:38.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:45:38.111 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:45:38.112 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6551ms
2025-03-14 17:45:38.114 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:38.116 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.1573ms
2025-03-14 17:45:39.297 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:39.298 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:39.300 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:45:39.303 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.303 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.5973ms
2025-03-14 17:45:39.305 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.9863ms
2025-03-14 17:45:39.310 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 8.6709ms
2025-03-14 17:45:39.315 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:45:39.315 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:39.317 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:39.317 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.319 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.321 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:39.322 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:45:39.323 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:39.324 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:39.326 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:45:39.326 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:45:39.327 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:45:39.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:45:39.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:45:39.334 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:45:39.335 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:45:39.336 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.5123ms
2025-03-14 17:45:39.337 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.822ms
2025-03-14 17:45:39.338 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:45:39.339 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:39.340 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 24.831ms
2025-03-14 17:45:39.341 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.4617ms
2025-03-14 17:45:39.362 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:45:39.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:45:39.365 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 33.2125ms
2025-03-14 17:45:39.366 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:39.366 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 49.4092ms
2025-03-14 17:45:39.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:45:39.500 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:45:39.501 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.0466ms
2025-03-14 17:45:39.550 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:45:39.552 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:45:39.553 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.8936ms
2025-03-14 17:45:58.820 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:45:58.820 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:45:58.822 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:45:58.823 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:45:58.825 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:45:58.828 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:45:58.829 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:58.830 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:45:58.830 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:45:58.831 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:45:58.833 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:45:58.836 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:45:58.837 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:45:58.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:45:58.838 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.2534ms
2025-03-14 17:45:58.841 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:45:58.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:58.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.8183ms
2025-03-14 17:45:58.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:58.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:45:58.853 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:45:58.854 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.6616ms
2025-03-14 17:45:58.855 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:45:58.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.1233ms
2025-03-14 17:45:59.845 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:59.847 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:59.847 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0806ms
2025-03-14 17:45:59.851 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:45:59.853 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:45:59.854 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:59.855 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:45:59.859 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:45:59.861 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:45:59.862 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6547ms
2025-03-14 17:45:59.863 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:45:59.865 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5468ms
2025-03-14 17:46:00.042 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:46:00.043 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:00.044 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6841ms
2025-03-14 17:46:00.047 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:46:00.049 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:00.050 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:46:00.050 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:46:00.054 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:46:00.056 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:46:00.057 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4912ms
2025-03-14 17:46:00.058 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:46:00.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.3203ms
2025-03-14 17:46:01.257 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:46:01.257 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:46:01.259 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:46:01.259 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.261 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.263 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.263 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.5043ms
2025-03-14 17:46:01.265 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.3003ms
2025-03-14 17:46:01.266 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.9836ms
2025-03-14 17:46:01.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:46:01.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:46:01.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:46:01.278 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.280 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.282 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:46:01.283 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:46:01.283 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:46:01.284 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:46:01.285 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:46:01.286 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:46:01.286 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:46:01.292 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:46:01.295 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:46:01.296 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:46:01.297 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:46:01.298 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:46:01.299 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.3719ms
2025-03-14 17:46:01.301 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:46:01.302 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.1663ms
2025-03-14 17:46:01.303 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:46:01.304 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.3274ms
2025-03-14 17:46:01.305 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:46:01.306 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 31.5751ms
2025-03-14 17:46:01.307 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:46:01.309 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 34.3153ms
2025-03-14 17:46:01.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 37.6588ms
2025-03-14 17:46:01.460 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:46:01.462 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:46:01.463 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.2751ms
2025-03-14 17:46:01.476 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:46:01.478 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:46:01.480 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.9272ms
2025-03-14 17:49:14.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:49:14.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:49:14.332 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:49:14.333 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:49:14.335 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:49:14.337 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:49:14.338 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:14.339 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:14.340 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:49:14.340 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:49:14.341 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:49:14.343 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:49:14.343 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:49:14.344 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9859ms
2025-03-14 17:49:14.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:49:14.345 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:14.348 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.6794ms
2025-03-14 17:49:14.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:14.355 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:14.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:14.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:49:14.363 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.731ms
2025-03-14 17:49:14.364 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:14.364 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.3082ms
2025-03-14 17:49:15.450 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:49:15.455 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:15.457 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 7.1802ms
2025-03-14 17:49:15.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:49:15.464 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:15.466 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:49:15.467 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:49:15.473 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:49:15.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:49:15.477 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.1756ms
2025-03-14 17:49:15.478 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:49:15.481 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.3168ms
2025-03-14 17:49:15.651 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:49:15.654 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:15.655 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2202ms
2025-03-14 17:49:15.657 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:49:15.660 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:15.661 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:49:15.661 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:49:15.664 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:49:15.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:49:15.667 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.9641ms
2025-03-14 17:49:15.668 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:49:15.669 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.0037ms
2025-03-14 17:49:16.466 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:49:16.469 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:49:16.469 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:49:16.470 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.473 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.475 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.476 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 9.7972ms
2025-03-14 17:49:16.477 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.682ms
2025-03-14 17:49:16.486 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:49:16.485 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:49:16.478 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 8.6458ms
2025-03-14 17:49:16.488 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.490 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.494 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:49:16.496 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:16.497 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:49:16.498 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:16.499 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:49:16.500 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:49:16.501 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:16.505 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:49:16.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:49:16.508 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:49:16.512 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:49:16.513 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:49:16.513 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:49:16.514 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.3998ms
2025-03-14 17:49:16.516 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:49:16.517 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 12.2846ms
2025-03-14 17:49:16.517 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:16.518 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.5475ms
2025-03-14 17:49:16.520 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:49:16.521 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 34.8537ms
2025-03-14 17:49:16.522 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:49:16.525 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 39.9667ms
2025-03-14 17:49:16.527 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.7333ms
2025-03-14 17:49:16.579 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:49:16.584 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:49:16.586 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 6.7863ms
2025-03-14 17:49:16.600 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:49:16.603 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:49:16.605 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.8513ms
2025-03-14 17:49:42.008 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:49:42.009 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:42.010 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4314ms
2025-03-14 17:49:42.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:49:42.014 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:42.015 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:42.016 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:49:42.020 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:49:42.023 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:42.027 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:42.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:42.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:49:42.035 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.2631ms
2025-03-14 17:49:42.036 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:42.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.2613ms
2025-03-14 17:49:42.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:49:42.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:49:42.053 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:49:42.055 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:49:42.055 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:49:42.057 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:49:42.057 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.1897ms
2025-03-14 17:49:42.058 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.5153ms
2025-03-14 17:49:42.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.2974ms
2025-03-14 17:49:43.867 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:49:43.868 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:43.869 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.3732ms
2025-03-14 17:49:43.872 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:49:43.873 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:43.874 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:49:43.875 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:49:43.879 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:49:43.887 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:49:43.888 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 11.8815ms
2025-03-14 17:49:43.889 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:49:43.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 404 null application/json; charset=utf-8 18.0387ms
2025-03-14 17:49:45.365 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:49:45.367 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:45.368 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7524ms
2025-03-14 17:49:45.370 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:49:45.372 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:45.372 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:49:45.373 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:49:45.377 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:49:45.381 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:49:45.383 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.305ms
2025-03-14 17:49:45.384 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:49:45.386 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 15.5901ms
2025-03-14 17:49:52.103 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:49:52.106 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:52.107 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.3472ms
2025-03-14 17:49:52.109 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:49:52.111 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:52.112 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:52.113 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:49:52.117 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:49:52.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:52.125 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:52.129 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:49:52.131 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:49:52.132 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.6924ms
2025-03-14 17:49:52.133 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:49:52.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.926ms
2025-03-14 17:49:52.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:49:52.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:49:52.150 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:49:52.151 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:49:52.153 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:49:52.155 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:49:52.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.9996ms
2025-03-14 17:49:52.156 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.7362ms
2025-03-14 17:49:52.157 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.1178ms
2025-03-14 17:49:53.331 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:49:53.335 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:53.341 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 10.1744ms
2025-03-14 17:49:53.344 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:49:53.360 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:49:53.363 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:49:53.365 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:49:53.387 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:49:53.396 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:49:53.413 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:49:53.415 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:49:53.416 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 45.156ms
2025-03-14 17:49:53.417 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:49:53.418 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 73.9704ms
2025-03-14 17:49:53.434 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:49:53.436 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:49:53.437 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8892ms
2025-03-14 17:49:53.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:49:53.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:49:53.449 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:49:53.450 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:49:53.451 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.5198ms
2025-03-14 17:49:53.452 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.3862ms
2025-03-14 17:49:54.679 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:49:54.681 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:49:54.681 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.6288ms
2025-03-14 17:50:08.755 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7 - null null
2025-03-14 17:50:08.756 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.757 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7 - 204 null null 1.9695ms
2025-03-14 17:50:08.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7 - null null
2025-03-14 17:50:08.760 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.761 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:50:08.765 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:50:08.794 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 17:50:08.797 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:50:08.798 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 32.0629ms
2025-03-14 17:50:08.799 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:50:08.800 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7 - 404 null application/json; charset=utf-8 40.7481ms
2025-03-14 17:50:08.805 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 17:50:08.807 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.808 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.9942ms
2025-03-14 17:50:08.809 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 17:50:08.811 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.812 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:50:08.814 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:50:08.826 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 17:50:08.836 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 17:50:08.843 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:50:08.871 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Stocks] ([Id], [CreationDate], [UpdateDate], [UserId], [VariantId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-03-14 17:50:08.873 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:50:08.874 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 58.3008ms
2025-03-14 17:50:08.875 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:50:08.875 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 201 null application/json; charset=utf-8 65.942ms
2025-03-14 17:50:08.879 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca/package - null null
2025-03-14 17:50:08.881 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.881 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca/package - 204 null null 2.2598ms
2025-03-14 17:50:08.883 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca/package - application/json 81
2025-03-14 17:50:08.885 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:50:08.886 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 17:50:08.889 +01:00 [INF] Route matched with {action = "AddNewPackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewPackage(System.Guid, api.Controllers.Stocks.dto.PackageDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 17:50:08.920 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Id0], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[Id1], [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id] = [p].[StockId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-03-14 17:50:08.954 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Date), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Packages] ([Id], [CreationDate], [ExpirationDate], [PurchaseDate], [RemainingQuantity], [StockId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-14 17:50:08.974 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Packages] SET [StockId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Stocks] SET [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-14 17:50:08.985 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:50:08.987 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.AddNewPackage (api) in 96.0872ms
2025-03-14 17:50:08.988 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 17:50:08.989 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca/package - 201 null application/json; charset=utf-8 105.2486ms
2025-03-14 17:50:45.528 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:50:45.531 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:50:45.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:50:45.534 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.1683ms
2025-03-14 17:50:45.536 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:50:45.538 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:50:45.538 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.9ms
2025-03-14 17:50:45.540 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:50:45.541 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 3.8146ms
2025-03-14 17:51:04.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:51:04.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:04.298 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:51:04.299 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:51:04.301 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:51:04.302 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:51:04.303 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:04.304 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:04.304 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:51:04.305 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:04.305 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:51:04.307 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:51:04.308 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:51:04.309 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2053ms
2025-03-14 17:51:04.309 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:51:04.309 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:04.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.9435ms
2025-03-14 17:51:04.314 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:04.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:04.324 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:04.325 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:04.326 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.7092ms
2025-03-14 17:51:04.327 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:04.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.9279ms
2025-03-14 17:51:04.827 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:51:04.829 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:04.831 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.6757ms
2025-03-14 17:51:04.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:51:04.868 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:04.869 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:51:04.871 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:51:04.876 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:51:04.878 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:51:04.880 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6388ms
2025-03-14 17:51:04.881 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:51:04.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.3391ms
2025-03-14 17:51:05.011 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:51:05.013 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.014 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6481ms
2025-03-14 17:51:05.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:51:05.042 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.043 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:51:05.045 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:51:05.141 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:51:05.196 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:51:05.208 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 144.5369ms
2025-03-14 17:51:05.210 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:51:05.211 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 174.2646ms
2025-03-14 17:51:05.430 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:51:05.431 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:51:05.431 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:51:05.433 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.435 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.437 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.438 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.1709ms
2025-03-14 17:51:05.439 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.3188ms
2025-03-14 17:51:05.440 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 8.3959ms
2025-03-14 17:51:05.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:51:05.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:51:05.450 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:51:05.452 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.454 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.455 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:05.456 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:05.457 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:51:05.457 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:05.458 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:51:05.459 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:51:05.459 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:51:05.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:51:05.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:51:05.466 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:51:05.467 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:51:05.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:51:05.471 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:51:05.472 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.3789ms
2025-03-14 17:51:05.475 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:05.474 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.4366ms
2025-03-14 17:51:05.473 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.901ms
2025-03-14 17:51:05.477 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.0012ms
2025-03-14 17:51:05.478 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:51:05.479 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:51:05.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.4794ms
2025-03-14 17:51:05.483 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 36.4442ms
2025-03-14 17:51:05.568 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:51:05.571 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:51:05.573 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.653ms
2025-03-14 17:51:05.585 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:51:05.590 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:51:05.591 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.7872ms
2025-03-14 17:51:06.814 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:06.817 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:06.818 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.392ms
2025-03-14 17:51:06.821 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:06.823 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:06.823 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:06.824 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:06.828 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:06.833 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:06.837 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 11.504ms
2025-03-14 17:51:06.838 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:06.838 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 17.3237ms
2025-03-14 17:51:06.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:06.856 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:06.856 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9684ms
2025-03-14 17:51:07.905 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:07.909 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:07.910 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 5.031ms
2025-03-14 17:51:07.913 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:07.915 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:07.916 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:07.917 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:07.921 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:51:07.926 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:07.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:07.934 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:07.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:07.939 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3279ms
2025-03-14 17:51:07.940 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:07.941 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.4249ms
2025-03-14 17:51:07.952 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:07.955 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:07.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.2806ms
2025-03-14 17:51:07.959 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:51:07.959 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:07.962 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:51:07.964 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:07.965 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.6664ms
2025-03-14 17:51:07.966 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.1698ms
2025-03-14 17:51:09.567 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:51:09.568 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:09.569 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - 204 null null 2.3766ms
2025-03-14 17:51:09.571 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:51:09.573 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:09.574 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:51:09.574 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:09.579 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:51:09.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:51:09.594 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:51:09.596 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:09.598 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 21.9891ms
2025-03-14 17:51:09.599 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:51:09.600 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - 200 null application/json; charset=utf-8 28.5212ms
2025-03-14 17:51:09.622 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:09.624 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:09.625 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 2.8009ms
2025-03-14 17:51:10.841 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:10.843 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:10.844 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 2.829ms
2025-03-14 17:51:17.008 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 17:51:17.010 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:17.010 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 204 null null 2.1573ms
2025-03-14 17:51:17.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 17:51:17.014 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:17.015 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:51:17.016 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:17.020 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 17:51:17.023 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:17.024 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 6.8702ms
2025-03-14 17:51:17.025 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:51:17.026 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 404 null application/json; charset=utf-8 13.7203ms
2025-03-14 17:51:17.031 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 17:51:17.032 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:17.033 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.1788ms
2025-03-14 17:51:17.034 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 17:51:17.036 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:17.037 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:51:17.040 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:17.044 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 17:51:17.047 +01:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:17.048 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 6.2834ms
2025-03-14 17:51:17.049 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:51:17.050 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 409 null application/json; charset=utf-8 15.2317ms
2025-03-14 17:51:20.974 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:20.976 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:20.977 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:20.978 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:20.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.3371ms
2025-03-14 17:51:20.979 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.4104ms
2025-03-14 17:51:20.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:20.987 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:20.988 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:20.989 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:20.993 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:20.996 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:20.997 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.099ms
2025-03-14 17:51:20.999 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:21.000 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 16.006ms
2025-03-14 17:51:21.018 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:21.056 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:21.088 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 69.5256ms
2025-03-14 17:51:24.380 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:24.382 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:24.382 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4453ms
2025-03-14 17:51:24.385 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:24.386 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:24.387 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:24.388 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:24.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:51:24.396 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:24.400 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:24.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:24.408 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:24.409 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.4996ms
2025-03-14 17:51:24.410 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:24.411 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.7721ms
2025-03-14 17:51:24.420 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:51:24.422 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:24.423 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:51:24.423 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:24.425 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:24.425 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.5153ms
2025-03-14 17:51:24.427 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:24.427 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.2377ms
2025-03-14 17:51:24.430 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.5225ms
2025-03-14 17:51:25.611 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:25.613 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:25.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.06ms
2025-03-14 17:51:25.615 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:25.618 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:25.618 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.8259ms
2025-03-14 17:51:25.621 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:25.622 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:25.623 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:25.623 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:25.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:25.630 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:25.631 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.1279ms
2025-03-14 17:51:25.632 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:25.633 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.0176ms
2025-03-14 17:51:25.646 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:25.648 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:25.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4272ms
2025-03-14 17:51:27.101 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:27.103 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:27.104 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5102ms
2025-03-14 17:51:27.106 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:27.108 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:27.109 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:27.110 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:27.114 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:51:27.118 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:27.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:27.125 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:27.127 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:27.128 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.2606ms
2025-03-14 17:51:27.130 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:27.131 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.8157ms
2025-03-14 17:51:27.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:51:27.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:27.153 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:51:27.153 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:27.154 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:27.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.246ms
2025-03-14 17:51:27.158 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:27.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.4259ms
2025-03-14 17:51:27.161 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.0529ms
2025-03-14 17:51:28.576 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:51:28.578 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:28.579 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - 204 null null 2.1959ms
2025-03-14 17:51:28.581 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 17:51:28.583 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:28.584 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:51:28.584 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:28.590 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:51:28.594 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:51:28.602 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:51:28.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:28.606 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 20.3002ms
2025-03-14 17:51:28.607 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:51:28.607 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - 200 null application/json; charset=utf-8 26.5308ms
2025-03-14 17:51:28.623 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:28.626 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:28.627 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 3.3829ms
2025-03-14 17:51:29.780 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:51:29.782 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:51:29.783 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 2.8745ms
2025-03-14 17:51:31.378 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 17:51:31.379 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:31.380 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 204 null null 2.1823ms
2025-03-14 17:51:31.382 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 17:51:31.383 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:31.384 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:51:31.384 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:31.390 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 17:51:31.392 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:31.393 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 6.0712ms
2025-03-14 17:51:31.394 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:51:31.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 404 null application/json; charset=utf-8 12.7899ms
2025-03-14 17:51:31.407 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 17:51:31.408 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:31.409 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.1451ms
2025-03-14 17:51:31.411 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 17:51:31.413 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:31.414 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:51:31.415 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:31.419 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 17:51:31.421 +01:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:31.422 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 6.1327ms
2025-03-14 17:51:31.423 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:51:31.424 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 409 null application/json; charset=utf-8 12.6973ms
2025-03-14 17:51:33.832 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:33.834 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:33.834 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:33.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0494ms
2025-03-14 17:51:33.836 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:33.839 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.6432ms
2025-03-14 17:51:33.840 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:33.842 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:33.843 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:33.844 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:33.849 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:33.851 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:33.852 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.2005ms
2025-03-14 17:51:33.853 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:33.853 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.9383ms
2025-03-14 17:51:33.860 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:51:33.862 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:51:33.863 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9672ms
2025-03-14 17:51:45.828 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:51:45.830 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:45.831 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 204 null null 2.5286ms
2025-03-14 17:51:45.833 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - null null
2025-03-14 17:51:45.834 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:45.835 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:51:45.835 +01:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(System.Guid) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:45.841 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__productId_0
2025-03-14 17:51:45.843 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Products.dto.ProductWithDescriptionDto'.
2025-03-14 17:51:45.844 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProduct (api) in 6.1184ms
2025-03-14 17:51:45.845 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProduct (api)'
2025-03-14 17:51:45.845 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/product/6a430692-b008-4fcf-97d6-2b0d4ca119d7/details - 200 null application/json; charset=utf-8 12.7444ms
2025-03-14 17:51:48.623 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:48.624 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:48.625 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.4342ms
2025-03-14 17:51:48.627 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:48.628 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:48.629 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:48.630 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:48.634 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:48.636 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:48.637 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.086ms
2025-03-14 17:51:48.638 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:48.639 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.1636ms
2025-03-14 17:51:50.273 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:51:50.275 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:50.275 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.9917ms
2025-03-14 17:51:50.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:51:50.278 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:50.279 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:51:50.280 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:51:50.283 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:51:50.287 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:50.289 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.6811ms
2025-03-14 17:51:50.290 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:51:50.290 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 13.4518ms
2025-03-14 17:51:52.063 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:52.064 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:52.065 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:52.066 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:52.070 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:52.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:52.074 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.8905ms
2025-03-14 17:51:52.074 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:52.075 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.2766ms
2025-03-14 17:51:53.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:53.574 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:53.575 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2431ms
2025-03-14 17:51:53.577 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:51:53.578 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:53.579 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:53.580 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:51:53.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:51:53.588 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:53.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:53.594 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:51:53.597 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:51:53.598 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.0557ms
2025-03-14 17:51:53.599 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:51:53.600 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.269ms
2025-03-14 17:51:54.656 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:54.657 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:54.658 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.0282ms
2025-03-14 17:51:54.660 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:54.662 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:54.663 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:54.665 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:54.672 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:54.674 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:54.676 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 10.4688ms
2025-03-14 17:51:54.677 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:54.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 17.6792ms
2025-03-14 17:51:55.480 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:51:55.481 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:55.482 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.0743ms
2025-03-14 17:51:55.484 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:51:55.485 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:55.486 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:51:55.487 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:51:55.492 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:51:55.494 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:51:55.495 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.861ms
2025-03-14 17:51:55.496 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:51:55.497 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 13.0211ms
2025-03-14 17:51:57.053 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:51:57.054 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:57.055 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:57.056 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:51:57.062 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:51:57.065 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:51:57.065 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.0672ms
2025-03-14 17:51:57.066 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:51:57.067 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.0364ms
2025-03-14 17:51:58.377 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:51:58.378 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:58.379 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.0594ms
2025-03-14 17:51:58.381 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:51:58.382 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:51:58.383 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:51:58.384 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:51:58.387 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:51:58.389 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:51:58.390 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 4.8795ms
2025-03-14 17:51:58.390 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:51:58.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 10.4189ms
2025-03-14 17:52:00.152 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:52:00.153 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:52:00.154 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2828ms
2025-03-14 17:52:00.156 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:52:00.157 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:52:00.158 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:52:00.159 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:52:00.163 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:52:00.167 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:52:00.168 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.8887ms
2025-03-14 17:52:00.168 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:52:00.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.0914ms
2025-03-14 17:52:58.328 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:52:58.329 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:52:58.330 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:52:58.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:52:58.333 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:52:58.336 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:52:58.337 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:52:58.337 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:52:58.338 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:52:58.338 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:52:58.339 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:52:58.341 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:52:58.342 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:52:58.342 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:52:58.342 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1036ms
2025-03-14 17:52:58.344 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:52:58.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:52:58.345 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.0011ms
2025-03-14 17:52:58.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:52:58.352 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:52:58.354 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:52:58.355 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.2197ms
2025-03-14 17:52:58.356 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:52:58.357 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.4831ms
2025-03-14 17:52:58.824 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:52:58.827 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:52:58.828 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9225ms
2025-03-14 17:52:58.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:52:58.831 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:52:58.832 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:52:58.832 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:52:58.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:52:58.838 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:52:58.839 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6685ms
2025-03-14 17:52:58.840 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:52:58.841 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.5314ms
2025-03-14 17:52:58.981 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:52:58.983 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:52:58.983 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:52:58.985 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:52:58.989 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:52:58.992 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:52:58.993 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6417ms
2025-03-14 17:52:58.995 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:52:58.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.6677ms
2025-03-14 17:53:00.219 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:53:00.219 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:53:00.220 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:53:00.222 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.223 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.225 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.226 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.7604ms
2025-03-14 17:53:00.227 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.3972ms
2025-03-14 17:53:00.227 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 7.7599ms
2025-03-14 17:53:00.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:53:00.235 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:53:00.236 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.237 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.238 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:53:00.238 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:53:00.239 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:53:00.240 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:53:00.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:53:00.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:53:00.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:53:00.248 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:53:00.249 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.4422ms
2025-03-14 17:53:00.250 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4923ms
2025-03-14 17:53:00.251 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:53:00.252 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:53:00.253 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:53:00.254 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 22.1989ms
2025-03-14 17:53:00.256 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:53:00.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.0873ms
2025-03-14 17:53:00.260 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:53:00.262 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:53:00.267 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:53:00.269 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:53:00.270 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.3747ms
2025-03-14 17:53:00.271 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:53:00.272 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.0789ms
2025-03-14 17:56:03.531 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:03.531 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:56:03.532 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:03.534 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:03.536 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:03.537 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:03.538 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:03.539 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:03.540 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:03.541 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:56:03.543 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:56:03.545 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:56:03.546 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:56:03.547 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:56:03.547 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9042ms
2025-03-14 17:56:03.549 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:03.550 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.9435ms
2025-03-14 17:56:03.550 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.559 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.561 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:03.562 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.225ms
2025-03-14 17:56:03.563 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:03.564 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.9217ms
2025-03-14 17:56:03.654 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:03.655 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:56:03.656 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:03.658 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:03.659 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:03.661 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:03.661 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:03.662 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:03.662 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:03.663 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:56:03.664 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:56:03.665 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:56:03.666 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:56:03.666 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.9238ms
2025-03-14 17:56:03.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:56:03.667 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:03.670 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.702ms
2025-03-14 17:56:03.671 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.677 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.680 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:03.682 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:03.683 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.6233ms
2025-03-14 17:56:03.684 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:03.685 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.502ms
2025-03-14 17:56:04.111 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:04.113 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:04.113 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9574ms
2025-03-14 17:56:04.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:04.116 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:04.118 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:04.118 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:56:04.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:04.123 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:56:04.124 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.0592ms
2025-03-14 17:56:04.125 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:04.126 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.9716ms
2025-03-14 17:56:04.232 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:04.234 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:04.235 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:04.236 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:56:04.239 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:04.241 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:56:04.244 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9771ms
2025-03-14 17:56:04.246 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:04.246 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.3681ms
2025-03-14 17:56:05.224 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:05.225 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:05.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.226 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:56:05.227 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.228 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.77ms
2025-03-14 17:56:05.231 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.232 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.7474ms
2025-03-14 17:56:05.234 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:05.235 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 9.0245ms
2025-03-14 17:56:05.238 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.240 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:56:05.241 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:05.242 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.243 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:05.244 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:56:05.246 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:56:05.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:05.255 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:56:05.255 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:56:05.256 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.6864ms
2025-03-14 17:56:05.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:05.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:56:05.260 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:05.263 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:05.264 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 15.8297ms
2025-03-14 17:56:05.264 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.0764ms
2025-03-14 17:56:05.266 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:05.267 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:56:05.269 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:05.269 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 29.4633ms
2025-03-14 17:56:05.275 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:05.277 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:56:05.278 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.3814ms
2025-03-14 17:56:05.280 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:05.280 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.2738ms
2025-03-14 17:56:20.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:20.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:56:20.312 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:20.313 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:56:20.314 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:20.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:56:20.316 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:20.317 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:20.317 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:20.318 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:56:20.319 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:56:20.321 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:56:20.323 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:56:20.323 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:56:20.323 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.7072ms
2025-03-14 17:56:20.326 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:20.327 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:20.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.3039ms
2025-03-14 17:56:20.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:20.335 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:56:20.337 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:20.338 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.789ms
2025-03-14 17:56:20.339 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:56:20.340 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.3516ms
2025-03-14 17:56:20.594 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:20.597 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:20.599 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.1786ms
2025-03-14 17:56:20.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:20.603 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:20.603 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:20.604 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:56:20.608 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:20.610 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:56:20.611 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.2379ms
2025-03-14 17:56:20.613 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:20.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.9904ms
2025-03-14 17:56:20.622 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:56:20.624 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:20.626 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:20.628 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:56:20.633 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:20.635 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:56:20.636 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.2749ms
2025-03-14 17:56:20.638 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:56:20.639 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.5578ms
2025-03-14 17:56:21.133 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:21.134 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:21.134 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:56:21.135 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.136 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.138 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.139 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.3099ms
2025-03-14 17:56:21.140 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2661ms
2025-03-14 17:56:21.142 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 7.7958ms
2025-03-14 17:56:21.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:56:21.149 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:21.151 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.153 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.154 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:56:21.154 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:21.155 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:56:21.156 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:21.160 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:56:21.160 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:21.162 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:56:21.164 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:56:21.164 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.5124ms
2025-03-14 17:56:21.165 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.9557ms
2025-03-14 17:56:21.166 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:56:21.166 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:56:21.166 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:21.169 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:21.170 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 21.0301ms
2025-03-14 17:56:21.171 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 21.6609ms
2025-03-14 17:56:21.172 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:21.176 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:56:21.179 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:21.182 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:56:21.183 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4744ms
2025-03-14 17:56:21.184 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:56:21.185 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 19.1331ms
2025-03-14 17:56:22.714 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:56:22.716 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:22.717 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.3495ms
2025-03-14 17:56:22.722 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:56:22.723 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:22.724 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:22.725 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:56:22.730 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:56:22.732 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:56:22.733 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.8349ms
2025-03-14 17:56:22.734 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:22.735 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.4217ms
2025-03-14 17:56:24.410 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:56:24.412 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:24.412 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 2.168ms
2025-03-14 17:56:24.415 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:56:24.416 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:24.417 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:56:24.419 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:56:24.437 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:56:24.441 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:56:24.443 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 22.0737ms
2025-03-14 17:56:24.445 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:56:24.446 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 31.2665ms
2025-03-14 17:56:24.460 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:56:24.461 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:24.462 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 1.7819ms
2025-03-14 17:56:24.467 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:56:24.469 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:24.469 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:56:24.472 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:56:24.481 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:56:24.484 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:24.485 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 12.0449ms
2025-03-14 17:56:24.486 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:56:24.487 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 20.1948ms
2025-03-14 17:56:24.496 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:56:24.496 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:56:24.499 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:56:24.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.865ms
2025-03-14 17:56:24.500 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:56:24.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 6.0822ms
2025-03-14 17:56:28.559 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - null null
2025-03-14 17:56:28.559 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-03-14 17:56:28.561 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.562 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.563 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 4.0849ms
2025-03-14 17:56:28.564 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 4.4506ms
2025-03-14 17:56:28.566 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-03-14 17:56:28.569 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - application/json 26
2025-03-14 17:56:28.570 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.571 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.572 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 17:56:28.572 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 17:56:28.575 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:28.576 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 17:56:28.588 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-03-14 17:56:28.596 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-03-14 17:56:28.601 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Packages] SET [RemainingQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:56:28.604 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-14 17:56:28.605 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-03-14 17:56:28.605 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 27.2966ms
2025-03-14 17:56:28.607 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 17:56:28.607 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 38.3825ms
2025-03-14 17:56:28.611 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:56:28.613 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.613 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2401ms
2025-03-14 17:56:28.615 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:56:28.617 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:28.617 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:28.618 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:56:28.622 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:56:28.624 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:56:28.625 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.7911ms
2025-03-14 17:56:28.626 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:28.627 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 11.3946ms
2025-03-14 17:56:28.643 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 17:56:28.650 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 17:56:28.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:56:28.683 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-03-14 17:56:28.690 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:56:28.691 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 114.0656ms
2025-03-14 17:56:28.692 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 17:56:28.693 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 127.1634ms
2025-03-14 17:56:30.400 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:30.401 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:30.402 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.3229ms
2025-03-14 17:56:30.405 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:30.407 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:30.408 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:30.409 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:30.414 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:56:30.419 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:56:30.425 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 15.1991ms
2025-03-14 17:56:30.426 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:30.427 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 21.9311ms
2025-03-14 17:56:32.153 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:56:32.153 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:56:32.153 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:56:32.154 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.156 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.158 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.158 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.726ms
2025-03-14 17:56:32.159 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 6.1293ms
2025-03-14 17:56:32.160 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:32.161 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:56:32.162 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:56:32.163 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:56:32.164 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.166 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.167 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:56:32.167 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:56:32.169 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:56:32.171 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:56:32.171 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:56:32.174 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:56:32.175 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:56:32.176 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:32.176 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.8909ms
2025-03-14 17:56:32.177 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 5.6154ms
2025-03-14 17:56:32.178 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:56:32.179 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:56:32.179 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 26.6564ms
2025-03-14 17:56:32.180 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 18.8917ms
2025-03-14 17:56:32.202 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:56:32.203 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:56:32.204 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 31.5144ms
2025-03-14 17:56:32.205 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:56:32.206 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 43.7017ms
2025-03-14 17:56:32.627 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:32.629 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:32.630 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:32.630 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:32.635 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:56:32.638 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:56:32.639 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.4558ms
2025-03-14 17:56:32.640 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:32.641 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 14.0126ms
2025-03-14 17:56:34.770 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - null null
2025-03-14 17:56:34.773 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:34.774 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - 204 null null 3.2116ms
2025-03-14 17:56:34.776 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - null null
2025-03-14 17:56:34.778 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:34.779 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 17:56:34.781 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:34.821 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-03-14 17:56:34.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-03-14 17:56:34.826 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 42.8802ms
2025-03-14 17:56:34.828 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 17:56:34.829 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - 200 null application/json; charset=utf-8 53.0525ms
2025-03-14 17:56:34.832 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - null null
2025-03-14 17:56:34.834 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:34.834 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - 204 null null 2.4781ms
2025-03-14 17:56:34.837 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - null null
2025-03-14 17:56:34.838 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:34.841 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 17:56:34.845 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-03-14 17:56:34.878 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[DescriptionSource], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[SunshineDuration], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_ImageSource0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[DescriptionSource], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[SunshineDuration], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_ImageSource] AS [Designation_ImageSource0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-03-14 17:56:34.893 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-03-14 17:56:34.895 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:34.896 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 50.0776ms
2025-03-14 17:56:34.897 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 17:56:34.897 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - 200 null application/json; charset=utf-8 60.9283ms
2025-03-14 17:56:34.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:56:34.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:56:34.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:56:34.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:56:34.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:56:34.913 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:56:34.914 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:56:34.916 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:56:34.918 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 9.1146ms
2025-03-14 17:56:34.919 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 9.8553ms
2025-03-14 17:56:34.920 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:56:34.920 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:56:34.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 9.6822ms
2025-03-14 17:56:34.925 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 14.0991ms
2025-03-14 17:56:34.925 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 14.8777ms
2025-03-14 17:56:38.102 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/step - null null
2025-03-14 17:56:38.103 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.104 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/step - 204 null null 2.5677ms
2025-03-14 17:56:38.106 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/step - application/json 29
2025-03-14 17:56:38.110 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.111 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewStep (api)'
2025-03-14 17:56:38.114 +01:00 [INF] Route matched with {action = "AddNewStep", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStep(System.Guid, api.Controllers.Flows.dto.NewStageDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:38.138 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id1], [t].[Id0], [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Events] AS [e] ON [t].[Id] = [e].[FlowId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-03-14 17:56:38.147 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__newStage_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
WHERE [s].[Id] = @__newStage_Id_0
2025-03-14 17:56:38.156 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 17:56:38.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 17:56:38.171 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p5='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [FlowId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Flows] SET [CurrentStageId] = @p2, [NumberOfDaysSinceStart] = @p3, [UpdateDate] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-03-14 17:56:38.185 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flow_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
LEFT JOIN [Flows] AS [f] ON [e].[FlowId] = [f].[Id]
WHERE [f].[Id] = @__flow_Id_0
2025-03-14 17:56:38.188 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:56:38.189 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewStep (api) in 74.1585ms
2025-03-14 17:56:38.190 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewStep (api)'
2025-03-14 17:56:38.191 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/step - 201 null application/json; charset=utf-8 85.0509ms
2025-03-14 17:56:38.194 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:38.197 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.197 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.6803ms
2025-03-14 17:56:38.200 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:38.202 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.202 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:38.203 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:38.208 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:56:38.211 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:56:38.211 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5094ms
2025-03-14 17:56:38.212 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:38.213 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 12.4279ms
2025-03-14 17:56:38.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - null null
2025-03-14 17:56:38.217 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.218 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 17:56:38.219 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:38.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-03-14 17:56:38.226 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-03-14 17:56:38.227 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 6.6382ms
2025-03-14 17:56:38.228 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 17:56:38.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/d23db487-dfee-4578-8aee-8abec7e5bdbc - 200 null application/json; charset=utf-8 13.4484ms
2025-03-14 17:56:38.231 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - null null
2025-03-14 17:56:38.234 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:38.235 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 17:56:38.236 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-03-14 17:56:38.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[DescriptionSource], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[SunshineDuration], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_ImageSource0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[DescriptionSource], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[SunshineDuration], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_ImageSource] AS [Designation_ImageSource0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-03-14 17:56:38.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-03-14 17:56:38.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:56:38.248 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 11.3786ms
2025-03-14 17:56:38.249 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 17:56:38.250 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/d23db487-dfee-4578-8aee-8abec7e5bdbc/stages - 200 null application/json; charset=utf-8 18.7841ms
2025-03-14 17:56:42.343 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - null null
2025-03-14 17:56:42.345 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:42.345 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - 204 null null 1.8589ms
2025-03-14 17:56:42.347 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - null null
2025-03-14 17:56:42.348 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:42.348 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:42.349 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:42.354 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 17:56:42.355 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-14 17:56:42.392 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e].[Date]
    FROM [Events] AS [e]
    WHERE [f].[Id] = [e].[FlowId]
    ORDER BY [e].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e1].[Date]
    FROM [Events] AS [e1]
    WHERE [f].[Id] = [e1].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e2].[Date]
        FROM [Events] AS [e2]
        WHERE [f].[Id] = [e2].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s].[Id], [s].[Image], [s].[Label], 1 AS [c], [e0].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e0].[FlowId] ORDER BY [e0].[Date] DESC) AS [row]
        FROM [Events] AS [e0]
        INNER JOIN [Stages] AS [s] ON [e0].[StageId] = [s].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1
ORDER BY [f].[UpdateDate]
2025-03-14 17:56:42.394 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:56:42.395 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 44.0198ms
2025-03-14 17:56:42.396 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:42.396 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=false - 200 null application/json; charset=utf-8 49.7879ms
2025-03-14 17:56:43.912 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:43.913 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:43.913 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.8008ms
2025-03-14 17:56:43.915 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:56:43.916 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:56:43.917 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:43.918 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:56:43.924 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:56:43.926 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:56:43.927 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.2162ms
2025-03-14 17:56:43.928 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:56:43.929 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 404 null application/json; charset=utf-8 13.691ms
2025-03-14 17:57:47.460 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:57:47.460 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:57:47.460 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:57:47.462 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.463 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.465 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.466 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.7473ms
2025-03-14 17:57:47.466 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:57:47.466 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:57:47.466 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.8965ms
2025-03-14 17:57:47.467 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:57:47.467 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 6.1681ms
2025-03-14 17:57:47.469 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:57:47.471 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:57:47.474 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:57:47.475 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:57:47.477 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:57:47.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:57:47.480 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.481 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 15.2208ms
2025-03-14 17:57:47.484 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 17.5439ms
2025-03-14 17:57:47.485 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 19.385ms
2025-03-14 17:57:47.487 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:47.488 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:57:47.494 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:57:47.498 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:57:47.498 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:57:47.499 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:57:47.499 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:57:47.503 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:57:47.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:57:47.504 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:57:47.504 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:57:47.506 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:57:47.507 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 6.898ms
2025-03-14 17:57:47.509 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:57:47.510 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 8.9807ms
2025-03-14 17:57:47.511 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:57:47.512 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.6724ms
2025-03-14 17:57:47.513 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:57:47.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 44.3475ms
2025-03-14 17:57:47.514 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:57:47.515 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 40.4437ms
2025-03-14 17:57:47.518 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 39.0295ms
2025-03-14 17:57:47.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:57:47.529 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:57:47.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6826ms
2025-03-14 17:57:51.363 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - null null
2025-03-14 17:57:51.363 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-03-14 17:57:51.364 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.365 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.366 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 3.0212ms
2025-03-14 17:57:51.367 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 3.5619ms
2025-03-14 17:57:51.368 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-03-14 17:57:51.370 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - application/json 26
2025-03-14 17:57:51.371 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.373 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.374 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 17:57:51.375 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 17:57:51.377 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:57:51.378 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 17:57:51.381 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-03-14 17:57:51.381 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-03-14 17:57:51.384 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-14 17:57:51.386 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 6.003ms
2025-03-14 17:57:51.386 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 17:57:51.388 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 17.8943ms
2025-03-14 17:57:51.388 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-03-14 17:57:51.392 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:57:51.394 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.395 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.5065ms
2025-03-14 17:57:51.397 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:57:51.398 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:51.399 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:57:51.400 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:57:51.401 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 17:57:51.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:57:51.404 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 17:57:51.407 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:57:51.409 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.9548ms
2025-03-14 17:57:51.410 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:57:51.410 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:57:51.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.7782ms
2025-03-14 17:57:51.416 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-03-14 17:57:51.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:57:51.420 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:57:51.422 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.9733ms
2025-03-14 17:57:51.424 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 17:57:51.425 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 46.0938ms
2025-03-14 17:57:51.425 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 17:57:51.427 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 58.0864ms
2025-03-14 17:57:54.403 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:57:54.405 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:54.405 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1582ms
2025-03-14 17:57:54.408 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:57:54.409 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:54.410 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:57:54.410 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:57:54.415 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:57:54.417 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:57:54.418 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.6146ms
2025-03-14 17:57:54.419 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:57:54.420 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.0988ms
2025-03-14 17:57:54.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:57:54.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:57:54.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:57:54.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:57:54.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:57:54.440 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:57:54.442 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:57:54.444 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:57:54.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:57:54.446 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:57:54.447 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:57:54.448 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 10.0356ms
2025-03-14 17:57:54.450 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 12.0597ms
2025-03-14 17:57:54.451 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 12.5917ms
2025-03-14 17:57:54.452 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:57:54.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 14.5419ms
2025-03-14 17:57:54.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 15.1148ms
2025-03-14 17:57:54.458 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:57:54.461 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 16.328ms
2025-03-14 17:57:54.466 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:57:54.468 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 9.789ms
2025-03-14 17:57:58.852 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:57:58.853 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:58.854 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.288ms
2025-03-14 17:57:58.858 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:57:58.860 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:57:58.861 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:57:58.862 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:57:58.866 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:57:58.870 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:57:58.874 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:57:58.878 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:57:58.881 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:57:58.882 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.6255ms
2025-03-14 17:57:58.882 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:57:58.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.4734ms
2025-03-14 17:57:58.895 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:57:58.897 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:57:58.897 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:57:58.898 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:57:58.900 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:57:58.901 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:57:58.901 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.0508ms
2025-03-14 17:57:58.902 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.5579ms
2025-03-14 17:57:58.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.2808ms
2025-03-14 17:58:00.060 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:58:00.061 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:00.061 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 1.767ms
2025-03-14 17:58:00.063 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 17:58:00.065 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:00.066 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:58:00.066 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:58:00.071 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 17:58:00.075 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 17:58:00.086 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 17:58:00.088 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:00.089 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 21.1866ms
2025-03-14 17:58:00.089 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 17:58:00.090 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 27.0662ms
2025-03-14 17:58:00.104 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:00.106 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:00.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.6444ms
2025-03-14 17:58:00.110 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 17:58:00.110 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:58:00.112 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 17:58:00.114 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:58:00.114 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.2678ms
2025-03-14 17:58:00.115 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.8885ms
2025-03-14 17:58:01.199 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 17:58:01.201 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 17:58:01.202 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 3.3185ms
2025-03-14 17:58:03.096 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/57d0ab06-9e48-4bd8-92ac-c7724e7fd0c1 - null null
2025-03-14 17:58:03.098 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:03.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/57d0ab06-9e48-4bd8-92ac-c7724e7fd0c1 - 204 null null 2.1843ms
2025-03-14 17:58:03.105 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/57d0ab06-9e48-4bd8-92ac-c7724e7fd0c1 - null null
2025-03-14 17:58:03.107 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:03.108 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:58:03.108 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:03.113 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 17:58:03.115 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 17:58:03.116 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 6.225ms
2025-03-14 17:58:03.117 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 17:58:03.118 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/57d0ab06-9e48-4bd8-92ac-c7724e7fd0c1 - 404 null application/json; charset=utf-8 13.3598ms
2025-03-14 17:58:03.122 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 17:58:03.123 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:03.124 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 1.9578ms
2025-03-14 17:58:03.126 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 17:58:03.127 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:03.128 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:58:03.129 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:03.133 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 17:58:03.135 +01:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-03-14 17:58:03.136 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 6.2672ms
2025-03-14 17:58:03.137 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 17:58:03.138 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 409 null application/json; charset=utf-8 12.5107ms
2025-03-14 17:58:05.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:05.190 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:05.190 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.7439ms
2025-03-14 17:58:05.193 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:05.195 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:05.195 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:05.196 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.8171ms
2025-03-14 17:58:05.198 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:05.201 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 5.6832ms
2025-03-14 17:58:05.207 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:05.207 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:05.208 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:05.208 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.210 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.212 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.212 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.2516ms
2025-03-14 17:58:05.213 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.6499ms
2025-03-14 17:58:05.213 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.732ms
2025-03-14 17:58:05.218 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:05.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:05.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:05.223 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.224 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:05.227 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:05.227 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:05.228 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:05.228 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:05.229 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:05.229 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:05.233 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:05.234 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:05.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:05.235 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:05.237 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:05.237 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 7.0809ms
2025-03-14 17:58:05.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:05.241 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.2252ms
2025-03-14 17:58:05.242 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:05.243 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 9.3835ms
2025-03-14 17:58:05.243 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:05.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 25.7182ms
2025-03-14 17:58:05.245 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:05.245 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 25.4054ms
2025-03-14 17:58:05.248 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 25.7476ms
2025-03-14 17:58:05.251 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:05.253 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:05.254 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8812ms
2025-03-14 17:58:07.358 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:07.359 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:07.360 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.1614ms
2025-03-14 17:58:07.362 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:07.363 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:07.364 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:07.365 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:58:07.369 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:58:07.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:07.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:07.378 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:07.380 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:07.381 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.7741ms
2025-03-14 17:58:07.383 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:07.384 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.7942ms
2025-03-14 17:58:07.394 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:58:07.394 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:07.396 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:58:07.397 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:58:07.399 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:07.402 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:58:07.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 8.5326ms
2025-03-14 17:58:07.404 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 9.8388ms
2025-03-14 17:58:07.405 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.676ms
2025-03-14 17:58:08.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:08.764 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:08.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4305ms
2025-03-14 17:58:08.767 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:08.768 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:08.769 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:08.770 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:08.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.4255ms
2025-03-14 17:58:08.771 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 2.6684ms
2025-03-14 17:58:08.774 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:08.775 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:08.775 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:08.776 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.778 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.779 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.780 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.7272ms
2025-03-14 17:58:08.780 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.7028ms
2025-03-14 17:58:08.781 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 6.064ms
2025-03-14 17:58:08.783 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:08.784 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:08.787 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:08.788 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.789 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.791 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:08.792 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:08.793 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:08.793 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:08.794 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:08.795 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:08.795 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:08.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:08.799 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:08.801 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:08.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:08.802 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:08.805 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:08.805 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 9.418ms
2025-03-14 17:58:08.806 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 9.2185ms
2025-03-14 17:58:08.807 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.0228ms
2025-03-14 17:58:08.808 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:08.809 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:08.809 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:08.810 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 26.8479ms
2025-03-14 17:58:08.811 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 26.3084ms
2025-03-14 17:58:08.811 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 24.2104ms
2025-03-14 17:58:08.818 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:08.820 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:08.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.5629ms
2025-03-14 17:58:09.373 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:58:09.375 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:09.375 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.6103ms
2025-03-14 17:58:09.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:58:09.378 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:58:09.380 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:58:09.381 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:09.381 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.2924ms
2025-03-14 17:58:09.382 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:58:09.384 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:58:09.388 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:58:09.390 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:58:09.391 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.0996ms
2025-03-14 17:58:09.391 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:58:09.392 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 14.6782ms
2025-03-14 17:58:09.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:58:09.400 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:58:09.401 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.182ms
2025-03-14 17:58:10.746 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:10.746 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:10.749 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:10.750 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:10.750 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9782ms
2025-03-14 17:58:10.751 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.8601ms
2025-03-14 17:58:10.755 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:58:10.757 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:58:10.757 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:58:10.759 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:58:10.760 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 4.3607ms
2025-03-14 17:58:10.760 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 3.0819ms
2025-03-14 17:58:10.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:58:10.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:58:10.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:58:10.766 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:58:10.767 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:58:10.769 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:58:10.769 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 8.4119ms
2025-03-14 17:58:10.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 7.9377ms
2025-03-14 17:58:10.771 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 6.9729ms
2025-03-14 17:58:10.787 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:10.789 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:10.789 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.3756ms
2025-03-14 17:58:10.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:10.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:10.793 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:10.794 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:58:10.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:58:10.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:58:10.801 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.1088ms
2025-03-14 17:58:10.802 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:10.803 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.6308ms
2025-03-14 17:58:10.839 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:10.839 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:10.842 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:10.844 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:10.844 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.1749ms
2025-03-14 17:58:10.845 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.0504ms
2025-03-14 17:58:14.683 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:14.684 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:14.687 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:14.688 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:14.689 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.4703ms
2025-03-14 17:58:14.690 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.2714ms
2025-03-14 17:58:16.062 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:16.063 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:16.064 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2148ms
2025-03-14 17:58:16.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:16.069 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:16.070 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:16.071 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:58:16.075 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:58:16.078 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:16.082 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:16.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:16.087 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:16.088 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.3027ms
2025-03-14 17:58:16.089 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:16.090 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.8062ms
2025-03-14 17:58:16.103 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:16.106 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:16.106 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:58:16.107 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:58:16.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.2034ms
2025-03-14 17:58:16.109 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:58:16.111 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:58:16.114 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.2376ms
2025-03-14 17:58:16.115 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.0113ms
2025-03-14 17:58:17.269 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:17.269 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:17.271 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:17.272 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:17.272 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6091ms
2025-03-14 17:58:17.273 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8817ms
2025-03-14 17:58:17.301 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:17.302 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:17.303 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1108ms
2025-03-14 17:58:17.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:17.306 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:17.307 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:17.308 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:58:17.312 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:58:17.315 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:58:17.315 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5656ms
2025-03-14 17:58:17.317 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:17.317 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.2699ms
2025-03-14 17:58:17.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:58:17.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:58:17.330 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:58:17.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:58:17.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:58:17.333 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:58:17.336 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:58:17.337 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:58:17.339 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:58:17.342 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:58:17.342 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 11.7639ms
2025-03-14 17:58:17.343 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 12.3628ms
2025-03-14 17:58:17.343 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 13.0439ms
2025-03-14 17:58:17.345 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 13.4698ms
2025-03-14 17:58:17.346 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 14.1535ms
2025-03-14 17:58:18.596 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:18.598 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:18.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.5236ms
2025-03-14 17:58:18.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:18.603 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:18.604 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.5019ms
2025-03-14 17:58:18.608 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:18.608 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:18.608 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:18.610 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.611 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:18.612 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.613 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.614 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.6164ms
2025-03-14 17:58:18.616 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:18.616 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 7.4313ms
2025-03-14 17:58:18.617 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 8.5709ms
2025-03-14 17:58:18.619 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:18.620 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 8.4296ms
2025-03-14 17:58:18.622 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:18.623 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:18.625 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.629 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.630 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:18.631 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:18.631 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:18.631 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:18.632 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:18.633 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:18.633 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:18.637 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:18.638 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:18.639 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:18.639 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:18.640 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:18.642 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:18.642 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.0101ms
2025-03-14 17:58:18.643 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 7.2122ms
2025-03-14 17:58:18.644 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 6.6807ms
2025-03-14 17:58:18.644 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:18.645 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:18.646 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:18.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 28.1791ms
2025-03-14 17:58:18.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 26.3339ms
2025-03-14 17:58:18.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 26.1185ms
2025-03-14 17:58:19.692 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:19.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:19.695 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:19.696 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:19.696 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9451ms
2025-03-14 17:58:19.697 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.7042ms
2025-03-14 17:58:19.701 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:58:19.701 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:58:19.703 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:58:19.703 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:58:19.705 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:58:19.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 4.5002ms
2025-03-14 17:58:19.707 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:58:19.708 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 6.2364ms
2025-03-14 17:58:19.709 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:58:19.710 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 7.2264ms
2025-03-14 17:58:19.711 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:58:19.714 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:58:19.716 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:58:19.717 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 7.3527ms
2025-03-14 17:58:19.718 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 6.0186ms
2025-03-14 17:58:19.733 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:19.735 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:19.735 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.0718ms
2025-03-14 17:58:19.737 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:19.738 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:19.739 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:19.739 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:58:19.743 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:58:19.746 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:58:19.747 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.6306ms
2025-03-14 17:58:19.748 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:19.749 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.5576ms
2025-03-14 17:58:20.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:20.761 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:20.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:20.762 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9725ms
2025-03-14 17:58:20.764 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:20.765 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:20.766 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.7825ms
2025-03-14 17:58:20.768 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:20.770 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 4.8441ms
2025-03-14 17:58:20.772 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:20.772 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:20.773 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:20.774 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.775 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.776 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.777 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.0164ms
2025-03-14 17:58:20.778 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.6033ms
2025-03-14 17:58:20.778 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.6102ms
2025-03-14 17:58:20.780 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:20.782 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:20.783 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:20.784 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.787 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:20.789 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:20.789 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:20.790 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:20.790 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:20.791 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:20.792 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:20.795 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:20.796 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:20.797 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:20.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:20.798 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:20.799 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 5.9985ms
2025-03-14 17:58:20.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:20.802 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 7.7128ms
2025-03-14 17:58:20.803 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:20.805 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.1698ms
2025-03-14 17:58:20.805 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:20.806 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 25.5346ms
2025-03-14 17:58:20.806 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:20.807 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 25.0671ms
2025-03-14 17:58:20.809 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 25.7467ms
2025-03-14 17:58:21.451 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:21.453 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:21.453 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.3751ms
2025-03-14 17:58:21.455 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:21.458 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:21.459 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:21.459 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:58:21.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:58:21.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:21.470 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:21.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:21.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:21.477 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.9279ms
2025-03-14 17:58:21.478 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:21.479 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.727ms
2025-03-14 17:58:21.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:58:21.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:21.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:58:21.493 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:58:21.497 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:21.499 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:58:21.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 8.873ms
2025-03-14 17:58:21.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 10.7163ms
2025-03-14 17:58:21.503 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 11.293ms
2025-03-14 17:58:22.788 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:58:22.790 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:58:22.790 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:22.792 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:58:22.792 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.3509ms
2025-03-14 17:58:22.793 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.8095ms
2025-03-14 17:58:22.795 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:58:22.798 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:22.799 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:58:22.800 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:58:22.803 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:58:22.805 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:58:22.806 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 4.9646ms
2025-03-14 17:58:22.806 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:58:22.807 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.3254ms
2025-03-14 17:58:23.748 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:23.750 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:23.751 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:23.751 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4804ms
2025-03-14 17:58:23.753 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:23.755 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:23.755 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.671ms
2025-03-14 17:58:23.757 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:23.760 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 5.3975ms
2025-03-14 17:58:23.763 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:23.763 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:23.763 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:23.765 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.766 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.768 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.769 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.7425ms
2025-03-14 17:58:23.769 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 6.1139ms
2025-03-14 17:58:23.770 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 6.7702ms
2025-03-14 17:58:23.773 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:23.775 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:23.777 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:23.779 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.782 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.783 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:23.784 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:23.784 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:23.785 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:23.785 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:23.787 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:23.787 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:23.791 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:23.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:23.795 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:23.795 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:23.797 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:23.797 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 9.0193ms
2025-03-14 17:58:23.800 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:23.800 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 10.5991ms
2025-03-14 17:58:23.801 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:23.802 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 11.1655ms
2025-03-14 17:58:23.803 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:23.803 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 30.4336ms
2025-03-14 17:58:23.804 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:23.805 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 29.5168ms
2025-03-14 17:58:23.807 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 30.1615ms
2025-03-14 17:58:24.570 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:24.572 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:24.573 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6897ms
2025-03-14 17:58:24.575 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:58:24.576 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:24.577 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:24.578 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:58:24.581 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:58:24.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:24.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:24.593 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:58:24.595 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:24.596 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.7846ms
2025-03-14 17:58:24.597 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:58:24.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.6064ms
2025-03-14 17:58:24.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:58:24.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:24.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:58:24.609 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:58:24.610 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:24.612 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:58:24.612 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.6131ms
2025-03-14 17:58:24.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.6059ms
2025-03-14 17:58:24.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.305ms
2025-03-14 17:58:25.673 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:25.673 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:25.675 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:25.676 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:25.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4797ms
2025-03-14 17:58:25.677 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8436ms
2025-03-14 17:58:25.681 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:58:25.685 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:58:25.687 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:58:25.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 6.8844ms
2025-03-14 17:58:25.688 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:58:25.691 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:58:25.692 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 7.2436ms
2025-03-14 17:58:25.694 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:58:25.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:58:25.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:58:25.696 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 5.4459ms
2025-03-14 17:58:25.701 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:58:25.703 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:58:25.704 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 9.1546ms
2025-03-14 17:58:25.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 9.441ms
2025-03-14 17:58:25.721 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:25.723 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:25.724 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.4426ms
2025-03-14 17:58:25.726 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:25.727 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:25.728 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:25.729 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:58:25.733 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:58:25.736 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:58:25.737 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.4958ms
2025-03-14 17:58:25.738 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:25.739 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.4421ms
2025-03-14 17:58:26.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:26.905 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:26.906 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.754ms
2025-03-14 17:58:26.907 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:26.910 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:26.912 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:26.914 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:26.916 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 9.0052ms
2025-03-14 17:58:26.917 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 6.5457ms
2025-03-14 17:58:26.921 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:26.922 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:26.923 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:26.923 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.925 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.926 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.927 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.3717ms
2025-03-14 17:58:26.927 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.4321ms
2025-03-14 17:58:26.928 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.4337ms
2025-03-14 17:58:26.932 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:26.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:26.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:26.936 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.938 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.939 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:26.940 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:26.940 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:26.941 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:26.941 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:26.942 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:26.942 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:26.946 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:26.946 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:26.947 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:26.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:26.949 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:26.951 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 7.541ms
2025-03-14 17:58:26.953 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:26.954 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 9.2821ms
2025-03-14 17:58:26.954 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:26.955 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.2645ms
2025-03-14 17:58:26.956 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:26.957 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 24.6154ms
2025-03-14 17:58:26.957 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:26.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 25.3631ms
2025-03-14 17:58:26.961 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 26.5036ms
2025-03-14 17:58:50.785 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:50.788 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:50.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6632ms
2025-03-14 17:58:51.806 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:51.807 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:51.808 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:51.810 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:51.810 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6694ms
2025-03-14 17:58:51.811 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.4279ms
2025-03-14 17:58:51.815 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 17:58:51.815 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 17:58:51.817 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 17:58:51.818 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 17:58:51.819 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 17:58:51.820 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 17:58:51.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 6.3031ms
2025-03-14 17:58:51.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 6.8394ms
2025-03-14 17:58:51.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 5.2895ms
2025-03-14 17:58:51.825 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 17:58:51.828 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 17:58:51.830 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 17:58:51.832 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 17:58:51.832 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 7.4632ms
2025-03-14 17:58:51.833 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 4.7029ms
2025-03-14 17:58:51.846 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:51.848 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:51.849 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.5068ms
2025-03-14 17:58:51.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:58:51.853 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:51.854 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:51.855 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:58:51.861 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:58:51.863 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:58:51.864 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.5976ms
2025-03-14 17:58:51.865 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:58:51.866 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.6097ms
2025-03-14 17:58:51.898 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:51.898 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:51.900 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:51.901 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:51.902 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.3753ms
2025-03-14 17:58:51.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.8993ms
2025-03-14 17:58:52.835 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:52.837 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:52.838 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:58:52.838 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.2123ms
2025-03-14 17:58:52.840 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:58:52.841 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 17:58:52.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.0766ms
2025-03-14 17:58:52.843 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 17:58:52.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 4.4772ms
2025-03-14 17:58:52.848 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:52.848 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:52.848 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:52.849 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.850 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.852 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.852 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.6423ms
2025-03-14 17:58:52.853 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 5.2906ms
2025-03-14 17:58:52.854 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.6438ms
2025-03-14 17:58:52.856 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 17:58:52.858 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 17:58:52.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:58:52.864 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.866 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.868 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:58:52.870 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:52.871 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:52.871 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:52.872 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 17:58:52.872 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:52.873 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:58:52.878 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 17:58:52.879 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 17:58:52.880 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:58:52.881 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 17:58:52.881 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:58:52.882 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 8.1607ms
2025-03-14 17:58:52.883 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 7.7115ms
2025-03-14 17:58:52.885 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:58:52.885 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 17:58:52.886 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 17:58:52.887 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.7555ms
2025-03-14 17:58:52.888 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 32.0082ms
2025-03-14 17:58:52.890 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 32.4274ms
2025-03-14 17:58:52.891 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:58:52.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 31.9725ms
2025-03-14 17:58:52.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:58:52.902 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:58:52.904 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.1076ms
2025-03-14 17:59:35.579 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:59:35.579 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:59:35.580 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:59:35.581 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 17:59:35.583 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:59:35.584 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 17:59:35.585 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:35.586 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:35.587 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:59:35.587 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:59:35.588 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 17:59:35.589 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 17:59:35.590 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 17:59:35.591 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:59:35.592 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4801ms
2025-03-14 17:59:35.595 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:35.596 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.3902ms
2025-03-14 17:59:35.596 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:35.602 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:35.605 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:35.607 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:59:35.608 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.1451ms
2025-03-14 17:59:35.609 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:35.610 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.4456ms
2025-03-14 17:59:36.111 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:59:36.122 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.124 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 13.0202ms
2025-03-14 17:59:36.144 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:59:36.147 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.150 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:59:36.151 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:59:36.157 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:59:36.159 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:59:36.161 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.8922ms
2025-03-14 17:59:36.163 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:59:36.173 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 29.1216ms
2025-03-14 17:59:36.195 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:59:36.198 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.199 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.7726ms
2025-03-14 17:59:36.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 17:59:36.224 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.225 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:59:36.228 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 17:59:36.234 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:59:36.237 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 17:59:36.239 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.8111ms
2025-03-14 17:59:36.240 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 17:59:36.241 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.2596ms
2025-03-14 17:59:36.660 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:59:36.661 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:59:36.663 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.663 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:59:36.664 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.665 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.5989ms
2025-03-14 17:59:36.668 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.669 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.2876ms
2025-03-14 17:59:36.672 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:59:36.673 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 10.0445ms
2025-03-14 17:59:36.675 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:59:36.677 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.680 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 17:59:36.682 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.683 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:36.687 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:36.688 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:59:36.689 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:59:36.690 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:36.691 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:59:36.694 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 17:59:36.697 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:59:36.702 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:59:36.704 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:59:36.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 17:59:36.705 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:59:36.707 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 14.2183ms
2025-03-14 17:59:36.710 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 17:59:36.711 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 14.444ms
2025-03-14 17:59:36.712 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:36.715 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.8682ms
2025-03-14 17:59:36.717 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:59:36.718 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 45.5848ms
2025-03-14 17:59:36.719 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 17:59:36.720 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 45.044ms
2025-03-14 17:59:36.724 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 44.7409ms
2025-03-14 17:59:36.770 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 17:59:36.774 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 17:59:36.776 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.7127ms
2025-03-14 17:59:36.781 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:59:36.788 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:59:36.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 8.0692ms
2025-03-14 17:59:37.980 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:37.983 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:37.984 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.1878ms
2025-03-14 17:59:37.987 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:37.988 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:37.989 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:37.990 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:59:37.996 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:59:37.999 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:59:38.000 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.3043ms
2025-03-14 17:59:38.002 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:38.003 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.9473ms
2025-03-14 17:59:38.019 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:38.022 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:38.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.4212ms
2025-03-14 17:59:38.925 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:38.926 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:38.927 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.2763ms
2025-03-14 17:59:38.929 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:38.930 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:38.931 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:38.932 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:59:38.936 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:59:38.939 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:59:38.940 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.1989ms
2025-03-14 17:59:38.941 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:38.942 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.796ms
2025-03-14 17:59:38.981 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:38.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:59:38.984 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:38.987 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:59:38.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.2561ms
2025-03-14 17:59:38.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.3632ms
2025-03-14 17:59:39.572 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:39.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:39.574 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:39.576 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:39.576 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.3711ms
2025-03-14 17:59:39.577 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.6717ms
2025-03-14 17:59:39.581 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:39.582 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:39.583 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:39.583 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:59:39.587 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:59:39.589 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:59:39.590 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.8354ms
2025-03-14 17:59:39.591 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:39.592 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 11.1001ms
2025-03-14 17:59:39.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:39.600 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:39.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0733ms
2025-03-14 17:59:40.299 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:59:40.302 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:40.302 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6219ms
2025-03-14 17:59:40.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:59:40.306 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:40.308 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:40.308 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:59:40.311 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:59:40.315 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:40.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:40.322 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:40.324 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:59:40.325 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.601ms
2025-03-14 17:59:40.326 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:40.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.0885ms
2025-03-14 17:59:40.339 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:40.341 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:40.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:59:40.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:59:40.342 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.7276ms
2025-03-14 17:59:40.345 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:59:40.347 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:59:40.349 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 8.0367ms
2025-03-14 17:59:40.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.5208ms
2025-03-14 17:59:41.806 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:59:41.808 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:59:41.809 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.8463ms
2025-03-14 17:59:41.811 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:59:41.813 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:41.814 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.7287ms
2025-03-14 17:59:41.816 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 17:59:41.818 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:41.819 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:59:41.819 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 17:59:41.824 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 17:59:41.826 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 17:59:41.827 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.5432ms
2025-03-14 17:59:41.827 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 17:59:41.828 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.0691ms
2025-03-14 17:59:41.833 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 17:59:41.835 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 17:59:41.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.0809ms
2025-03-14 17:59:42.811 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:59:42.813 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:42.814 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.9004ms
2025-03-14 17:59:42.816 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 17:59:42.817 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:42.817 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:42.818 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 17:59:42.822 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 17:59:42.826 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:42.830 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:42.835 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 17:59:42.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 17:59:42.837 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.4219ms
2025-03-14 17:59:42.838 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 17:59:42.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.7063ms
2025-03-14 17:59:42.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 17:59:42.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:42.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 17:59:42.852 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 17:59:42.853 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:42.855 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 17:59:42.856 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.6637ms
2025-03-14 17:59:42.859 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.5669ms
2025-03-14 17:59:42.859 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.9239ms
2025-03-14 17:59:43.726 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:43.727 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:43.728 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:43.730 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:43.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.179ms
2025-03-14 17:59:43.732 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.0402ms
2025-03-14 17:59:43.737 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:43.739 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:43.740 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:43.741 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:59:43.745 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:59:43.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:59:43.751 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.892ms
2025-03-14 17:59:43.752 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:43.753 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.8479ms
2025-03-14 17:59:43.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:43.760 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:43.762 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9645ms
2025-03-14 17:59:44.483 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:44.483 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:59:44.486 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:44.489 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:59:44.489 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.5802ms
2025-03-14 17:59:44.490 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 7.1288ms
2025-03-14 17:59:44.512 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:44.515 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:44.516 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 4.0828ms
2025-03-14 17:59:44.520 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:44.522 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:44.523 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:44.524 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:59:44.529 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:59:44.533 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:59:44.534 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.3879ms
2025-03-14 17:59:44.536 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:44.537 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 17.5557ms
2025-03-14 17:59:44.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:44.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:59:44.555 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:44.557 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:59:44.558 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.6951ms
2025-03-14 17:59:44.559 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.9572ms
2025-03-14 17:59:45.515 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:45.515 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:45.517 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:45.519 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:45.519 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.49ms
2025-03-14 17:59:45.520 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.4259ms
2025-03-14 17:59:45.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:45.527 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:45.529 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:45.531 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:59:45.535 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:59:45.538 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:59:45.540 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0014ms
2025-03-14 17:59:45.541 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:45.542 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 19.4417ms
2025-03-14 17:59:45.550 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:45.552 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:45.555 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.6214ms
2025-03-14 17:59:46.325 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:46.325 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:59:46.328 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:46.330 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:59:46.331 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.9357ms
2025-03-14 17:59:46.332 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.8817ms
2025-03-14 17:59:46.357 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:46.359 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:46.360 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.2606ms
2025-03-14 17:59:46.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 17:59:46.366 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:46.367 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:46.368 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 17:59:46.373 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 17:59:46.377 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 17:59:46.378 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 8.6527ms
2025-03-14 17:59:46.379 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 17:59:46.380 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 17.5272ms
2025-03-14 17:59:46.406 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:46.406 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 17:59:46.409 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:46.411 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 17:59:46.412 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.0676ms
2025-03-14 17:59:46.413 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 7.1572ms
2025-03-14 17:59:47.143 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:47.143 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:47.147 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:47.148 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:47.149 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.7423ms
2025-03-14 17:59:47.150 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 6.5248ms
2025-03-14 17:59:47.155 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 17:59:47.158 +01:00 [INF] CORS policy execution successful.
2025-03-14 17:59:47.159 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:47.160 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 17:59:47.164 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 17:59:47.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 17:59:47.169 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.2548ms
2025-03-14 17:59:47.170 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 17:59:47.171 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.4998ms
2025-03-14 17:59:47.177 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 17:59:47.180 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 17:59:47.181 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9258ms
2025-03-14 18:00:27.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:27.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:00:27.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:27.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:27.318 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:27.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:27.320 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:27.321 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:27.322 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:27.322 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:00:27.323 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:00:27.325 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:00:27.326 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:00:27.327 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.5143ms
2025-03-14 18:00:27.327 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:27.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.5445ms
2025-03-14 18:00:27.334 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:00:27.339 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:27.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:27.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:27.348 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:00:27.349 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.9108ms
2025-03-14 18:00:27.350 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:27.351 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.1025ms
2025-03-14 18:00:28.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:28.097 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:28.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1861ms
2025-03-14 18:00:28.103 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:28.106 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:28.106 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:28.107 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:28.111 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:28.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:28.113 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1082ms
2025-03-14 18:00:28.114 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:28.115 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.3106ms
2025-03-14 18:00:28.305 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:28.307 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:28.307 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2382ms
2025-03-14 18:00:28.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:28.312 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:28.313 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:28.314 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:28.317 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:28.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:28.320 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.3022ms
2025-03-14 18:00:28.321 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:28.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.2593ms
2025-03-14 18:00:29.265 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:29.265 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:29.266 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:29.266 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.267 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.269 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.269 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7352ms
2025-03-14 18:00:29.271 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.5236ms
2025-03-14 18:00:29.272 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.5304ms
2025-03-14 18:00:29.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:29.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:29.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:29.278 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.280 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.281 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:29.281 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:29.281 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:29.282 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:29.283 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:29.283 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:00:29.284 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:29.287 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:29.287 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:00:29.288 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:29.289 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:29.290 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:00:29.292 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:29.292 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.4915ms
2025-03-14 18:00:29.293 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.2675ms
2025-03-14 18:00:29.293 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.5011ms
2025-03-14 18:00:29.294 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:29.295 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:29.295 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:29.296 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.7927ms
2025-03-14 18:00:29.297 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 21.5787ms
2025-03-14 18:00:29.297 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 20.8045ms
2025-03-14 18:00:29.376 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:00:29.378 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:00:29.380 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.3575ms
2025-03-14 18:00:29.392 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:00:29.394 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:00:29.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9501ms
2025-03-14 18:00:50.288 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:50.289 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:00:50.290 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:50.292 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:50.293 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:50.295 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:50.296 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:50.297 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:50.297 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:50.298 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:00:50.299 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:00:50.300 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:00:50.301 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:00:50.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:00:50.302 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1688ms
2025-03-14 18:00:50.304 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:50.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:50.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.5836ms
2025-03-14 18:00:50.310 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:50.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:50.315 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:00:50.316 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.1437ms
2025-03-14 18:00:50.317 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:50.318 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.8953ms
2025-03-14 18:00:51.009 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:51.011 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:51.011 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2851ms
2025-03-14 18:00:51.013 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:51.016 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:51.017 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:51.018 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:51.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:51.029 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:51.030 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3216ms
2025-03-14 18:00:51.031 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:51.032 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.8683ms
2025-03-14 18:00:51.239 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:51.241 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:51.241 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9835ms
2025-03-14 18:00:51.263 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:51.265 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:51.266 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:51.267 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:51.270 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:51.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:51.274 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8554ms
2025-03-14 18:00:51.275 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:51.276 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.6922ms
2025-03-14 18:00:52.248 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:52.249 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:52.249 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:52.249 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.251 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.252 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7883ms
2025-03-14 18:00:52.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.739ms
2025-03-14 18:00:52.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.0339ms
2025-03-14 18:00:52.262 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:52.262 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:52.262 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:52.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.266 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.267 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:52.268 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:52.268 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:52.268 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:52.269 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:52.269 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:52.270 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:00:52.274 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:52.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:52.278 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:52.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:00:52.279 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:52.280 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.5779ms
2025-03-14 18:00:52.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:00:52.282 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.541ms
2025-03-14 18:00:52.283 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:52.284 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.6271ms
2025-03-14 18:00:52.284 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:52.285 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.3229ms
2025-03-14 18:00:52.287 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:52.288 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.9893ms
2025-03-14 18:00:52.292 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 29.3245ms
2025-03-14 18:00:52.395 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:00:52.399 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:00:52.400 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.1774ms
2025-03-14 18:00:52.460 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:00:52.462 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:00:52.463 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9745ms
2025-03-14 18:00:54.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:54.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:00:54.189 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:54.190 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:00:54.192 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:54.193 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:00:54.194 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:54.195 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:54.195 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:54.196 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:00:54.197 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:00:54.199 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:00:54.200 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:00:54.200 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.7353ms
2025-03-14 18:00:54.200 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:00:54.201 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:54.203 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.887ms
2025-03-14 18:00:54.205 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:54.209 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:54.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:00:54.214 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:00:54.215 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.9546ms
2025-03-14 18:00:54.216 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:00:54.217 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.5675ms
2025-03-14 18:00:54.911 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:54.913 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:54.913 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3226ms
2025-03-14 18:00:54.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:54.917 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:54.918 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:54.919 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:54.922 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:54.924 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:54.926 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.115ms
2025-03-14 18:00:54.927 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:54.927 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.4817ms
2025-03-14 18:00:55.084 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:55.085 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:55.085 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.8989ms
2025-03-14 18:00:55.088 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:00:55.089 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:55.090 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:55.091 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:00:55.095 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:55.097 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:00:55.098 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6115ms
2025-03-14 18:00:55.099 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:00:55.100 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.7758ms
2025-03-14 18:00:56.242 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:56.242 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:56.243 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:56.243 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.245 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.247 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.247 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.7478ms
2025-03-14 18:00:56.248 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.2633ms
2025-03-14 18:00:56.249 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.6092ms
2025-03-14 18:00:56.254 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:56.254 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:00:56.256 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:00:56.258 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.259 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.261 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:00:56.262 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:56.262 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:56.263 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:56.264 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:56.266 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:00:56.267 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:00:56.281 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:56.281 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:00:56.282 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:00:56.286 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:56.298 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:00:56.300 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:00:56.301 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 32.4955ms
2025-03-14 18:00:56.303 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 26.7907ms
2025-03-14 18:00:56.306 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 34.9798ms
2025-03-14 18:00:56.307 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:56.308 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:00:56.310 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:00:56.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 57.2227ms
2025-03-14 18:00:56.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 55.1726ms
2025-03-14 18:00:56.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 58.2026ms
2025-03-14 18:00:56.411 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:00:56.413 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:00:56.414 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.8996ms
2025-03-14 18:00:56.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:00:56.441 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:00:56.442 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.1019ms
2025-03-14 18:01:16.294 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:16.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:16.296 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:01:16.297 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:01:16.298 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:01:16.300 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:01:16.300 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:16.301 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:16.301 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:16.302 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:16.303 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:01:16.305 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:01:16.307 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:01:16.307 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:16.308 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.9317ms
2025-03-14 18:01:16.310 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:16.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.0228ms
2025-03-14 18:01:16.311 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:16.315 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:16.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:16.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:16.321 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.5557ms
2025-03-14 18:01:16.322 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:16.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 28.435ms
2025-03-14 18:01:17.021 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:17.023 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:17.024 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3503ms
2025-03-14 18:01:17.026 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:17.028 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:17.029 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:17.030 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:01:17.033 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:17.034 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:01:17.036 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.0754ms
2025-03-14 18:01:17.038 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:17.039 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.532ms
2025-03-14 18:01:17.226 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:17.228 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:17.228 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1827ms
2025-03-14 18:01:17.230 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:17.231 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:17.232 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:17.233 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:01:17.236 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:17.238 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:01:17.240 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6516ms
2025-03-14 18:01:17.240 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:17.241 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.8926ms
2025-03-14 18:01:18.245 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:18.245 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:18.246 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:18.247 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.249 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.252 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.0769ms
2025-03-14 18:01:18.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.1323ms
2025-03-14 18:01:18.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 8.5712ms
2025-03-14 18:01:18.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:18.260 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:18.262 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:18.263 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.266 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:18.267 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:18.268 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:18.268 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:18.269 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:01:18.270 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:18.270 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:18.274 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:01:18.274 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:18.277 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:01:18.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:18.280 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:01:18.280 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.2185ms
2025-03-14 18:01:18.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:01:18.282 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.6957ms
2025-03-14 18:01:18.283 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:18.284 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.1188ms
2025-03-14 18:01:18.285 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:18.285 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 28.2663ms
2025-03-14 18:01:18.286 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:18.287 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.8428ms
2025-03-14 18:01:18.289 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.0468ms
2025-03-14 18:01:18.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:01:18.385 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:01:18.386 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 6.3729ms
2025-03-14 18:01:18.402 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:01:18.407 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:01:18.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 6.3926ms
2025-03-14 18:01:24.309 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:24.310 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:24.311 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2912ms
2025-03-14 18:01:24.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:24.315 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:24.317 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:24.318 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:24.322 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:24.327 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:24.328 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.4763ms
2025-03-14 18:01:24.330 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:24.332 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 18.758ms
2025-03-14 18:01:24.352 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:24.354 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:24.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8582ms
2025-03-14 18:01:25.175 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:25.176 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:25.177 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.4262ms
2025-03-14 18:01:25.179 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:25.181 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:25.182 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:25.183 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:01:25.187 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:01:25.189 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:01:25.190 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.496ms
2025-03-14 18:01:25.191 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:25.192 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.336ms
2025-03-14 18:01:25.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:25.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:25.230 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:25.231 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:25.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6383ms
2025-03-14 18:01:25.232 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.5566ms
2025-03-14 18:01:25.783 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:25.784 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:25.785 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:25.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:25.787 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.5868ms
2025-03-14 18:01:25.788 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.1445ms
2025-03-14 18:01:25.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:25.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:25.794 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:25.794 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:25.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:25.801 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:25.802 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.0452ms
2025-03-14 18:01:25.803 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:25.803 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 11.9106ms
2025-03-14 18:01:25.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:25.813 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:25.814 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4264ms
2025-03-14 18:01:26.475 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:26.477 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:26.477 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.2979ms
2025-03-14 18:01:26.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:26.482 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:26.483 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:26.484 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:26.488 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:26.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:26.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:26.497 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:26.498 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:26.500 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 14.3286ms
2025-03-14 18:01:26.501 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:26.501 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.0717ms
2025-03-14 18:01:26.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:26.523 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:26.524 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0577ms
2025-03-14 18:01:26.524 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:01:26.525 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:01:26.529 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:01:26.531 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:01:26.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.6621ms
2025-03-14 18:01:26.532 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.045ms
2025-03-14 18:01:27.498 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:27.499 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:27.501 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:27.502 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:27.503 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.5786ms
2025-03-14 18:01:27.504 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.1826ms
2025-03-14 18:01:27.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:27.509 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:27.510 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:27.511 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:27.516 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:27.519 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:27.520 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.6997ms
2025-03-14 18:01:27.520 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:27.521 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.9911ms
2025-03-14 18:01:27.533 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:27.535 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:27.535 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8935ms
2025-03-14 18:01:28.779 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:28.779 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:28.781 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:28.783 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:28.783 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.096ms
2025-03-14 18:01:28.784 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.3101ms
2025-03-14 18:01:28.810 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:28.811 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:28.812 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.9179ms
2025-03-14 18:01:28.814 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:28.815 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:28.816 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:28.817 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:01:28.822 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:01:28.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:01:28.825 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5201ms
2025-03-14 18:01:28.826 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:28.826 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.3966ms
2025-03-14 18:01:28.853 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:28.853 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:28.855 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:28.856 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:28.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9247ms
2025-03-14 18:01:28.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.5463ms
2025-03-14 18:01:29.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:29.761 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:29.763 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:29.765 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:29.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.8225ms
2025-03-14 18:01:29.766 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.1716ms
2025-03-14 18:01:29.770 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:29.771 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:29.772 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:29.772 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:29.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:29.779 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:29.779 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.4604ms
2025-03-14 18:01:29.780 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:29.781 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 11.7502ms
2025-03-14 18:01:29.787 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:29.790 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:29.791 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.8137ms
2025-03-14 18:01:32.426 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:32.426 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:32.428 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:01:32.430 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:01:32.433 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:01:32.438 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:01:32.439 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:32.440 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:32.441 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:32.443 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:32.445 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:01:32.446 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:01:32.447 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:01:32.449 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.8285ms
2025-03-14 18:01:32.449 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:32.450 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:32.453 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 27.6842ms
2025-03-14 18:01:32.455 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:32.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:32.463 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:32.465 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:32.467 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.4121ms
2025-03-14 18:01:32.468 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:32.469 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 42.9418ms
2025-03-14 18:01:32.887 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:32.889 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:32.890 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1594ms
2025-03-14 18:01:32.920 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:32.921 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:32.922 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:32.924 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:01:32.932 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:32.934 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:01:32.935 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.6525ms
2025-03-14 18:01:32.936 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:32.937 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.696ms
2025-03-14 18:01:33.038 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:33.041 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.041 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2026ms
2025-03-14 18:01:33.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:01:33.052 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.053 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:33.054 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:01:33.058 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:33.060 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:01:33.061 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.4672ms
2025-03-14 18:01:33.062 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:01:33.063 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.3425ms
2025-03-14 18:01:33.480 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:33.480 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:33.483 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:33.484 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.487 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.490 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.491 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 11.4471ms
2025-03-14 18:01:33.494 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 14.1971ms
2025-03-14 18:01:33.496 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 12.6832ms
2025-03-14 18:01:33.501 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:33.501 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:33.502 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:01:33.504 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.505 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.506 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:33.507 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:33.508 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:33.508 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:33.509 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:01:33.509 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:33.511 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:01:33.515 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:01:33.516 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:33.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:01:33.517 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:01:33.519 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:01:33.521 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:01:33.522 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 10.2958ms
2025-03-14 18:01:33.523 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.7471ms
2025-03-14 18:01:33.524 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.2295ms
2025-03-14 18:01:33.524 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:33.526 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:33.528 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:01:33.528 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 27.0761ms
2025-03-14 18:01:33.529 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.3416ms
2025-03-14 18:01:33.530 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 27.6755ms
2025-03-14 18:01:33.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:01:33.553 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:01:33.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 7.2063ms
2025-03-14 18:01:33.570 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:01:33.573 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:01:33.574 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.9461ms
2025-03-14 18:01:34.624 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:34.627 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:34.629 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.6507ms
2025-03-14 18:01:34.641 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:34.642 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:34.644 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:34.644 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:34.650 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:34.654 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:34.655 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.2666ms
2025-03-14 18:01:34.657 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:34.659 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 18.2145ms
2025-03-14 18:01:34.673 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:34.675 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:34.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0435ms
2025-03-14 18:01:35.506 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:35.508 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:35.509 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 3.417ms
2025-03-14 18:01:35.515 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:35.521 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:35.522 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:35.523 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:01:35.529 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:01:35.533 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:01:35.535 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.1334ms
2025-03-14 18:01:35.536 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:35.537 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 21.4439ms
2025-03-14 18:01:35.577 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:35.579 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:35.579 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:35.582 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:35.583 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.1574ms
2025-03-14 18:01:35.584 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.881ms
2025-03-14 18:01:36.238 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:36.238 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:36.240 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:36.242 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:36.242 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.7211ms
2025-03-14 18:01:36.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.7176ms
2025-03-14 18:01:36.246 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:36.250 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:36.251 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:36.252 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:36.257 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:36.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:36.260 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.0979ms
2025-03-14 18:01:36.260 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:36.261 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.3113ms
2025-03-14 18:01:36.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:36.271 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:36.273 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.0317ms
2025-03-14 18:01:37.004 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:37.004 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:37.007 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:37.008 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:37.008 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.0876ms
2025-03-14 18:01:37.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.7224ms
2025-03-14 18:01:37.032 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:37.034 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:37.034 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.3191ms
2025-03-14 18:01:37.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:37.038 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:37.038 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:37.039 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:01:37.047 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:01:37.050 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:01:37.052 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 11.1486ms
2025-03-14 18:01:37.053 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:37.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 17.5077ms
2025-03-14 18:01:37.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:37.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:37.075 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:37.076 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:37.077 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6798ms
2025-03-14 18:01:37.077 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.3341ms
2025-03-14 18:01:38.118 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:38.119 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:38.120 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:38.122 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.7435ms
2025-03-14 18:01:38.122 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:38.125 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.5003ms
2025-03-14 18:01:38.126 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:38.129 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:38.130 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:38.130 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:38.134 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:38.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:38.138 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.8284ms
2025-03-14 18:01:38.138 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:38.139 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.0487ms
2025-03-14 18:01:38.148 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:38.150 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:38.151 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9045ms
2025-03-14 18:01:38.968 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:38.970 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:38.971 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6895ms
2025-03-14 18:01:38.973 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:38.975 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:38.977 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:38.978 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:38.981 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:38.984 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:38.988 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:38.991 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:38.993 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:38.994 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.5469ms
2025-03-14 18:01:38.995 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:38.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.2796ms
2025-03-14 18:01:39.007 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:39.009 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:39.010 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.0379ms
2025-03-14 18:01:39.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:01:39.011 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:01:39.013 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:01:39.015 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:01:39.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.7588ms
2025-03-14 18:01:39.016 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.3266ms
2025-03-14 18:01:40.124 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:40.125 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:40.126 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:40.128 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:40.128 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.795ms
2025-03-14 18:01:40.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.2457ms
2025-03-14 18:01:40.131 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:40.134 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:40.135 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:40.136 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:40.141 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:40.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:40.144 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.5446ms
2025-03-14 18:01:40.145 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:40.145 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.3064ms
2025-03-14 18:01:40.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:40.154 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:40.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.1702ms
2025-03-14 18:01:40.825 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:40.827 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:40.827 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4873ms
2025-03-14 18:01:40.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:40.830 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:40.831 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:40.832 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:40.835 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:40.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:40.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:40.847 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:40.848 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:40.850 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.4071ms
2025-03-14 18:01:40.851 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:40.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.6751ms
2025-03-14 18:01:40.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:01:40.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:40.865 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:01:40.866 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:01:40.868 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:40.869 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:01:40.870 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.81ms
2025-03-14 18:01:40.870 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.7097ms
2025-03-14 18:01:40.872 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.3602ms
2025-03-14 18:01:41.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:01:41.902 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:01:41.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.8369ms
2025-03-14 18:01:41.906 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:41.908 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:41.909 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.556ms
2025-03-14 18:01:41.912 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:01:41.913 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:41.914 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:41.915 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:01:41.919 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:01:41.921 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:01:41.922 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.3831ms
2025-03-14 18:01:41.923 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:01:41.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.4034ms
2025-03-14 18:01:41.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:01:41.934 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:01:41.936 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.1927ms
2025-03-14 18:01:42.826 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:42.827 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:42.828 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5195ms
2025-03-14 18:01:42.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:01:42.831 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:42.832 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:42.833 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:01:42.837 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:01:42.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:42.844 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:42.848 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:01:42.851 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:01:42.852 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.1384ms
2025-03-14 18:01:42.853 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:01:42.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.4196ms
2025-03-14 18:01:42.862 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:01:42.862 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:42.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:01:42.865 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:01:42.866 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:42.867 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:01:42.868 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.7387ms
2025-03-14 18:01:42.869 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.6811ms
2025-03-14 18:01:42.870 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.3303ms
2025-03-14 18:01:43.788 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:43.788 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:43.790 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:43.791 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:43.792 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.848ms
2025-03-14 18:01:43.792 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.7649ms
2025-03-14 18:01:43.796 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:01:43.797 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:43.798 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:43.799 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:01:43.802 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:01:43.806 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:01:43.807 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.7323ms
2025-03-14 18:01:43.808 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:01:43.809 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.0044ms
2025-03-14 18:01:43.818 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:43.820 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:43.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.3678ms
2025-03-14 18:01:44.468 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:44.470 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:44.470 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:44.471 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:44.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.5039ms
2025-03-14 18:01:44.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.8453ms
2025-03-14 18:01:44.488 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:44.490 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:44.491 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.7286ms
2025-03-14 18:01:44.493 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:01:44.495 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:01:44.497 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:44.497 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:01:44.501 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:01:44.504 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:01:44.505 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.5334ms
2025-03-14 18:01:44.507 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:01:44.507 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 14.6485ms
2025-03-14 18:01:44.522 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:01:44.522 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:01:44.528 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:01:44.531 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:01:44.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.5691ms
2025-03-14 18:01:44.532 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 10.0934ms
2025-03-14 18:02:15.425 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:15.425 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:15.427 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:15.430 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.9819ms
2025-03-14 18:02:15.430 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:15.433 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:15.433 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.6732ms
2025-03-14 18:02:15.434 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:15.436 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:15.436 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:15.440 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:15.443 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:15.444 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.6289ms
2025-03-14 18:02:15.445 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:15.445 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.6991ms
2025-03-14 18:02:15.454 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:15.456 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:15.457 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.5683ms
2025-03-14 18:02:16.085 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:16.086 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:16.087 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:16.089 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:16.089 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.7974ms
2025-03-14 18:02:16.090 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.9225ms
2025-03-14 18:02:16.117 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:16.118 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:16.119 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.751ms
2025-03-14 18:02:16.121 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:16.122 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:16.122 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:16.123 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:02:16.127 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:02:16.130 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:02:16.131 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.6057ms
2025-03-14 18:02:16.132 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:16.132 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.7127ms
2025-03-14 18:02:16.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:16.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:16.159 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:16.164 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:16.164 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.8936ms
2025-03-14 18:02:16.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 7.843ms
2025-03-14 18:02:17.075 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:17.075 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:17.079 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:17.080 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:17.082 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.2557ms
2025-03-14 18:02:17.083 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 7.6988ms
2025-03-14 18:02:17.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:17.088 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:17.089 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:17.090 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:17.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:17.098 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:17.099 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.2727ms
2025-03-14 18:02:17.100 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:17.101 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.742ms
2025-03-14 18:02:17.105 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:17.107 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:17.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.3461ms
2025-03-14 18:02:17.791 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:02:17.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:17.794 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.7612ms
2025-03-14 18:02:17.796 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:02:17.797 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:17.798 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:17.799 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:02:17.802 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:02:17.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:17.810 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:17.814 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:17.816 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:02:17.817 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.061ms
2025-03-14 18:02:17.818 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:17.819 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 22.4254ms
2025-03-14 18:02:17.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:02:17.829 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:17.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:02:17.832 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:02:17.834 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:17.836 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:02:17.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 7.8597ms
2025-03-14 18:02:17.837 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.9871ms
2025-03-14 18:02:17.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.8569ms
2025-03-14 18:02:18.744 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:18.744 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:18.746 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:18.747 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:18.748 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.6052ms
2025-03-14 18:02:18.749 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.8968ms
2025-03-14 18:02:18.753 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:18.754 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:18.755 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:18.756 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:18.759 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:18.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:18.763 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.3967ms
2025-03-14 18:02:18.764 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:18.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.0465ms
2025-03-14 18:02:18.772 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:18.773 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:18.774 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8475ms
2025-03-14 18:02:39.914 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:39.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:39.917 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:39.918 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:39.919 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.9908ms
2025-03-14 18:02:39.920 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.3755ms
2025-03-14 18:02:39.946 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:39.948 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:39.948 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1169ms
2025-03-14 18:02:39.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:39.951 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:39.952 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:39.952 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:02:39.956 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:02:39.959 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:02:39.961 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.4971ms
2025-03-14 18:02:39.962 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:39.963 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.883ms
2025-03-14 18:02:39.985 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:39.985 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:39.992 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:39.994 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:39.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 9.6149ms
2025-03-14 18:02:39.995 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 10.0343ms
2025-03-14 18:02:41.145 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:41.145 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:41.147 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:41.148 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:41.148 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.3606ms
2025-03-14 18:02:41.149 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.0294ms
2025-03-14 18:02:41.152 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:41.155 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:41.156 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:41.158 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:41.162 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:41.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:41.165 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 5.7263ms
2025-03-14 18:02:41.167 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:41.167 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.7359ms
2025-03-14 18:02:41.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:41.177 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:41.177 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.8699ms
2025-03-14 18:02:42.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:02:42.073 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:02:42.075 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:02:42.076 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:02:42.078 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:02:42.079 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:02:42.080 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:42.080 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:42.081 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:02:42.081 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:02:42.082 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:02:42.083 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:02:42.084 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:02:42.085 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2072ms
2025-03-14 18:02:42.085 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:02:42.086 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:42.088 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.647ms
2025-03-14 18:02:42.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:42.093 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:42.098 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:42.100 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:02:42.100 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.7446ms
2025-03-14 18:02:42.102 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:42.102 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.2517ms
2025-03-14 18:02:42.625 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:02:42.627 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:42.629 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9666ms
2025-03-14 18:02:42.650 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:02:42.652 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:42.654 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:02:42.655 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:02:42.661 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:02:42.663 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:02:42.664 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1036ms
2025-03-14 18:02:42.665 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:02:42.666 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.5436ms
2025-03-14 18:02:42.733 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:02:42.735 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:42.736 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0198ms
2025-03-14 18:02:42.748 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:02:42.752 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:42.754 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:02:42.757 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:02:42.765 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:02:42.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:02:42.768 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.7246ms
2025-03-14 18:02:42.770 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:02:42.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 23.3436ms
2025-03-14 18:02:43.250 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:02:43.251 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:02:43.251 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:02:43.253 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.254 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.257 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.258 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.9969ms
2025-03-14 18:02:43.259 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.0355ms
2025-03-14 18:02:43.261 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 9.4282ms
2025-03-14 18:02:43.267 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:02:43.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:02:43.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:02:43.271 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.274 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.276 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:43.278 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:43.279 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:02:43.280 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:43.281 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:02:43.281 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:02:43.282 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:02:43.287 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:02:43.288 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:02:43.290 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:02:43.291 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:02:43.293 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:02:43.296 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:02:43.296 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 12.5358ms
2025-03-14 18:02:43.297 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.8087ms
2025-03-14 18:02:43.298 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.3745ms
2025-03-14 18:02:43.299 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:43.301 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:02:43.302 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:02:43.303 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 36.5063ms
2025-03-14 18:02:43.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 36.1777ms
2025-03-14 18:02:43.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 37.2201ms
2025-03-14 18:02:43.354 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:02:43.358 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:02:43.359 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.0252ms
2025-03-14 18:02:43.374 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:02:43.377 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:02:43.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.5836ms
2025-03-14 18:02:44.414 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:44.415 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:44.416 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.3956ms
2025-03-14 18:02:44.419 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:44.421 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:44.422 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:44.423 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:44.429 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:44.432 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:44.433 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.3095ms
2025-03-14 18:02:44.435 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:44.435 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 16.2727ms
2025-03-14 18:02:44.449 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:44.451 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:44.452 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.346ms
2025-03-14 18:02:45.582 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:45.584 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:45.584 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.5568ms
2025-03-14 18:02:45.586 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:02:45.588 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:45.589 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:45.590 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:02:45.594 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:02:45.597 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:02:45.598 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.4928ms
2025-03-14 18:02:45.599 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:02:45.600 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.5462ms
2025-03-14 18:02:45.642 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:45.645 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:45.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:45.646 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6884ms
2025-03-14 18:02:45.648 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:45.650 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.7352ms
2025-03-14 18:02:46.553 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:46.556 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:46.557 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6012ms
2025-03-14 18:02:46.562 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:46.564 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:46.565 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.6932ms
2025-03-14 18:02:46.567 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:46.569 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:46.570 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:46.570 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:46.575 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:46.578 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:46.579 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.1946ms
2025-03-14 18:02:46.581 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:46.582 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.4335ms
2025-03-14 18:02:46.589 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:46.591 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:46.592 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.7421ms
2025-03-14 18:02:47.516 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:02:47.517 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:47.518 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 1.9521ms
2025-03-14 18:02:47.520 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:02:47.521 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:47.521 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:47.522 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:02:47.527 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:02:47.533 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:47.537 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:47.543 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:02:47.545 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:02:47.546 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.2988ms
2025-03-14 18:02:47.547 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:02:47.547 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 27.6306ms
2025-03-14 18:02:47.558 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:47.561 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:47.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.474ms
2025-03-14 18:02:47.562 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:02:47.563 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:02:47.565 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:02:47.566 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:02:47.567 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.0396ms
2025-03-14 18:02:47.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.4332ms
2025-03-14 18:02:50.693 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 18:02:50.695 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:50.695 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.1624ms
2025-03-14 18:02:50.697 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 18:02:50.699 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:50.700 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:02:50.700 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:02:50.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 18:02:50.708 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 18:02:50.720 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:02:50.721 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:02:50.723 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 21.5129ms
2025-03-14 18:02:50.724 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:02:50.725 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 27.566ms
2025-03-14 18:02:50.738 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:50.740 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:50.741 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.467ms
2025-03-14 18:02:50.745 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:02:50.745 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 18:02:50.747 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:02:50.748 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 18:02:50.749 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.9242ms
2025-03-14 18:02:50.750 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 4.9393ms
2025-03-14 18:02:52.028 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:02:52.030 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:02:52.031 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 2.4693ms
2025-03-14 18:02:54.061 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - null null
2025-03-14 18:02:54.064 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.064 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - 204 null null 2.91ms
2025-03-14 18:02:54.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - null null
2025-03-14 18:02:54.067 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.068 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:02:54.069 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:54.073 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 18:02:54.075 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 18:02:54.080 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 9.5908ms
2025-03-14 18:02:54.081 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:02:54.083 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - 404 null application/json; charset=utf-8 16.7578ms
2025-03-14 18:02:54.088 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 18:02:54.089 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.090 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.3887ms
2025-03-14 18:02:54.095 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 18:02:54.097 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.098 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 18:02:54.099 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:54.103 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 18:02:54.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September]
FROM [Variants] AS [v]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 18:02:54.111 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:02:54.119 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Stocks] ([Id], [CreationDate], [UpdateDate], [UserId], [VariantId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-03-14 18:02:54.122 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:02:54.123 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 22.7352ms
2025-03-14 18:02:54.123 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 18:02:54.124 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 201 null application/json; charset=utf-8 29.1952ms
2025-03-14 18:02:54.130 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - null null
2025-03-14 18:02:54.131 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.132 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - 204 null null 2.6843ms
2025-03-14 18:02:54.135 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - application/json 81
2025-03-14 18:02:54.136 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:54.137 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 18:02:54.138 +01:00 [INF] Route matched with {action = "AddNewPackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewPackage(System.Guid, api.Controllers.Stocks.dto.PackageDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 18:02:54.142 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Id0], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[Id1], [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id] = [p].[StockId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-03-14 18:02:54.151 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Date), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Packages] ([Id], [CreationDate], [ExpirationDate], [PurchaseDate], [RemainingQuantity], [StockId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-14 18:02:54.156 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Packages] SET [StockId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Stocks] SET [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-14 18:02:54.163 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:02:54.164 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.AddNewPackage (api) in 25.5028ms
2025-03-14 18:02:54.165 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 18:02:54.166 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - 201 null application/json; charset=utf-8 31.7074ms
2025-03-14 18:02:55.214 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:55.217 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:55.219 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.8578ms
2025-03-14 18:02:55.226 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:55.227 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:55.228 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.3141ms
2025-03-14 18:02:55.230 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:02:55.231 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:55.232 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:55.233 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:55.238 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:02:55.240 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:02:55.241 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.3532ms
2025-03-14 18:02:55.242 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:02:55.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.7387ms
2025-03-14 18:02:55.250 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:02:55.253 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:02:55.253 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:02:55.255 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:02:55.255 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.0102ms
2025-03-14 18:02:55.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.8373ms
2025-03-14 18:02:57.857 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:02:57.858 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:57.859 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 204 null null 2.322ms
2025-03-14 18:02:57.862 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:02:57.863 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:57.864 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:02:57.864 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:02:57.869 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:02:57.871 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:02:57.872 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 5.8163ms
2025-03-14 18:02:57.873 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:02:57.873 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 200 null application/json; charset=utf-8 11.8837ms
2025-03-14 18:02:57.890 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:02:57.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:02:57.892 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:57.893 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:02:57.893 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 3.8953ms
2025-03-14 18:02:57.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.5213ms
2025-03-14 18:02:57.896 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:02:57.900 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:02:57.900 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:02:57.901 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:02:57.906 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:02:57.908 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:02:57.908 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 4.7327ms
2025-03-14 18:02:57.910 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:02:57.911 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 14.112ms
2025-03-14 18:02:57.924 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:02:57.924 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:02:57.926 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:02:57.928 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:02:57.929 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.8707ms
2025-03-14 18:02:57.930 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 6.3445ms
2025-03-14 18:03:02.242 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/f8da99bc-694a-430c-a755-947280fdef64 - null null
2025-03-14 18:03:02.242 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-03-14 18:03:02.244 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.245 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.246 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/f8da99bc-694a-430c-a755-947280fdef64 - 204 null null 3.5463ms
2025-03-14 18:03:02.246 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 3.8001ms
2025-03-14 18:03:02.249 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/f8da99bc-694a-430c-a755-947280fdef64 - application/json 23
2025-03-14 18:03:02.250 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-03-14 18:03:02.251 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.253 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.254 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:03:02.254 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:03:02.254 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 18:03:02.255 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:03:02.258 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-03-14 18:03:02.260 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-03-14 18:03:02.261 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-14 18:03:02.263 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 6.9984ms
2025-03-14 18:03:02.264 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:03:02.264 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/f8da99bc-694a-430c-a755-947280fdef64 - 204 null null 15.8719ms
2025-03-14 18:03:02.265 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-03-14 18:03:02.269 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:03:02.271 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.271 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.6088ms
2025-03-14 18:03:02.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:03:02.276 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:02.278 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:03:02.278 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:03:02.279 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:03:02.283 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 18:03:02.283 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:03:02.286 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:03:02.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:03:02.289 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.9422ms
2025-03-14 18:03:02.290 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:03:02.291 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 17.2735ms
2025-03-14 18:03:02.292 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-03-14 18:03:02.298 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:02.299 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:03:02.300 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:02.300 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:03:02.300 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 43.1309ms
2025-03-14 18:03:02.301 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.196ms
2025-03-14 18:03:02.303 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:03:02.304 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:03:02.306 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.6866ms
2025-03-14 18:03:02.307 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 56.7791ms
2025-03-14 18:03:04.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:04.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:03:04.320 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:04.322 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:03:04.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.7618ms
2025-03-14 18:03:04.323 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.5461ms
2025-03-14 18:03:04.346 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:03:04.348 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:04.349 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.2267ms
2025-03-14 18:03:04.351 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:03:04.352 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:04.353 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:03:04.354 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:03:04.358 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:03:04.361 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:03:04.363 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.4187ms
2025-03-14 18:03:04.364 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:03:04.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.7586ms
2025-03-14 18:03:04.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:04.383 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:04.383 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:03:04.383 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:03:04.384 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.2031ms
2025-03-14 18:03:04.386 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:03:04.387 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:03:04.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.5032ms
2025-03-14 18:03:04.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.1895ms
2025-03-14 18:03:11.492 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:11.492 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:03:11.492 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:03:11.494 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:11.495 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:03:11.497 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:03:11.497 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.3704ms
2025-03-14 18:03:11.498 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.5091ms
2025-03-14 18:03:11.499 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 7.195ms
2025-03-14 18:03:13.381 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:03:13.382 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:13.383 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.276ms
2025-03-14 18:03:13.385 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:03:13.386 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:13.387 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:03:13.388 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:03:13.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:03:13.395 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:13.400 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:13.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:13.406 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:03:13.407 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.075ms
2025-03-14 18:03:13.408 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:03:13.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.5075ms
2025-03-14 18:03:13.420 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:03:13.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:13.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:03:13.423 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:03:13.424 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:13.425 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:03:13.426 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.3719ms
2025-03-14 18:03:13.427 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.2835ms
2025-03-14 18:03:13.428 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.9452ms
2025-03-14 18:03:14.420 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:14.421 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:03:14.423 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:14.425 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:03:14.425 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.7502ms
2025-03-14 18:03:14.426 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.8031ms
2025-03-14 18:03:14.430 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:03:14.432 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:03:14.432 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:03:14.433 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.7026ms
2025-03-14 18:03:14.435 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:03:14.436 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 4.067ms
2025-03-14 18:03:14.442 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:03:14.442 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:03:14.442 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:03:14.444 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.446 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.447 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.447 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 5.7677ms
2025-03-14 18:03:14.448 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 204 null null 6.4664ms
2025-03-14 18:03:14.449 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 6.6198ms
2025-03-14 18:03:14.452 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:03:14.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:03:14.455 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:03:14.456 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.458 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.460 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:14.461 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:03:14.461 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:03:14.462 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:03:14.462 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:03:14.463 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:03:14.463 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:03:14.468 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:03:14.469 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:03:14.470 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:03:14.470 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:03:14.472 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:03:14.472 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 7.8773ms
2025-03-14 18:03:14.474 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:03:14.475 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.8666ms
2025-03-14 18:03:14.475 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:03:14.476 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 8.321ms
2025-03-14 18:03:14.477 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:03:14.478 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 25.3104ms
2025-03-14 18:03:14.478 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:03:14.479 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 26.5369ms
2025-03-14 18:03:14.481 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 200 null application/json; charset=utf-8 26.5066ms
2025-03-14 18:03:15.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:15.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:03:15.758 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:03:15.762 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:15.763 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:03:15.765 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:03:15.766 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.6534ms
2025-03-14 18:03:15.767 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.3096ms
2025-03-14 18:03:15.767 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.8797ms
2025-03-14 18:03:15.802 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:03:15.803 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:15.804 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.2257ms
2025-03-14 18:03:15.806 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:03:15.807 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:15.809 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:03:15.810 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:03:15.815 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:03:15.819 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:03:15.820 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 9.3048ms
2025-03-14 18:03:15.822 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:03:15.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 16.336ms
2025-03-14 18:03:17.147 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:03:17.150 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:03:17.151 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.7504ms
2025-03-14 18:03:17.152 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:03:17.155 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:17.156 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.6887ms
2025-03-14 18:03:17.158 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:03:17.160 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:17.161 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:03:17.161 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:03:17.166 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:03:17.167 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:03:17.169 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.2394ms
2025-03-14 18:03:17.169 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:03:17.170 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.8427ms
2025-03-14 18:03:18.854 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:03:18.856 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:18.857 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4395ms
2025-03-14 18:03:18.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:03:18.860 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:03:18.861 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:03:18.862 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:03:18.865 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:03:18.869 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:18.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:18.877 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:03:18.879 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:03:18.880 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.5849ms
2025-03-14 18:03:18.881 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:03:18.882 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.0694ms
2025-03-14 18:03:18.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:03:18.891 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:18.892 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:03:18.893 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:03:18.894 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:18.896 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:03:18.896 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.022ms
2025-03-14 18:03:18.897 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.8386ms
2025-03-14 18:03:18.899 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.8848ms
2025-03-14 18:03:29.888 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:03:29.888 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:03:29.888 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:03:29.890 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:03:29.892 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:03:29.893 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:03:29.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.5321ms
2025-03-14 18:03:29.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.8084ms
2025-03-14 18:03:29.896 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.3905ms
2025-03-14 18:05:17.992 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:05:17.993 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:05:17.994 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:05:17.995 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:05:17.997 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:05:18.000 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:05:18.000 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:18.001 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:05:18.001 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:05:18.002 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:05:18.003 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:05:18.005 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:05:18.006 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:05:18.007 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.9317ms
2025-03-14 18:05:18.007 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:05:18.007 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:18.010 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.9361ms
2025-03-14 18:05:18.011 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:05:18.016 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:05:18.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:05:18.022 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:05:18.023 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.5088ms
2025-03-14 18:05:18.025 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:05:18.025 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.6391ms
2025-03-14 18:05:18.586 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:05:18.596 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:18.599 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 12.097ms
2025-03-14 18:05:18.660 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:05:18.667 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:18.669 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:05:18.670 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:05:18.678 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:05:18.680 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:05:18.682 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.9586ms
2025-03-14 18:05:18.683 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:05:18.684 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 23.9237ms
2025-03-14 18:05:18.750 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:05:18.753 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:18.755 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.8ms
2025-03-14 18:05:18.775 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:05:18.779 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:18.780 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:05:18.781 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:05:18.787 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:05:18.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:05:18.793 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.3374ms
2025-03-14 18:05:18.794 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:05:18.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.5222ms
2025-03-14 18:05:19.158 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:05:19.159 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:05:19.160 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.161 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:05:19.162 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.164 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2192ms
2025-03-14 18:05:19.168 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.168 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 9.8421ms
2025-03-14 18:05:19.171 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 10.3813ms
2025-03-14 18:05:19.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:05:19.182 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.183 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:19.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:05:19.184 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:05:19.185 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:05:19.186 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.188 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:05:19.191 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:05:19.191 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:19.191 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:05:19.194 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:05:19.195 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:05:19.195 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:05:19.196 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.489ms
2025-03-14 18:05:19.199 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:19.200 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.4106ms
2025-03-14 18:05:19.200 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:05:19.200 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:05:19.204 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:05:19.208 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:05:19.208 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 10.235ms
2025-03-14 18:05:19.210 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 12.9685ms
2025-03-14 18:05:19.211 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:05:19.212 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:05:19.212 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 27.234ms
2025-03-14 18:05:19.214 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 30.6983ms
2025-03-14 18:05:19.245 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:05:19.250 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:05:19.252 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 6.5514ms
2025-03-14 18:05:19.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:05:19.262 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:05:19.263 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.3063ms
2025-03-14 18:05:19.280 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:05:19.282 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:05:19.283 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.7783ms
2025-03-14 18:12:27.970 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:27.970 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:12:27.971 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:27.973 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:27.976 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:27.978 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:27.979 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:27.979 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:27.980 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:27.981 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:12:27.982 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:12:27.984 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:12:27.984 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:12:27.985 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.3571ms
2025-03-14 18:12:27.986 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:27.986 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.7948ms
2025-03-14 18:12:28.016 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:12:28.020 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:28.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:28.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:28.030 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:12:28.032 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 49.722ms
2025-03-14 18:12:28.034 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:28.034 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 64.0343ms
2025-03-14 18:12:28.851 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:28.854 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:28.855 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0487ms
2025-03-14 18:12:28.884 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:28.886 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:28.887 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:28.887 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:28.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:28.896 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:28.898 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.1069ms
2025-03-14 18:12:28.899 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:28.900 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.6687ms
2025-03-14 18:12:28.959 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:28.962 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:28.963 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0586ms
2025-03-14 18:12:28.979 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:28.981 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:28.982 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:28.983 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:28.988 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:28.991 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:28.993 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.353ms
2025-03-14 18:12:28.994 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:28.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.7ms
2025-03-14 18:12:29.430 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:29.432 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:29.433 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.434 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.435 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.6592ms
2025-03-14 18:12:29.436 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.0185ms
2025-03-14 18:12:29.439 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:29.443 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.444 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 4.979ms
2025-03-14 18:12:29.453 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:29.454 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.456 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:29.457 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:29.459 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:29.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:29.462 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.462 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:29.463 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:29.465 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:29.466 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:29.467 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:29.467 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:12:29.469 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.2182ms
2025-03-14 18:12:29.469 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:29.472 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:29.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:12:29.475 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 22.2562ms
2025-03-14 18:12:29.478 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:12:29.481 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.3749ms
2025-03-14 18:12:29.481 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:29.482 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 22.9715ms
2025-03-14 18:12:29.507 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:29.509 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:29.510 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 36.6138ms
2025-03-14 18:12:29.512 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:29.513 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 55.9818ms
2025-03-14 18:12:29.526 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:12:29.529 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:12:29.529 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.3404ms
2025-03-14 18:12:29.530 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:12:29.534 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:12:29.535 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.3475ms
2025-03-14 18:12:33.495 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:33.496 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:12:33.497 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:33.499 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:33.500 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:33.502 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:33.503 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:33.504 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:33.504 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:33.505 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:12:33.506 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:12:33.507 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:12:33.508 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:12:33.509 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4233ms
2025-03-14 18:12:33.509 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:12:33.510 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:33.512 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.8543ms
2025-03-14 18:12:33.513 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:33.517 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:33.521 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:33.523 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:12:33.524 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.1392ms
2025-03-14 18:12:33.525 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:33.525 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 29.7789ms
2025-03-14 18:12:33.987 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:33.991 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:33.993 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.2313ms
2025-03-14 18:12:34.014 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:34.017 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.018 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:34.019 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:34.023 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:34.027 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:34.028 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1098ms
2025-03-14 18:12:34.029 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:34.030 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.9146ms
2025-03-14 18:12:34.135 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:34.138 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.139 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5759ms
2025-03-14 18:12:34.179 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:34.182 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.184 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:34.185 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:34.193 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:34.195 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:34.196 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.5465ms
2025-03-14 18:12:34.198 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:34.199 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.5197ms
2025-03-14 18:12:34.542 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:34.543 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:34.543 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:34.544 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.545 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.547 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.548 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.0914ms
2025-03-14 18:12:34.549 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.0846ms
2025-03-14 18:12:34.549 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.4292ms
2025-03-14 18:12:34.554 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:34.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:34.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:34.558 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.559 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.561 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:34.562 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:34.562 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:34.563 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:34.563 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:34.565 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:34.566 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:12:34.569 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:34.570 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:34.572 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:34.574 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:34.574 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.6916ms
2025-03-14 18:12:34.575 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.1408ms
2025-03-14 18:12:34.576 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:34.577 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:34.578 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.0249ms
2025-03-14 18:12:34.580 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.0798ms
2025-03-14 18:12:34.606 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:12:34.608 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:12:34.609 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 39.6314ms
2025-03-14 18:12:34.610 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:34.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:12:34.611 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 54.244ms
2025-03-14 18:12:34.613 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:12:34.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.2924ms
2025-03-14 18:12:34.646 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:12:34.648 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:12:34.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.4129ms
2025-03-14 18:12:51.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:51.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:12:51.315 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:51.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:12:51.317 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:51.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:12:51.320 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:51.320 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:51.321 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:51.321 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:12:51.322 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:12:51.324 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:12:51.324 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:12:51.325 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.0192ms
2025-03-14 18:12:51.325 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:12:51.326 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:51.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 14.9413ms
2025-03-14 18:12:51.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:51.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:51.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:12:51.337 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:12:51.338 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 15.1697ms
2025-03-14 18:12:51.339 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:12:51.339 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.6771ms
2025-03-14 18:12:51.898 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:51.899 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:51.900 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1808ms
2025-03-14 18:12:51.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:51.905 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:51.906 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:51.907 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:51.911 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:51.913 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:51.914 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1929ms
2025-03-14 18:12:51.915 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:51.916 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.0207ms
2025-03-14 18:12:52.051 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:52.052 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:52.053 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.143ms
2025-03-14 18:12:52.058 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:12:52.059 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:52.060 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:52.061 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:12:52.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:52.066 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:12:52.067 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.103ms
2025-03-14 18:12:52.068 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:12:52.069 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.8709ms
2025-03-14 18:12:53.227 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:53.228 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:53.230 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:53.230 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.232 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.234 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.234 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.4121ms
2025-03-14 18:12:53.235 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.7802ms
2025-03-14 18:12:53.236 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.2549ms
2025-03-14 18:12:53.241 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:53.243 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:12:53.244 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.245 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:12:53.245 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.246 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:53.247 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:12:53.247 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:53.248 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:53.249 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:53.249 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:12:53.251 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:12:53.253 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:53.256 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:12:53.257 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:53.257 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:12:53.259 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:12:53.260 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.1294ms
2025-03-14 18:12:53.262 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:12:53.263 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.7709ms
2025-03-14 18:12:53.264 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:53.265 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 10.332ms
2025-03-14 18:12:53.266 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:12:53.268 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.6744ms
2025-03-14 18:12:53.268 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:12:53.269 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.1399ms
2025-03-14 18:12:53.272 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 26.5732ms
2025-03-14 18:12:53.354 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:12:53.356 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:12:53.356 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.4441ms
2025-03-14 18:12:53.377 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:12:53.379 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:12:53.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.7678ms
2025-03-14 18:14:10.587 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:10.588 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:14:10.589 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:10.590 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:10.591 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:10.593 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:10.594 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:10.595 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:10.595 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:10.596 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:14:10.598 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:14:10.599 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:14:10.599 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:14:10.600 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.6338ms
2025-03-14 18:14:10.601 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:14:10.601 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:10.603 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.066ms
2025-03-14 18:14:10.604 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.610 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.614 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.615 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:14:10.616 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.0628ms
2025-03-14 18:14:10.617 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:10.618 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.7281ms
2025-03-14 18:14:10.658 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:10.658 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:14:10.659 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:10.660 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:10.662 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:10.665 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:10.666 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:10.667 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:10.667 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:10.668 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:14:10.669 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:14:10.671 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:14:10.672 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:14:10.673 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:14:10.673 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.4444ms
2025-03-14 18:14:10.675 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:10.676 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 18.3582ms
2025-03-14 18:14:10.676 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:10.690 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:14:10.691 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.024ms
2025-03-14 18:14:10.692 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:10.693 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 35.1629ms
2025-03-14 18:14:11.439 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:11.441 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:11.445 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.8787ms
2025-03-14 18:14:11.449 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:11.451 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:11.453 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:11.454 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:14:11.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:11.462 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:14:11.463 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.964ms
2025-03-14 18:14:11.464 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:11.465 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4249ms
2025-03-14 18:14:11.773 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:11.774 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:11.775 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4857ms
2025-03-14 18:14:11.780 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:11.781 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:11.782 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:11.783 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:14:11.788 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:11.791 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:14:11.792 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.291ms
2025-03-14 18:14:11.793 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:11.794 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.9364ms
2025-03-14 18:14:12.281 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:12.283 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:12.283 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.284 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.285 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.5192ms
2025-03-14 18:14:12.286 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.4207ms
2025-03-14 18:14:12.290 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:12.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:12.293 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.295 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.295 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:12.296 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:12.296 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:12.297 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:12.300 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:12.301 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:12.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:14:12.305 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:14:12.306 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0902ms
2025-03-14 18:14:12.306 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.5503ms
2025-03-14 18:14:12.307 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:12.308 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:12.309 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 18.8526ms
2025-03-14 18:14:12.310 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 16.594ms
2025-03-14 18:14:12.372 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:14:12.374 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.374 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.2986ms
2025-03-14 18:14:12.377 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:14:12.378 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:12.379 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:14:12.380 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:14:12.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:14:12.387 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:14:12.390 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.8728ms
2025-03-14 18:14:12.391 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:14:12.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 14.8728ms
2025-03-14 18:14:12.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:14:12.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:14:12.474 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:14:12.475 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:14:12.476 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.2401ms
2025-03-14 18:14:12.476 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.7031ms
2025-03-14 18:14:14.203 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:14.204 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:14:14.206 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:14.209 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:14:14.213 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:14.216 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:14:14.217 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:14.218 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:14.219 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:14.220 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:14:14.222 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:14:14.225 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:14:14.226 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:14:14.227 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.9088ms
2025-03-14 18:14:14.228 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:14:14.229 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:14.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 28.148ms
2025-03-14 18:14:14.233 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:14.239 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:14.245 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:14:14.247 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:14:14.249 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 24.5355ms
2025-03-14 18:14:14.250 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:14:14.252 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 47.2742ms
2025-03-14 18:14:15.108 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:15.114 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:15.117 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 8.2269ms
2025-03-14 18:14:15.122 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:15.124 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:15.125 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:15.127 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:14:15.134 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:15.137 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:14:15.138 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.369ms
2025-03-14 18:14:15.139 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:15.139 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.2184ms
2025-03-14 18:14:15.282 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:15.284 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:15.284 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3872ms
2025-03-14 18:14:15.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:14:15.299 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:15.300 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:15.301 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:14:15.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:15.310 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:14:15.311 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.9239ms
2025-03-14 18:14:15.313 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:14:15.314 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.4676ms
2025-03-14 18:14:16.280 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:16.281 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:16.283 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:14:16.283 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.286 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.288 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.289 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.3713ms
2025-03-14 18:14:16.289 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.531ms
2025-03-14 18:14:16.290 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 7.2348ms
2025-03-14 18:14:16.294 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:14:16.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:16.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:14:16.300 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.302 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.304 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:14:16.305 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:14:16.305 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:16.306 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:16.306 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:14:16.307 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:16.308 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:14:16.313 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:14:16.313 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:16.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:14:16.315 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:14:16.317 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:14:16.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:14:16.320 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 11.5954ms
2025-03-14 18:14:16.321 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.7212ms
2025-03-14 18:14:16.322 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.8511ms
2025-03-14 18:14:16.323 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:14:16.325 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:16.325 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:14:16.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 32.6721ms
2025-03-14 18:14:16.327 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.354ms
2025-03-14 18:14:16.329 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 31.2103ms
2025-03-14 18:14:16.399 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:14:16.402 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:14:16.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9913ms
2025-03-14 18:14:16.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:14:16.421 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:14:16.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.4509ms
2025-03-14 18:15:42.291 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:15:42.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:15:42.293 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:15:42.295 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:15:42.296 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:15:42.299 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:15:42.299 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:42.300 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:15:42.301 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:15:42.301 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:15:42.302 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:15:42.304 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:15:42.305 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:15:42.305 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2834ms
2025-03-14 18:15:42.305 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:15:42.306 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:42.308 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.2582ms
2025-03-14 18:15:42.309 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:15:42.313 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:15:42.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:15:42.320 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:15:42.321 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.8057ms
2025-03-14 18:15:42.322 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:15:42.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.7651ms
2025-03-14 18:15:42.965 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:15:42.967 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:42.967 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9629ms
2025-03-14 18:15:42.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:15:42.974 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:42.974 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:15:42.975 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:15:42.979 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:15:42.980 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:15:42.981 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1902ms
2025-03-14 18:15:42.983 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:15:42.984 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.5817ms
2025-03-14 18:15:43.186 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:15:43.188 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:43.189 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1285ms
2025-03-14 18:15:43.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:15:43.199 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:43.200 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:15:43.201 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:15:43.204 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:15:43.206 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:15:43.207 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7027ms
2025-03-14 18:15:43.208 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:15:43.209 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.5358ms
2025-03-14 18:15:44.247 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:15:44.247 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:15:44.248 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:15:44.250 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.251 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.252 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.253 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2741ms
2025-03-14 18:15:44.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.1808ms
2025-03-14 18:15:44.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.4736ms
2025-03-14 18:15:44.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:15:44.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:15:44.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:15:44.261 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.268 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:15:44.269 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:44.270 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:44.270 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:15:44.271 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:15:44.271 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:15:44.272 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:15:44.276 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:15:44.279 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:15:44.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:15:44.282 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:15:44.284 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:15:44.285 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 12.0976ms
2025-03-14 18:15:44.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:15:44.287 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.6691ms
2025-03-14 18:15:44.288 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:44.288 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.6355ms
2025-03-14 18:15:44.289 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:15:44.292 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 34.3973ms
2025-03-14 18:15:44.293 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:15:44.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 35.0522ms
2025-03-14 18:15:44.296 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 36.8061ms
2025-03-14 18:15:44.452 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:15:44.454 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:15:44.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.2612ms
2025-03-14 18:15:44.497 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:15:44.499 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:15:44.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.082ms
2025-03-14 18:16:57.310 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:16:57.311 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:16:57.312 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:16:57.314 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:16:57.315 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:16:57.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:16:57.317 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:57.317 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:16:57.318 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:16:57.318 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:16:57.319 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:16:57.321 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:16:57.322 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:16:57.323 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:16:57.323 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.6854ms
2025-03-14 18:16:57.325 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:57.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:16:57.326 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.9259ms
2025-03-14 18:16:57.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:16:57.333 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:16:57.337 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:16:57.338 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.9479ms
2025-03-14 18:16:57.340 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:16:57.341 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.0436ms
2025-03-14 18:16:58.027 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:16:58.035 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.036 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 9.4211ms
2025-03-14 18:16:58.048 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:16:58.050 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.051 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:16:58.053 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:16:58.061 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:16:58.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:16:58.068 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 13.4587ms
2025-03-14 18:16:58.069 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:16:58.070 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.614ms
2025-03-14 18:16:58.169 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:16:58.173 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.173 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.8809ms
2025-03-14 18:16:58.187 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:16:58.190 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.192 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:16:58.194 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:16:58.200 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:16:58.203 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:16:58.204 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.2894ms
2025-03-14 18:16:58.205 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:16:58.206 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.7788ms
2025-03-14 18:16:58.598 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:16:58.599 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:16:58.599 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:16:58.600 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.601 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.603 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.604 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.2723ms
2025-03-14 18:16:58.605 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.6234ms
2025-03-14 18:16:58.606 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.3492ms
2025-03-14 18:16:58.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:16:58.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:16:58.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:16:58.614 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.616 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.617 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:16:58.618 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:16:58.618 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:58.618 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:58.620 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:16:58.621 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:16:58.622 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:16:58.625 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:16:58.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:16:58.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:16:58.628 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:16:58.630 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:16:58.631 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:16:58.631 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.4947ms
2025-03-14 18:16:58.632 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.1999ms
2025-03-14 18:16:58.633 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 7.4775ms
2025-03-14 18:16:58.634 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:16:58.635 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:58.636 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:16:58.636 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 26.359ms
2025-03-14 18:16:58.637 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.815ms
2025-03-14 18:16:58.638 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.2631ms
2025-03-14 18:16:58.644 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:16:58.646 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:16:58.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.7404ms
2025-03-14 18:16:58.652 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:16:58.654 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:16:58.655 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.4521ms
2025-03-14 18:17:03.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:03.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:17:03.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:03.317 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:03.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:03.321 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:03.321 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:03.322 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:03.322 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:03.323 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:17:03.324 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:17:03.325 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:17:03.326 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:17:03.327 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.1089ms
2025-03-14 18:17:03.327 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:17:03.328 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:03.330 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.7235ms
2025-03-14 18:17:03.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:03.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:03.339 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:03.341 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:17:03.342 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.9386ms
2025-03-14 18:17:03.343 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:03.344 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.0191ms
2025-03-14 18:17:03.803 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:03.806 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:03.807 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2976ms
2025-03-14 18:17:03.825 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:03.827 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:03.829 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:03.830 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:03.834 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:03.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:03.837 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6685ms
2025-03-14 18:17:03.838 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:03.839 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.8293ms
2025-03-14 18:17:03.932 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:03.934 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:03.935 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2272ms
2025-03-14 18:17:03.957 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:03.958 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:03.959 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:03.960 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:03.965 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:03.968 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:03.969 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0059ms
2025-03-14 18:17:03.970 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:03.971 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.2714ms
2025-03-14 18:17:04.341 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:04.341 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:04.342 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:17:04.343 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.345 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.346 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.347 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.7168ms
2025-03-14 18:17:04.348 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 6.8998ms
2025-03-14 18:17:04.349 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 6.5406ms
2025-03-14 18:17:04.353 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:04.353 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:17:04.357 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:04.365 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.363 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.359 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:04.366 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:04.366 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:17:04.367 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:04.368 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:04.369 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:17:04.369 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:04.375 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:04.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:17:04.378 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:04.378 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:17:04.380 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:17:04.383 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:17:04.383 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 12.0034ms
2025-03-14 18:17:04.384 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 10.7647ms
2025-03-14 18:17:04.385 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.1416ms
2025-03-14 18:17:04.386 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:04.387 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:17:04.388 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:04.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 31.344ms
2025-03-14 18:17:04.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 36.6335ms
2025-03-14 18:17:04.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 37.4264ms
2025-03-14 18:17:04.417 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:17:04.419 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:17:04.420 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.8123ms
2025-03-14 18:17:04.424 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:17:04.427 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:17:04.428 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.1771ms
2025-03-14 18:17:31.714 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:31.714 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:17:31.716 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:31.718 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:31.720 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:31.722 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:31.722 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:31.723 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:31.723 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:31.724 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:17:31.725 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:17:31.726 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:17:31.727 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:17:31.728 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.571ms
2025-03-14 18:17:31.728 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:17:31.728 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:31.730 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 16.4856ms
2025-03-14 18:17:31.731 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:31.735 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:31.739 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:31.742 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:17:31.744 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.8146ms
2025-03-14 18:17:31.745 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:31.746 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 31.3329ms
2025-03-14 18:17:32.080 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:32.083 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:32.083 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9143ms
2025-03-14 18:17:32.100 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:32.124 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:32.126 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:32.135 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:32.145 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:32.147 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:32.149 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0114ms
2025-03-14 18:17:32.151 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:32.152 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 51.4887ms
2025-03-14 18:17:32.204 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:32.206 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:32.207 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8424ms
2025-03-14 18:17:32.229 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:32.231 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:32.232 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:32.234 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:32.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:32.244 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:32.245 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.1946ms
2025-03-14 18:17:32.247 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:32.248 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.0231ms
2025-03-14 18:17:38.723 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:38.723 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:17:38.727 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:38.729 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:38.732 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:38.734 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:38.735 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:38.736 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:38.738 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:38.739 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:17:38.741 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:17:38.744 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:17:38.745 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:17:38.747 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 5.8783ms
2025-03-14 18:17:38.747 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:17:38.748 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:38.750 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 27.0832ms
2025-03-14 18:17:38.751 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:38.756 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:38.763 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:38.766 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:17:38.769 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 25.8317ms
2025-03-14 18:17:38.770 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:38.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 48.3722ms
2025-03-14 18:17:39.133 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:39.136 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:39.137 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9357ms
2025-03-14 18:17:39.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:39.153 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:39.154 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:39.156 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:39.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:39.163 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:39.164 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.1161ms
2025-03-14 18:17:39.166 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:39.167 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4358ms
2025-03-14 18:17:39.262 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:39.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:39.265 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6378ms
2025-03-14 18:17:39.270 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:39.272 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:39.273 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:39.274 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:39.278 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:39.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:39.283 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.2432ms
2025-03-14 18:17:39.284 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:39.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.6284ms
2025-03-14 18:17:58.326 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:17:58.326 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:17:58.327 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:58.329 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:17:58.331 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:58.333 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:17:58.334 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:58.335 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:58.335 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:17:58.336 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:17:58.338 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:17:58.340 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:17:58.341 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:17:58.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:17:58.342 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.5439ms
2025-03-14 18:17:58.345 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:17:58.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:58.346 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 20.1779ms
2025-03-14 18:17:58.351 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:58.354 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:17:58.357 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:17:58.358 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.853ms
2025-03-14 18:17:58.359 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:17:58.360 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.9782ms
2025-03-14 18:17:58.727 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:58.729 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:58.730 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.563ms
2025-03-14 18:17:58.735 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:58.737 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:58.738 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:58.740 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:58.747 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:58.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:58.752 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.7777ms
2025-03-14 18:17:58.755 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:58.756 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.5856ms
2025-03-14 18:17:58.837 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:58.839 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:58.840 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7885ms
2025-03-14 18:17:58.859 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:17:58.861 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:17:58.862 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:58.864 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:17:58.869 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:17:58.873 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:17:58.875 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.0315ms
2025-03-14 18:17:58.876 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:17:58.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.2994ms
2025-03-14 18:18:01.849 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:18:01.850 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:18:01.852 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:18:01.855 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:18:01.857 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:18:01.859 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:18:01.860 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:18:01.860 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:18:01.861 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:18:01.863 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:18:01.864 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:18:01.866 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:18:01.867 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:18:01.868 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.1101ms
2025-03-14 18:18:01.868 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:18:01.869 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:18:01.871 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 21.4876ms
2025-03-14 18:18:01.873 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:01.878 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:01.884 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:01.885 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:18:01.886 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 21.3886ms
2025-03-14 18:18:01.887 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:18:01.888 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 37.4718ms
2025-03-14 18:18:02.257 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:02.261 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:02.262 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.5902ms
2025-03-14 18:18:02.293 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:02.295 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:02.297 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:02.298 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:18:02.301 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:18:02.303 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:18:02.305 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9187ms
2025-03-14 18:18:02.306 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:02.307 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.3407ms
2025-03-14 18:18:02.414 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:02.415 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:02.416 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4095ms
2025-03-14 18:18:02.432 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:02.434 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:02.434 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:02.435 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:18:02.442 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:18:02.444 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:18:02.445 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.5437ms
2025-03-14 18:18:02.446 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:02.447 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.8313ms
2025-03-14 18:18:09.305 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:18:09.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:18:09.307 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:18:09.310 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:18:09.311 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:18:09.313 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:18:09.313 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:18:09.314 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:18:09.315 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:18:09.315 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:18:09.317 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:18:09.318 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:18:09.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:18:09.319 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:18:09.322 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 4.2674ms
2025-03-14 18:18:09.323 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:18:09.323 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:09.324 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 17.8625ms
2025-03-14 18:18:09.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:09.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:18:09.332 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:18:09.333 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.8988ms
2025-03-14 18:18:09.334 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:18:09.336 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.2428ms
2025-03-14 18:18:09.644 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:09.645 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:09.646 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4574ms
2025-03-14 18:18:09.651 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:09.654 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:09.655 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:09.655 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:18:09.659 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:18:09.661 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:18:09.662 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.673ms
2025-03-14 18:18:09.663 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:09.664 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5356ms
2025-03-14 18:18:09.758 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:09.760 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:09.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4011ms
2025-03-14 18:18:09.774 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:18:09.778 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:18:09.779 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:09.781 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:18:09.785 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:18:09.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:18:09.789 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6104ms
2025-03-14 18:18:09.790 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:18:09.791 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.2418ms
2025-03-14 18:19:19.249 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:19:19.251 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:19:19.252 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:19:19.253 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:19:19.254 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:19:19.256 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:19:19.257 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:19:19.258 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:19:19.258 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 2.8067ms
2025-03-14 18:19:19.259 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:19:19.260 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 10.5965ms
2025-03-14 18:19:20.112 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:20.114 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:20.115 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1155ms
2025-03-14 18:19:20.120 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:20.122 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:20.123 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:20.125 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:19:20.130 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:19:20.132 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:19:20.134 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.6451ms
2025-03-14 18:19:20.135 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:20.136 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.1306ms
2025-03-14 18:19:20.314 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:20.316 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:20.317 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6411ms
2025-03-14 18:19:20.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:20.321 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:20.322 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:20.322 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:19:20.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:19:20.329 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:19:20.330 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4203ms
2025-03-14 18:19:20.331 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:20.331 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.2948ms
2025-03-14 18:19:26.500 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:19:26.504 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:19:26.507 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:19:26.507 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:19:26.508 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:19:26.511 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:19:26.512 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:19:26.513 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:19:26.514 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 3.2834ms
2025-03-14 18:19:26.516 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:19:26.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 15.9904ms
2025-03-14 18:19:27.034 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:27.039 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:27.045 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 10.4574ms
2025-03-14 18:19:27.068 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:27.070 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:27.070 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:27.072 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:19:27.075 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:19:27.077 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:19:27.081 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.0324ms
2025-03-14 18:19:27.084 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:27.087 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.9984ms
2025-03-14 18:19:27.192 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:27.195 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:27.195 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9329ms
2025-03-14 18:19:27.201 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:19:27.204 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:19:27.206 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:27.207 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:19:27.210 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:19:27.213 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:19:27.214 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9401ms
2025-03-14 18:19:27.215 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:19:27.216 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4827ms
2025-03-14 18:22:08.870 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:22:08.872 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:22:08.873 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:22:08.874 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:22:08.874 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:22:08.875 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:22:08.876 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:22:08.876 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:22:08.877 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 1.937ms
2025-03-14 18:22:08.878 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:22:08.879 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 9.4955ms
2025-03-14 18:22:09.428 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:09.430 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:09.431 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0207ms
2025-03-14 18:22:09.437 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:09.441 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:09.442 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:09.443 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:22:09.449 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:22:09.451 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:22:09.452 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6056ms
2025-03-14 18:22:09.454 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:09.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.3989ms
2025-03-14 18:22:09.509 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:09.513 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:09.514 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.3601ms
2025-03-14 18:22:09.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:09.524 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:09.525 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:09.527 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:22:09.532 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:22:09.535 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:22:09.537 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.4336ms
2025-03-14 18:22:09.538 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:09.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.9392ms
2025-03-14 18:22:55.165 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:22:55.168 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:22:55.170 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:22:55.170 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:22:55.171 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:22:55.172 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:22:55.172 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:22:55.173 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:22:55.173 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 1.528ms
2025-03-14 18:22:55.174 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:22:55.175 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 9.0715ms
2025-03-14 18:22:55.623 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:55.628 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:55.629 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.2768ms
2025-03-14 18:22:55.647 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:55.650 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:55.652 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:55.653 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:22:55.659 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:22:55.661 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:22:55.662 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1985ms
2025-03-14 18:22:55.663 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:55.664 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.7698ms
2025-03-14 18:22:55.756 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:55.757 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:55.758 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2234ms
2025-03-14 18:22:55.781 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:22:55.783 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:22:55.783 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:55.784 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:22:55.787 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:22:55.789 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:22:55.790 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.3262ms
2025-03-14 18:22:55.791 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:22:55.792 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.9496ms
2025-03-14 18:23:43.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:23:43.229 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:23:43.231 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:23:43.232 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:23:43.232 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:23:43.233 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:23:43.234 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:23:43.234 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:23:43.235 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 1.6615ms
2025-03-14 18:23:43.235 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:23:43.236 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 403 0 null 8.5114ms
2025-03-14 18:23:44.095 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:23:44.097 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:23:44.098 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9142ms
2025-03-14 18:23:44.101 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:23:44.102 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:23:44.104 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:23:44.105 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:23:44.111 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:23:44.115 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:23:44.120 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 13.1708ms
2025-03-14 18:23:44.124 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:23:44.127 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 26.0825ms
2025-03-14 18:23:44.304 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:23:44.306 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:23:44.308 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.0979ms
2025-03-14 18:23:44.311 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:23:44.313 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:23:44.314 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:23:44.314 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:23:44.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:23:44.322 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:23:44.323 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6887ms
2025-03-14 18:23:44.324 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:23:44.325 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.7277ms
2025-03-14 18:29:20.720 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:20.722 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:20.723 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1503ms
2025-03-14 18:29:20.739 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:20.742 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:20.743 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:20.745 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:29:20.789 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:29:20.793 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:29:20.794 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 44.6737ms
2025-03-14 18:29:20.795 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:20.797 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 57.9672ms
2025-03-14 18:29:20.964 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:20.965 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:20.966 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1287ms
2025-03-14 18:29:20.980 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:20.982 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:20.983 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:20.983 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:29:20.988 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:29:20.990 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:29:20.991 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.0263ms
2025-03-14 18:29:20.992 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:20.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.2622ms
2025-03-14 18:29:26.786 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:26.788 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:26.788 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7138ms
2025-03-14 18:29:26.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:26.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:26.794 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:26.795 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:29:26.803 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:29:26.804 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:29:26.805 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.191ms
2025-03-14 18:29:26.806 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:26.807 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.334ms
2025-03-14 18:29:27.002 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:27.003 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:27.004 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1569ms
2025-03-14 18:29:27.009 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:29:27.012 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:29:27.013 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:27.014 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:29:27.019 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:29:27.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:29:27.023 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.7264ms
2025-03-14 18:29:27.024 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:29:27.025 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.6012ms
2025-03-14 18:30:26.004 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:26.009 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:26.011 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.4892ms
2025-03-14 18:30:26.027 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:26.029 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:26.032 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:26.033 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:26.039 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:26.041 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:26.042 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3291ms
2025-03-14 18:30:26.043 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:26.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.895ms
2025-03-14 18:30:26.279 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:26.281 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:26.282 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6543ms
2025-03-14 18:30:26.291 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:26.292 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:26.293 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:26.294 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:26.299 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:26.301 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:26.302 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8012ms
2025-03-14 18:30:26.303 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:26.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5829ms
2025-03-14 18:30:31.500 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:31.503 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:31.504 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.4721ms
2025-03-14 18:30:31.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:31.508 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:31.510 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:31.511 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:31.514 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:31.517 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:31.518 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8667ms
2025-03-14 18:30:31.519 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:31.520 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5915ms
2025-03-14 18:30:31.711 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:31.713 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:31.713 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1536ms
2025-03-14 18:30:31.719 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:31.721 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:31.722 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:31.723 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:31.726 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:31.728 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:31.729 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.299ms
2025-03-14 18:30:31.730 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:31.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.3935ms
2025-03-14 18:30:40.006 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:40.010 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:40.011 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.3428ms
2025-03-14 18:30:40.034 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:40.035 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:40.037 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:40.038 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:40.042 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:40.044 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:40.044 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.0871ms
2025-03-14 18:30:40.045 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:40.046 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.3048ms
2025-03-14 18:30:40.082 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:40.084 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:40.084 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4292ms
2025-03-14 18:30:40.096 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:30:40.099 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:30:40.100 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:40.101 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:30:40.108 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:30:40.111 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:30:40.113 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 10.0492ms
2025-03-14 18:30:40.114 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:30:40.115 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.3016ms
2025-03-14 18:31:29.252 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:29.255 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:29.255 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.103ms
2025-03-14 18:31:29.259 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:29.264 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:29.266 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:29.267 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:29.273 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:29.276 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:29.278 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.8861ms
2025-03-14 18:31:29.279 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:29.280 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.0292ms
2025-03-14 18:31:29.377 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:29.380 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:29.380 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1903ms
2025-03-14 18:31:29.413 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:29.417 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:29.418 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:29.419 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:29.423 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:29.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:29.427 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.4824ms
2025-03-14 18:31:29.428 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:29.430 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.4262ms
2025-03-14 18:31:33.162 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:33.165 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:33.167 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.8223ms
2025-03-14 18:31:33.178 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:33.180 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:33.181 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:33.182 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:33.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:33.188 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:33.189 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7604ms
2025-03-14 18:31:33.191 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:33.191 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.5582ms
2025-03-14 18:31:33.252 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:33.253 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:33.254 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1827ms
2025-03-14 18:31:33.258 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:33.260 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:33.263 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:33.263 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:33.267 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:33.269 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:33.270 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9122ms
2025-03-14 18:31:33.272 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:33.275 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.1831ms
2025-03-14 18:31:35.255 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:35.257 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:35.261 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.6392ms
2025-03-14 18:31:35.292 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:35.294 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:35.296 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:35.297 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:35.302 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:35.304 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:35.305 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9911ms
2025-03-14 18:31:35.307 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:35.308 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4308ms
2025-03-14 18:31:35.393 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:35.396 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:35.397 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.5811ms
2025-03-14 18:31:35.446 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:31:35.451 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:31:35.454 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:35.459 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:31:35.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:31:35.468 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:31:35.470 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.6865ms
2025-03-14 18:31:35.473 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:31:35.474 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 28.6669ms
2025-03-14 18:32:01.333 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:01.335 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:01.336 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.107ms
2025-03-14 18:32:01.348 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:01.351 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:01.352 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:01.353 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:01.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:01.362 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:01.363 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6395ms
2025-03-14 18:32:01.364 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:01.364 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.1977ms
2025-03-14 18:32:01.457 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:01.459 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:01.460 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3999ms
2025-03-14 18:32:01.464 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:01.465 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:01.466 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:01.470 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:01.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:01.476 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:01.477 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9214ms
2025-03-14 18:32:01.479 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:01.481 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.238ms
2025-03-14 18:32:08.743 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:08.745 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:08.745 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.9705ms
2025-03-14 18:32:08.760 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:08.778 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:08.780 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:08.783 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:08.791 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:08.796 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:08.798 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 12.3592ms
2025-03-14 18:32:08.800 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:08.801 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 40.2703ms
2025-03-14 18:32:08.868 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:08.870 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:08.871 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3335ms
2025-03-14 18:32:08.884 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:08.886 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:08.887 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:08.888 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:08.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:08.894 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:08.896 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.4277ms
2025-03-14 18:32:08.897 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:08.898 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.8216ms
2025-03-14 18:32:18.778 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:18.783 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:18.784 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.0644ms
2025-03-14 18:32:18.789 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:18.792 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:18.794 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:18.797 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:18.804 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:18.806 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:18.807 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6202ms
2025-03-14 18:32:18.808 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:18.809 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.584ms
2025-03-14 18:32:18.861 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:18.870 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:18.871 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 10.1924ms
2025-03-14 18:32:18.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:18.883 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:18.884 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:18.885 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:18.891 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:18.896 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:18.897 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 10.1031ms
2025-03-14 18:32:18.898 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:18.899 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.2861ms
2025-03-14 18:32:37.676 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:37.679 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:37.680 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9992ms
2025-03-14 18:32:37.684 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:37.688 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:37.689 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:37.690 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:37.696 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:37.701 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:37.702 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.6514ms
2025-03-14 18:32:37.704 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:37.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.6007ms
2025-03-14 18:32:37.811 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:37.814 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:37.815 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.0635ms
2025-03-14 18:32:37.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:37.826 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:37.828 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:37.829 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:37.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:37.842 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:37.843 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3716ms
2025-03-14 18:32:37.845 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:37.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 23.2339ms
2025-03-14 18:32:40.090 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:40.093 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:40.094 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.951ms
2025-03-14 18:32:40.106 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:40.108 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:40.109 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:40.111 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:40.116 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:40.118 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:40.119 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.914ms
2025-03-14 18:32:40.121 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:40.122 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.9844ms
2025-03-14 18:32:40.169 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:40.173 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:40.173 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7483ms
2025-03-14 18:32:40.182 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:32:40.184 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:32:40.186 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:40.186 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:32:40.191 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:32:40.193 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:32:40.194 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9518ms
2025-03-14 18:32:40.195 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:32:40.196 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.4326ms
2025-03-14 18:33:17.511 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:17.512 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:17.513 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.8788ms
2025-03-14 18:33:17.516 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:17.518 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:17.519 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:17.520 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:33:17.524 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:33:17.526 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:33:17.528 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.5578ms
2025-03-14 18:33:17.529 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:17.530 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.6178ms
2025-03-14 18:33:17.659 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:17.662 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:17.663 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9101ms
2025-03-14 18:33:17.670 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:17.672 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:17.673 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:17.674 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:33:17.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:33:17.681 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:33:17.683 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3875ms
2025-03-14 18:33:17.685 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:17.686 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.2163ms
2025-03-14 18:33:20.736 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:20.739 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:20.739 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0787ms
2025-03-14 18:33:20.743 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:20.745 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:20.746 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:20.747 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:33:20.752 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:33:20.754 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:33:20.755 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3861ms
2025-03-14 18:33:20.756 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:20.757 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.5537ms
2025-03-14 18:33:20.860 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:20.862 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:20.863 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5757ms
2025-03-14 18:33:20.874 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:33:20.877 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:20.879 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:20.880 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:33:20.885 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:33:20.886 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:33:20.888 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8065ms
2025-03-14 18:33:20.889 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:33:20.891 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.7707ms
2025-03-14 18:33:32.852 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 18:33:32.855 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:32.855 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 3.7131ms
2025-03-14 18:33:32.857 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 18:33:32.859 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:33:32.859 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 18:33:32.860 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 18:33:32.877 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:33:32.889 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 18:33:33.787 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 18:33:33.797 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:33:33.799 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 18:33:33.800 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 938.5454ms
2025-03-14 18:33:33.801 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 18:33:33.801 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 944.095ms
2025-03-14 18:34:06.445 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:34:06.446 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:34:06.447 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.447 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 18:34:06.448 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.448 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.1536ms
2025-03-14 18:34:06.449 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.450 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.5464ms
2025-03-14 18:34:06.452 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 4.4444ms
2025-03-14 18:34:06.452 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:34:06.454 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:34:06.456 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 18:34:06.458 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.459 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.460 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:06.461 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:34:06.461 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:34:06.462 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 18:34:06.462 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:34:06.463 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:34:06.463 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 18:34:06.467 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:34:06.473 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:34:06.475 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.8233ms
2025-03-14 18:34:06.476 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:34:06.477 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 24.4748ms
2025-03-14 18:34:06.486 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:34:06.494 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 18:34:06.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:34:06.499 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:34:06.500 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 34.9582ms
2025-03-14 18:34:06.501 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:34:06.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 47.3332ms
2025-03-14 18:34:06.508 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:34:06.510 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:34:06.513 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.1251ms
2025-03-14 18:34:06.963 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 18:34:06.974 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:34:06.976 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 18:34:06.976 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 509.9158ms
2025-03-14 18:34:06.977 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 18:34:06.978 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 521.1508ms
2025-03-14 18:34:15.544 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:15.546 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:15.547 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.3892ms
2025-03-14 18:34:15.551 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:15.555 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:15.556 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:15.557 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:34:15.561 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:34:15.566 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:15.570 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:15.575 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:15.578 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:34:15.579 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 20.2923ms
2025-03-14 18:34:15.580 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:15.580 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 30.6362ms
2025-03-14 18:34:15.608 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:34:15.611 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:15.612 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:34:15.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:34:15.614 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:15.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.9892ms
2025-03-14 18:34:15.616 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:34:15.617 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.8858ms
2025-03-14 18:34:15.620 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.6871ms
2025-03-14 18:34:17.196 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:17.197 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:17.198 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2231ms
2025-03-14 18:34:17.205 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:17.209 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:17.210 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:17.210 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:34:17.215 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:34:17.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:34:17.219 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.531ms
2025-03-14 18:34:17.219 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:17.220 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.134ms
2025-03-14 18:34:17.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:17.240 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:17.242 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6266ms
2025-03-14 18:34:17.244 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:17.248 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:17.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.6493ms
2025-03-14 18:34:18.659 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:34:18.660 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:18.661 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.0229ms
2025-03-14 18:34:18.662 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:34:18.663 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:18.664 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:34:18.665 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:34:18.669 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:34:18.671 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:34:18.672 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.2679ms
2025-03-14 18:34:18.673 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:34:18.674 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.8174ms
2025-03-14 18:34:18.715 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:18.718 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:18.718 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:18.721 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:18.722 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.3023ms
2025-03-14 18:34:18.723 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.2389ms
2025-03-14 18:34:18.726 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:34:18.732 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:34:18.737 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 11.5961ms
2025-03-14 18:34:20.129 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:34:20.131 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:20.131 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.3772ms
2025-03-14 18:34:20.133 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:34:20.134 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:20.136 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:34:20.137 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:34:20.141 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:34:20.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:34:20.145 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.9017ms
2025-03-14 18:34:20.145 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:34:20.146 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 12.9753ms
2025-03-14 18:34:20.152 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:34:20.155 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:34:20.156 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.3245ms
2025-03-14 18:34:24.321 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:24.323 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:24.324 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4907ms
2025-03-14 18:34:24.327 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:24.329 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:24.329 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:24.330 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:34:24.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:34:24.337 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:24.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:24.347 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:24.349 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:34:24.350 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.6169ms
2025-03-14 18:34:24.350 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:24.351 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.2773ms
2025-03-14 18:34:24.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:34:24.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:24.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:34:24.363 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:34:24.364 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:24.366 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:34:24.367 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.8076ms
2025-03-14 18:34:24.369 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.4278ms
2025-03-14 18:34:24.369 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.7733ms
2025-03-14 18:34:25.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:25.364 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:25.365 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:25.367 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:25.367 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.6271ms
2025-03-14 18:34:25.368 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.4815ms
2025-03-14 18:34:25.373 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:25.375 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:25.376 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.8883ms
2025-03-14 18:34:25.379 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:25.380 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:25.381 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:25.382 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:34:25.387 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:34:25.389 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:34:25.390 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.8042ms
2025-03-14 18:34:25.391 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:25.392 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.1738ms
2025-03-14 18:34:25.400 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:25.401 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:25.402 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:25.404 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:25.404 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.6217ms
2025-03-14 18:34:25.406 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.2341ms
2025-03-14 18:34:26.328 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:26.328 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:34:26.329 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:26.330 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:26.332 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:34:26.333 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:26.333 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.3695ms
2025-03-14 18:34:26.334 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.0538ms
2025-03-14 18:34:26.335 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.7015ms
2025-03-14 18:34:26.359 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:34:26.361 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:26.361 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 1.7644ms
2025-03-14 18:34:26.363 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:34:26.365 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:26.366 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:34:26.366 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:34:26.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:34:26.374 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:34:26.375 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.7771ms
2025-03-14 18:34:26.376 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:34:26.377 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.4616ms
2025-03-14 18:34:26.402 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:26.402 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:34:26.404 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:26.405 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:26.406 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:34:26.409 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:26.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.9751ms
2025-03-14 18:34:26.410 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 7.4298ms
2025-03-14 18:34:26.411 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.7986ms
2025-03-14 18:34:27.677 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:34:27.680 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:27.681 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 204 null null 4.0314ms
2025-03-14 18:34:27.684 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:34:27.685 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:27.686 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:34:27.687 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:34:27.693 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-03-14 18:34:27.695 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-03-14 18:34:27.696 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 7.872ms
2025-03-14 18:34:27.698 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:34:27.699 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 200 null application/json; charset=utf-8 15.0908ms
2025-03-14 18:34:27.703 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:34:27.705 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:27.705 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 204 null null 2.6045ms
2025-03-14 18:34:27.708 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:34:27.709 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:27.710 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:34:27.711 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-03-14 18:34:27.717 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[DescriptionSource], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[SunshineDuration], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_ImageSource0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[DescriptionSource], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[SunshineDuration], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_ImageSource] AS [Designation_ImageSource0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-03-14 18:34:27.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-03-14 18:34:27.726 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:34:27.729 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 17.3863ms
2025-03-14 18:34:27.730 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:34:27.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 200 null application/json; charset=utf-8 22.99ms
2025-03-14 18:34:27.739 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:34:27.741 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:34:27.742 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 2.9267ms
2025-03-14 18:34:27.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:34:27.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 18:34:27.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 18:34:27.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 18:34:27.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 18:34:27.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 18:34:27.765 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:34:27.766 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 18:34:27.768 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 18:34:27.769 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 18:34:27.775 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 12.4338ms
2025-03-14 18:34:27.772 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 18:34:27.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 13.5738ms
2025-03-14 18:34:27.773 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 13.5639ms
2025-03-14 18:34:27.774 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 12.9482ms
2025-03-14 18:34:27.771 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 18:34:27.779 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 15.4895ms
2025-03-14 18:34:27.786 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 22.6462ms
2025-03-14 18:34:31.996 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:31.998 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:31.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.6502ms
2025-03-14 18:34:31.999 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:32.001 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:32.002 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.2702ms
2025-03-14 18:34:32.007 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:32.008 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:32.009 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.2665ms
2025-03-14 18:34:32.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:34:32.013 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:32.014 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:32.015 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:34:32.019 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:34:32.021 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:34:32.022 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.054ms
2025-03-14 18:34:32.023 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:34:32.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 12.1072ms
2025-03-14 18:34:32.030 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:32.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:32.032 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:32.035 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:32.035 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.0637ms
2025-03-14 18:34:32.036 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.0345ms
2025-03-14 18:34:33.256 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:33.258 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:33.258 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.1975ms
2025-03-14 18:34:33.260 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:34:33.262 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:33.263 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:33.264 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:34:33.268 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:34:33.271 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:33.275 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:33.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:34:33.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:34:33.284 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.7652ms
2025-03-14 18:34:33.285 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:34:33.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.3704ms
2025-03-14 18:34:33.297 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:34:33.298 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:33.299 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:34:33.299 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:34:33.301 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:33.303 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:34:33.303 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.4832ms
2025-03-14 18:34:33.304 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.6363ms
2025-03-14 18:34:33.305 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.8375ms
2025-03-14 18:34:34.530 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 18:34:34.532 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:34.533 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.7518ms
2025-03-14 18:34:34.537 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 18:34:34.538 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:34.539 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:34:34.540 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:34:34.544 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 18:34:34.550 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 18:34:34.558 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:34:34.560 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:34:34.562 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 20.4811ms
2025-03-14 18:34:34.564 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:34:34.565 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 28.5428ms
2025-03-14 18:34:34.579 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:34:34.580 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:34:34.582 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.9201ms
2025-03-14 18:34:34.582 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:34.585 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:34.587 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.3929ms
2025-03-14 18:34:34.587 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 18:34:34.592 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 18:34:34.593 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 5.6528ms
2025-03-14 18:34:36.278 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:34:36.281 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:34:36.282 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.3737ms
2025-03-14 18:34:38.274 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - null null
2025-03-14 18:34:38.276 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:38.278 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - 204 null null 3.7898ms
2025-03-14 18:34:38.280 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - null null
2025-03-14 18:34:38.281 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:38.282 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:34:38.283 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:34:38.288 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 18:34:38.295 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:34:38.296 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 11.422ms
2025-03-14 18:34:38.297 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:34:38.298 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/2416877a-463f-4062-aef2-5e851274a95c - 200 null application/json; charset=utf-8 18.1373ms
2025-03-14 18:34:38.310 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - null null
2025-03-14 18:34:38.312 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:38.312 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - 204 null null 2.4615ms
2025-03-14 18:34:38.314 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - application/json 81
2025-03-14 18:34:38.315 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:34:38.316 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 18:34:38.317 +01:00 [INF] Route matched with {action = "AddNewPackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewPackage(System.Guid, api.Controllers.Stocks.dto.PackageDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 18:34:38.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Id0], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[Id1], [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM (
    SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id] = [p].[StockId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-03-14 18:34:38.337 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Date), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Packages] ([Id], [CreationDate], [ExpirationDate], [PurchaseDate], [RemainingQuantity], [StockId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-14 18:34:38.342 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Packages] SET [StockId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Stocks] SET [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-03-14 18:34:38.349 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:34:38.351 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.AddNewPackage (api) in 29.3401ms
2025-03-14 18:34:38.351 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.AddNewPackage (api)'
2025-03-14 18:34:38.352 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a/package - 201 null application/json; charset=utf-8 38.0829ms
2025-03-14 18:35:36.733 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:35:36.735 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:35:36.736 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:35:36.736 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.921ms
2025-03-14 18:35:36.737 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:35:36.740 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.842ms
2025-03-14 18:35:36.741 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 18:35:36.742 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 18:35:36.744 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 2.5009ms
2025-03-14 18:36:19.956 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:19.957 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:19.958 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:19.958 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.6775ms
2025-03-14 18:36:19.960 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:19.962 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.4217ms
2025-03-14 18:36:19.967 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:19.969 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:19.970 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.7089ms
2025-03-14 18:36:19.974 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:19.976 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:19.977 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:19.978 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:36:19.982 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:36:19.984 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:36:19.986 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.3864ms
2025-03-14 18:36:19.986 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:19.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 13.1837ms
2025-03-14 18:36:20.000 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:20.003 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:20.005 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.3383ms
2025-03-14 18:36:20.005 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:20.010 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:20.014 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.6993ms
2025-03-14 18:36:21.251 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:21.251 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:21.253 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:21.253 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:21.254 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:21.256 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:21.256 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.0467ms
2025-03-14 18:36:21.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.7154ms
2025-03-14 18:36:21.258 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.0158ms
2025-03-14 18:36:21.264 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:36:21.265 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 18:36:21.266 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:36:21.267 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 18:36:21.267 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 18:36:21.268 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 3.7985ms
2025-03-14 18:36:21.269 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 18:36:21.270 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 4.4812ms
2025-03-14 18:36:21.273 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 18:36:21.273 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 6.7697ms
2025-03-14 18:36:21.274 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 18:36:21.275 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 18:36:21.277 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 18:36:21.280 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 18:36:21.281 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 18:36:21.281 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 8.7397ms
2025-03-14 18:36:21.282 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 8.0811ms
2025-03-14 18:36:21.283 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 7.6279ms
2025-03-14 18:36:21.304 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:21.305 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:21.306 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.0644ms
2025-03-14 18:36:21.308 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:21.309 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:21.310 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:21.310 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:21.314 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:36:21.316 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:36:21.318 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.6142ms
2025-03-14 18:36:21.318 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:21.319 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.3567ms
2025-03-14 18:36:21.356 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:21.356 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:21.358 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:21.359 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:21.360 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:21.363 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:21.364 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.1843ms
2025-03-14 18:36:21.365 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 9.0642ms
2025-03-14 18:36:21.366 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.8029ms
2025-03-14 18:36:22.795 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:36:22.797 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:22.798 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6827ms
2025-03-14 18:36:22.800 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:36:22.801 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:22.802 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:36:22.802 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:36:22.806 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:36:22.810 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:36:22.814 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:36:22.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:36:22.818 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:36:22.819 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 16.2373ms
2025-03-14 18:36:22.820 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:36:22.821 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 21.6026ms
2025-03-14 18:36:22.834 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:36:22.835 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:22.836 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:36:22.837 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:36:22.839 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:22.841 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:36:22.841 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.7387ms
2025-03-14 18:36:22.842 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.5254ms
2025-03-14 18:36:22.843 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.3695ms
2025-03-14 18:36:23.889 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:23.891 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:23.892 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:23.893 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:23.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.3829ms
2025-03-14 18:36:23.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.2286ms
2025-03-14 18:36:23.899 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:23.901 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:23.902 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.2781ms
2025-03-14 18:36:23.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:23.906 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:23.907 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:23.908 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:36:23.912 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:36:23.915 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:36:23.916 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.0811ms
2025-03-14 18:36:23.917 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:23.918 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.2164ms
2025-03-14 18:36:23.925 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:23.927 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:23.927 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:23.928 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:23.929 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.6844ms
2025-03-14 18:36:23.930 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 2.8136ms
2025-03-14 18:36:24.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:24.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:24.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:24.511 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:24.513 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:24.514 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:24.515 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.2521ms
2025-03-14 18:36:24.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.9248ms
2025-03-14 18:36:24.517 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 7.5089ms
2025-03-14 18:36:24.521 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 18:36:24.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:36:24.524 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 18:36:24.525 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 18:36:24.525 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 18:36:24.526 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:36:24.528 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 18:36:24.528 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 7.2078ms
2025-03-14 18:36:24.530 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 18:36:24.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 8.1414ms
2025-03-14 18:36:24.533 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 9.3263ms
2025-03-14 18:36:24.535 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 18:36:24.536 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 10.2242ms
2025-03-14 18:36:24.537 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 18:36:24.541 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 18:36:24.544 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 18:36:24.544 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 8.7859ms
2025-03-14 18:36:24.545 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 7.5703ms
2025-03-14 18:36:24.560 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:24.561 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:24.562 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1857ms
2025-03-14 18:36:24.564 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:24.566 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:24.567 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:24.568 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:24.571 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:36:24.574 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:36:24.575 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 5.8445ms
2025-03-14 18:36:24.575 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:24.577 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.3163ms
2025-03-14 18:36:24.609 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:24.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:24.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:24.612 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:24.614 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:24.615 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:24.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.9857ms
2025-03-14 18:36:24.618 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 7.5231ms
2025-03-14 18:36:24.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 8.1645ms
2025-03-14 18:36:25.892 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:36:25.893 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:25.894 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 204 null null 1.7723ms
2025-03-14 18:36:25.896 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:36:25.897 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:25.898 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:36:25.899 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:25.903 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-03-14 18:36:25.907 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-03-14 18:36:25.908 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 8.0189ms
2025-03-14 18:36:25.909 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:36:25.910 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 200 null application/json; charset=utf-8 13.6699ms
2025-03-14 18:36:25.914 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:36:25.916 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:25.917 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 204 null null 2.6918ms
2025-03-14 18:36:25.919 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:36:25.920 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:25.921 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:36:25.922 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-03-14 18:36:25.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[DescriptionSource], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[SunshineDuration], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_ImageSource0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[DescriptionSource], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[SunshineDuration], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_ImageSource] AS [Designation_ImageSource0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-03-14 18:36:25.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-03-14 18:36:25.933 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:36:25.934 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 10.6055ms
2025-03-14 18:36:25.936 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:36:25.937 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 200 null application/json; charset=utf-8 17.7699ms
2025-03-14 18:36:25.944 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:25.946 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:25.947 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.2447ms
2025-03-14 18:36:30.829 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/step - null null
2025-03-14 18:36:30.831 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.831 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/step - 204 null null 2.211ms
2025-03-14 18:36:30.833 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/step - application/json 29
2025-03-14 18:36:30.835 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.836 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewStep (api)'
2025-03-14 18:36:30.837 +01:00 [INF] Route matched with {action = "AddNewStep", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStep(System.Guid, api.Controllers.Flows.dto.NewStageDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:30.841 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id1], [t].[Id0], [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [u].[Id] AS [Id1]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Events] AS [e] ON [t].[Id] = [e].[FlowId]
ORDER BY [t].[Id], [t].[Id1], [t].[Id0]
2025-03-14 18:36:30.849 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStage_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
WHERE [s].[Id] = @__newStage_Id_0
2025-03-14 18:36:30.859 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:36:30.864 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 18:36:30.871 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid), @p5='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [FlowId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Flows] SET [CurrentStageId] = @p2, [NumberOfDaysSinceStart] = @p3, [UpdateDate] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-03-14 18:36:30.880 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flow_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
LEFT JOIN [Flows] AS [f] ON [e].[FlowId] = [f].[Id]
WHERE [f].[Id] = @__flow_Id_0
2025-03-14 18:36:30.882 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:36:30.883 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewStep (api) in 45.2208ms
2025-03-14 18:36:30.884 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewStep (api)'
2025-03-14 18:36:30.885 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/step - 201 null application/json; charset=utf-8 51.2625ms
2025-03-14 18:36:30.889 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:30.890 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.891 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.0399ms
2025-03-14 18:36:30.893 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:36:30.894 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.895 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:30.896 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:30.899 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:36:30.904 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:36:30.904 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.8204ms
2025-03-14 18:36:30.905 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:36:30.906 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 13.5791ms
2025-03-14 18:36:30.910 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:36:30.912 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.912 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 204 null null 2.362ms
2025-03-14 18:36:30.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:30.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:30.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - null null
2025-03-14 18:36:30.918 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:30.919 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:30.920 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.921 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.2376ms
2025-03-14 18:36:30.921 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.4717ms
2025-03-14 18:36:30.922 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:36:30.926 +01:00 [INF] Route matched with {action = "GetFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlow(System.Guid) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:30.932 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Designation_Image], [t].[Id0], [t].[Label], [t].[Id2], [t].[Id3], [t].[Id4], [t].[Id1], [t0].[Id], [t0].[Id0], [t0].[Label], [t0].[Image], [t0].[Date], [t].[IsClosed], [t].[Year], [t].[c], [t].[c0], [t].[Label0], [t].[Image]
FROM (
    SELECT TOP(2) [v].[Id], [f0].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [v].[Designation_Image], [c].[Id] AS [Id0], [c].[Label], [f].[IsClosed], [f].[Year], (
        SELECT TOP(1) [e].[Date]
        FROM [Events] AS [e]
        WHERE [f].[Id] = [e].[FlowId]
        ORDER BY [e].[Date] DESC) AS [c], (
        SELECT TOP(1) [e0].[Date]
        FROM [Events] AS [e0]
        WHERE [f].[Id] = [e0].[FlowId]
        ORDER BY [e0].[Date]) AS [c0], [s].[Id] AS [Id1], [s].[Label] AS [Label0], [s].[Image], [f].[Id] AS [Id2], [u].[Id] AS [Id3], [f0].[Id] AS [Id4]
    FROM [Flows] AS [f]
    INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    INNER JOIN [Stages] AS [s] ON [f].[CurrentStageId] = [s].[Id]
    WHERE [f].[Id] = @__flowId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN (
    SELECT [e1].[Id], [s0].[Id] AS [Id0], [s0].[Label], [s0].[Image], [e1].[Date], [e1].[FlowId]
    FROM [Events] AS [e1]
    INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
) AS [t0] ON [t].[Id2] = [t0].[FlowId]
ORDER BY [t].[Id2], [t].[Id3], [t].[Id], [t].[Id4], [t].[Id0], [t].[Id1], [t0].[Date], [t0].[Id]
2025-03-14 18:36:30.934 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.FlowDetailDto'.
2025-03-14 18:36:30.935 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlow (api) in 7.2281ms
2025-03-14 18:36:30.936 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlow (api)'
2025-03-14 18:36:30.937 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows/f07d931f-1288-4912-8394-27c69c6753ec - 200 null application/json; charset=utf-8 19.5342ms
2025-03-14 18:36:30.940 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:36:30.942 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.942 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 204 null null 2.2256ms
2025-03-14 18:36:30.945 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - null null
2025-03-14 18:36:30.946 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:30.947 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:36:30.948 +01:00 [INF] Route matched with {action = "GetStages", controller = "Stage"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStages(System.Guid) on controller api.Controllers.Flows.StageController (api).
2025-03-14 18:36:30.952 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreationDate], [t].[CurrentStageId], [t].[IsClosed], [t].[NumberOfDaysSinceStart], [t].[UpdateDate], [t].[UserId], [t].[VariantId], [t].[Year], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id], [t0].[CreationDate], [t0].[Date], [t0].[FlowId], [t0].[StageId], [t0].[UpdateDate], [t0].[Id0], [t0].[CategoryId], [t0].[Image], [t0].[IsMultiple], [t0].[Label], [t0].[Rank], [t].[CreationDate0], [t].[FamilyId], [t].[MaxMaturationDaysCount], [t].[MinMaturationDaysCount], [t].[UpdateDate0], [t].[Designation_Image], [t].[Designation_ImageSource], [t].[Designation_Name], [t].[HarvestMonths_April], [t].[HarvestMonths_August], [t].[HarvestMonths_December], [t].[HarvestMonths_February], [t].[HarvestMonths_January], [t].[HarvestMonths_July], [t].[HarvestMonths_June], [t].[HarvestMonths_March], [t].[HarvestMonths_May], [t].[HarvestMonths_November], [t].[HarvestMonths_October], [t].[HarvestMonths_September], [t].[SowingMonths_April], [t].[SowingMonths_August], [t].[SowingMonths_December], [t].[SowingMonths_February], [t].[SowingMonths_January], [t].[SowingMonths_July], [t].[SowingMonths_June], [t].[SowingMonths_March], [t].[SowingMonths_May], [t].[SowingMonths_November], [t].[SowingMonths_October], [t].[SowingMonths_September], [t].[CategoryId], [t].[CreationDate1], [t].[Description], [t].[DescriptionSource], [t].[GerminationMinimalTemperature], [t].[GerminationOptimaleTemperature], [t].[IdealGrowingTemperature], [t].[MaximumRisingTime], [t].[MinimalRisingTime], [t].[SunshineDuration], [t].[UpdateDate1], [t].[ZeroVegetation], [t].[Designation_Image0], [t].[Designation_ImageSource0], [t].[Designation_Name0], [t].[Image], [t].[Label]
FROM (
    SELECT TOP(2) [f].[Id], [f].[CreationDate], [f].[CurrentStageId], [f].[IsClosed], [f].[NumberOfDaysSinceStart], [f].[UpdateDate], [f].[UserId], [f].[VariantId], [f].[Year], [v].[Id] AS [Id0], [v].[CreationDate] AS [CreationDate0], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate] AS [UpdateDate0], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f0].[Id] AS [Id1], [f0].[CategoryId], [f0].[CreationDate] AS [CreationDate1], [f0].[Description], [f0].[DescriptionSource], [f0].[GerminationMinimalTemperature], [f0].[GerminationOptimaleTemperature], [f0].[IdealGrowingTemperature], [f0].[MaximumRisingTime], [f0].[MinimalRisingTime], [f0].[SunshineDuration], [f0].[UpdateDate] AS [UpdateDate1], [f0].[ZeroVegetation], [f0].[Designation_Image] AS [Designation_Image0], [f0].[Designation_ImageSource] AS [Designation_ImageSource0], [f0].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id2], [c].[Image], [c].[Label]
    FROM [Flows] AS [f]
    INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
    INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
    WHERE [f].[Id] = @__flowId_0
) AS [t]
LEFT JOIN (
    SELECT [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate], [s].[Id] AS [Id0], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[FlowId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[Id]
2025-03-14 18:36:30.958 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__type_Id_0='?' (DbType = Int32), @__flow_CurrentStage_Rank_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Label], [s].[Image], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__type_Id_0 AND ([s].[Rank] > @__flow_CurrentStage_Rank_1 OR [s].[IsMultiple] = CAST(1 AS bit))
2025-03-14 18:36:30.960 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:36:30.961 +01:00 [INF] Executed action api.Controllers.Flows.StageController.GetStages (api) in 11.8365ms
2025-03-14 18:36:30.962 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.StageController.GetStages (api)'
2025-03-14 18:36:30.963 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flow/f07d931f-1288-4912-8394-27c69c6753ec/stages - 200 null application/json; charset=utf-8 18.0754ms
2025-03-14 18:36:30.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:30.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 18:36:30.972 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:30.973 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 18:36:30.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.8182ms
2025-03-14 18:36:30.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 5.5683ms
2025-03-14 18:36:34.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:34.612 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:34.616 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:34.618 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:34.618 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.7571ms
2025-03-14 18:36:34.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.6163ms
2025-03-14 18:36:34.622 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:34.624 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:34.625 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.401ms
2025-03-14 18:36:34.627 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:34.629 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:34.630 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:34.631 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:36:34.635 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:36:34.639 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:36:34.640 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.5669ms
2025-03-14 18:36:34.641 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:34.642 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.0176ms
2025-03-14 18:36:34.651 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:34.653 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:34.653 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:34.660 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:34.660 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 8.5775ms
2025-03-14 18:36:34.661 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 7.9654ms
2025-03-14 18:36:35.954 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:36:35.955 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:35.956 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 2.1588ms
2025-03-14 18:36:35.958 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:36:35.959 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:35.960 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:36:35.961 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:36:35.965 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:36:35.967 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:36:35.969 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 7.0008ms
2025-03-14 18:36:35.970 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:36:35.971 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 12.8482ms
2025-03-14 18:36:35.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:35.984 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:36:35.986 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:35.987 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:35.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.3797ms
2025-03-14 18:36:35.988 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 3.9056ms
2025-03-14 18:36:35.992 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:36:35.994 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:35.995 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:36:35.995 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:36:36.000 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:36:36.001 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:36:36.002 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 5.1987ms
2025-03-14 18:36:36.003 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:36:36.004 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 12.0364ms
2025-03-14 18:36:36.020 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:36:36.020 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:36:36.022 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:36:36.023 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:36:36.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.8149ms
2025-03-14 18:36:36.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 4.3794ms
2025-03-14 18:36:39.713 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - null null
2025-03-14 18:36:39.713 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-03-14 18:36:39.715 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.716 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.716 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 3.6284ms
2025-03-14 18:36:39.717 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 3.6672ms
2025-03-14 18:36:39.719 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-03-14 18:36:39.721 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - application/json 25
2025-03-14 18:36:39.722 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.723 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.724 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:36:39.724 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:36:39.725 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:36:39.725 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 18:36:39.731 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-03-14 18:36:39.731 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-03-14 18:36:39.735 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-03-14 18:36:39.748 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:36:39.748 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Packages] SET [RemainingQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:36:39.753 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-14 18:36:39.753 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 18:36:39.753 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 24.9862ms
2025-03-14 18:36:39.755 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:36:39.756 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:36:39.756 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/711aade5-d8d3-45ed-b654-d23d38ea1b78 - 204 null null 35.269ms
2025-03-14 18:36:39.761 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:39.763 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.763 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.0618ms
2025-03-14 18:36:39.764 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-03-14 18:36:39.766 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:36:39.769 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:36:39.770 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:39.770 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:36:39.772 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:36:39.773 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 46.5288ms
2025-03-14 18:36:39.774 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:36:39.775 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:36:39.775 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 56.223ms
2025-03-14 18:36:39.778 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:36:39.780 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 8.6377ms
2025-03-14 18:36:39.781 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:36:39.782 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 16.3194ms
2025-03-14 18:36:39.792 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:36:39.794 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:36:39.794 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:36:39.794 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.7444ms
2025-03-14 18:36:39.796 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:36:39.799 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.5099ms
2025-03-14 18:37:00.981 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:00.984 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:00.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:00.984 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.3562ms
2025-03-14 18:37:00.986 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:00.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.3177ms
2025-03-14 18:37:00.995 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:00.998 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:00.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 3.0487ms
2025-03-14 18:37:01.011 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:37:01.011 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:01.012 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:01.013 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:01.013 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 2.7594ms
2025-03-14 18:37:01.014 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 2.832ms
2025-03-14 18:37:01.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:01.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:37:01.017 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:01.018 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:01.019 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:01.019 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:01.020 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:01.020 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:01.024 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:01.025 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:37:01.026 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:01.029 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:37:01.030 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 9.0433ms
2025-03-14 18:37:01.031 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 8.5519ms
2025-03-14 18:37:01.031 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:37:01.032 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:01.033 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:01.035 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 19.2343ms
2025-03-14 18:37:01.035 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:37:01.036 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 19.42ms
2025-03-14 18:37:01.039 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 7.834ms
2025-03-14 18:37:04.063 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:37:04.064 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.065 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.42ms
2025-03-14 18:37:04.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:37:04.069 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.070 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:37:04.071 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:37:04.075 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:37:04.079 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:04.083 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:04.088 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:04.090 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:04.092 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.742ms
2025-03-14 18:37:04.093 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:37:04.094 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 26.7145ms
2025-03-14 18:37:04.135 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:37:04.136 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:04.137 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:37:04.139 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:37:04.139 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:04.139 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 3.9462ms
2025-03-14 18:37:04.142 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:37:04.142 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.0255ms
2025-03-14 18:37:04.148 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 9.4309ms
2025-03-14 18:37:04.723 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:04.726 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:04.726 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:04.726 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.4545ms
2025-03-14 18:37:04.728 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:04.731 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.397ms
2025-03-14 18:37:04.739 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:04.741 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:37:04.741 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:04.744 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:37:04.745 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.3138ms
2025-03-14 18:37:04.745 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 4.5195ms
2025-03-14 18:37:04.755 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:04.756 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:37:04.756 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:04.757 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.758 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.759 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 4.4792ms
2025-03-14 18:37:04.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 204 null null 4.7506ms
2025-03-14 18:37:04.761 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 4.7107ms
2025-03-14 18:37:04.763 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:04.764 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:04.766 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - null null
2025-03-14 18:37:04.769 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.771 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.773 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:04.774 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:04.774 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:04.774 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:04.775 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:04.776 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:04.777 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:04.781 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:04.782 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:37:04.783 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:04.788 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:37:04.790 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 11.9369ms
2025-03-14 18:37:04.791 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 12.2089ms
2025-03-14 18:37:04.792 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:04.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 32.1943ms
2025-03-14 18:37:04.793 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:04.805 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 41.0907ms
2025-03-14 18:37:04.838 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:04.843 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:04.843 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:04.845 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:37:04.845 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:04.845 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.0126ms
2025-03-14 18:37:04.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:37:04.848 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.8695ms
2025-03-14 18:37:04.850 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 68.9911ms
2025-03-14 18:37:04.854 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:04.855 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/c1c6887c-84bb-4cfd-a664-3041f4c47fca - 200 null application/json; charset=utf-8 88.1047ms
2025-03-14 18:37:05.977 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:37:05.979 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:05.979 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 204 null null 1.772ms
2025-03-14 18:37:05.981 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:37:05.983 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:05.984 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:05.985 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:05.989 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:37:05.992 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:37:05.993 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 6.7583ms
2025-03-14 18:37:05.994 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:05.994 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 200 null application/json; charset=utf-8 13.0202ms
2025-03-14 18:37:06.007 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:06.009 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:37:06.009 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:06.011 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:37:06.012 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.0042ms
2025-03-14 18:37:06.013 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 3.4978ms
2025-03-14 18:37:06.027 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:06.028 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:06.029 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:06.030 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:06.031 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:06.033 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:06.034 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.4107ms
2025-03-14 18:37:06.034 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.7373ms
2025-03-14 18:37:06.035 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 5.7991ms
2025-03-14 18:37:06.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:06.040 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:06.041 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:06.042 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:06.044 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:06.044 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:06.044 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:06.045 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:06.048 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:06.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:06.050 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:06.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:06.052 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 6.3928ms
2025-03-14 18:37:06.053 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 6.19ms
2025-03-14 18:37:06.054 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:06.055 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:06.055 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 18.0078ms
2025-03-14 18:37:06.056 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 16.6713ms
2025-03-14 18:37:08.639 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/553ca830-8610-4490-958d-74e6aa3e7bb9 - null null
2025-03-14 18:37:08.639 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - null null
2025-03-14 18:37:08.641 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.643 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.643 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/package/553ca830-8610-4490-958d-74e6aa3e7bb9 - 204 null null 3.699ms
2025-03-14 18:37:08.643 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flow - 204 null null 4.124ms
2025-03-14 18:37:08.646 +01:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5000/services/v1/package/553ca830-8610-4490-958d-74e6aa3e7bb9 - application/json 26
2025-03-14 18:37:08.648 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/flow - application/json 95
2025-03-14 18:37:08.649 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.650 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.651 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:37:08.651 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:37:08.652 +01:00 [INF] Route matched with {action = "UpdatePackage", controller = "Package"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePackage(System.Guid, api.Controllers.Stocks.dto.StockQuantityDto) on controller api.Controllers.Stocks.PackageController (api).
2025-03-14 18:37:08.652 +01:00 [INF] Route matched with {action = "AddNewFlow", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewFlow(api.Controllers.Flows.dto.NewFlowDto) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:37:08.656 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__packageId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CreationDate], [p].[ExpirationDate], [p].[PurchaseDate], [p].[RemainingQuantity], [p].[StockId], [p].[UpdateDate]
FROM [Packages] AS [p]
WHERE [p].[Id] = @__packageId_0
2025-03-14 18:37:08.656 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__flowDto_VariantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [v].[Id], [v].[CreationDate], [v].[FamilyId], [v].[MaxMaturationDaysCount], [v].[MinMaturationDaysCount], [v].[UpdateDate], [v].[Designation_Image], [v].[Designation_ImageSource], [v].[Designation_Name], [v].[HarvestMonths_April], [v].[HarvestMonths_August], [v].[HarvestMonths_December], [v].[HarvestMonths_February], [v].[HarvestMonths_January], [v].[HarvestMonths_July], [v].[HarvestMonths_June], [v].[HarvestMonths_March], [v].[HarvestMonths_May], [v].[HarvestMonths_November], [v].[HarvestMonths_October], [v].[HarvestMonths_September], [v].[SowingMonths_April], [v].[SowingMonths_August], [v].[SowingMonths_December], [v].[SowingMonths_February], [v].[SowingMonths_January], [v].[SowingMonths_July], [v].[SowingMonths_June], [v].[SowingMonths_March], [v].[SowingMonths_May], [v].[SowingMonths_November], [v].[SowingMonths_October], [v].[SowingMonths_September], [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Variants] AS [v]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [v].[Id] = @__flowDto_VariantId_0
2025-03-14 18:37:08.661 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flowDto_StartStageId_0='?' (DbType = Int32), @__variant_Family_Category_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CategoryId], [s].[Image], [s].[IsMultiple], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [s].[Id] = @__flowDto_StartStageId_0 AND [c].[Id] = @__variant_Family_Category_Id_1
2025-03-14 18:37:08.672 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Packages] SET [RemainingQuantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:37:08.677 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-14 18:37:08.677 +01:00 [INF] Executed action api.Controllers.Stocks.PackageController.UpdatePackage (api) in 24.0909ms
2025-03-14 18:37:08.678 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Date), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Events] ([Id], [CreationDate], [Date], [FlowId], [StageId], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 18:37:08.678 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.PackageController.UpdatePackage (api)'
2025-03-14 18:37:08.681 +01:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5000/services/v1/package/553ca830-8610-4490-958d-74e6aa3e7bb9 - 204 null null 35.285ms
2025-03-14 18:37:08.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newEventId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [e].[Id], [e].[CreationDate], [e].[Date], [e].[FlowId], [e].[StageId], [e].[UpdateDate]
FROM [Events] AS [e]
WHERE [e].[Id] = @__newEventId_0
2025-03-14 18:37:08.688 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:08.688 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:08.689 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.691 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.8618ms
2025-03-14 18:37:08.694 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:08.696 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:08.696 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32), @p10='?' (DbType = Guid), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Flows] ([Id], [CreationDate], [CurrentStageId], [IsClosed], [NumberOfDaysSinceStart], [UpdateDate], [UserId], [VariantId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
UPDATE [Events] SET [FlowId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-03-14 18:37:08.697 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:08.699 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:08.703 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:37:08.703 +01:00 [INF] Executing CreatedResult, writing value of type 'System.Guid'.
2025-03-14 18:37:08.707 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:37:08.708 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.AddNewFlow (api) in 53.2011ms
2025-03-14 18:37:08.708 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 7.6912ms
2025-03-14 18:37:08.709 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.AddNewFlow (api)'
2025-03-14 18:37:08.710 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:08.711 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/flow - 201 null application/json; charset=utf-8 63.8ms
2025-03-14 18:37:08.712 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 17.9897ms
2025-03-14 18:37:08.750 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:08.751 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:08.753 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:08.755 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:08.756 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.0554ms
2025-03-14 18:37:08.757 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 6.166ms
2025-03-14 18:37:09.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:09.890 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:09.892 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:09.894 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:09.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.9362ms
2025-03-14 18:37:09.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 4.7956ms
2025-03-14 18:37:09.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - null null
2025-03-14 18:37:09.902 +01:00 [INF] Sending file. Request path: '/images/harvesting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\harvesting.jpg'
2025-03-14 18:37:09.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - null null
2025-03-14 18:37:09.903 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/harvesting.jpg - 200 93469 image/jpeg 3.1981ms
2025-03-14 18:37:09.906 +01:00 [INF] Sending file. Request path: '/images/fertilizing.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\fertilizing.jpg'
2025-03-14 18:37:09.907 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - null null
2025-03-14 18:37:09.908 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/fertilizing.jpg - 200 84805 image/jpeg 4.8764ms
2025-03-14 18:37:09.910 +01:00 [INF] Sending file. Request path: '/images/watering.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\watering.jpg'
2025-03-14 18:37:09.911 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - null null
2025-03-14 18:37:09.912 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - null null
2025-03-14 18:37:09.913 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/watering.jpg - 200 99447 image/jpeg 5.512ms
2025-03-14 18:37:09.915 +01:00 [INF] Sending file. Request path: '/images/recycling.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\recycling.jpg'
2025-03-14 18:37:09.916 +01:00 [INF] Sending file. Request path: '/images/cutting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\cutting.jpg'
2025-03-14 18:37:09.918 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/recycling.jpg - 200 197102 image/jpeg 7.4133ms
2025-03-14 18:37:09.919 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/cutting.jpg - 200 108485 image/jpeg 7.1262ms
2025-03-14 18:37:09.937 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:37:09.938 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:09.939 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.5285ms
2025-03-14 18:37:09.943 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 18:37:09.944 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:09.945 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:37:09.946 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 18:37:09.951 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 18:37:09.953 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 18:37:09.954 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 7.2004ms
2025-03-14 18:37:09.955 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 18:37:09.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 12.7156ms
2025-03-14 18:37:09.986 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:09.986 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:09.988 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:09.988 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:09.990 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:09.991 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:09.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.5119ms
2025-03-14 18:37:09.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.8969ms
2025-03-14 18:37:09.993 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.0393ms
2025-03-14 18:37:13.189 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:37:13.191 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:13.192 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.8383ms
2025-03-14 18:37:13.194 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:37:13.195 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:13.196 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:37:13.197 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:37:13.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:37:13.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:13.210 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:13.214 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:37:13.216 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:13.217 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.6917ms
2025-03-14 18:37:13.218 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:37:13.219 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 25.1134ms
2025-03-14 18:37:13.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:37:13.241 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:13.241 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:37:13.242 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:37:13.243 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:13.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 3.7509ms
2025-03-14 18:37:13.245 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:37:13.246 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.8552ms
2025-03-14 18:37:13.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.9581ms
2025-03-14 18:37:14.736 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 18:37:14.739 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:14.739 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Carotte - 204 null null 3.0225ms
2025-03-14 18:37:14.741 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - null null
2025-03-14 18:37:14.743 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:14.744 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:37:14.745 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:37:14.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 18:37:14.753 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 18:37:14.761 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 18:37:14.762 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:14.763 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 17.1666ms
2025-03-14 18:37:14.764 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 18:37:14.765 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Carotte - 200 null application/json; charset=utf-8 24.3204ms
2025-03-14 18:37:14.778 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:37:14.782 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:37:14.783 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.1875ms
2025-03-14 18:37:15.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:37:15.758 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:37:15.759 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 2.8646ms
2025-03-14 18:37:19.572 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 18:37:19.574 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:19.575 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 204 null null 2.4008ms
2025-03-14 18:37:19.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - null null
2025-03-14 18:37:19.578 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:19.580 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:37:19.580 +01:00 [INF] Route matched with {action = "GetStockByProduct", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStockByProduct(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:19.584 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [v].[Id] = @__productId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id], [t].[Id2], [t].[Id3], [t].[Id0]
2025-03-14 18:37:19.587 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-14 18:37:19.587 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStockByProduct (api) in 5.7918ms
2025-03-14 18:37:19.588 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStockByProduct (api)'
2025-03-14 18:37:19.589 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/product/1b2208fc-1354-42cf-9efe-a0b3123b6a26 - 404 null application/json; charset=utf-8 12.588ms
2025-03-14 18:37:19.593 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - null null
2025-03-14 18:37:19.595 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:19.596 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock - 204 null null 2.5099ms
2025-03-14 18:37:19.598 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/stock - application/json 52
2025-03-14 18:37:19.599 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:19.600 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 18:37:19.600 +01:00 [INF] Route matched with {action = "AddNewStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewStock(api.Controllers.Stocks.dto.NewStockDto) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:19.604 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newStock_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [s].[Id], [s].[CreationDate], [s].[UpdateDate], [s].[UserId], [s].[VariantId]
FROM [Stocks] AS [s]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
WHERE [v].[Id] = @__newStock_ProductId_0
2025-03-14 18:37:19.607 +01:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-03-14 18:37:19.609 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.AddNewStock (api) in 7.2035ms
2025-03-14 18:37:19.610 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.AddNewStock (api)'
2025-03-14 18:37:19.610 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/stock - 409 null application/json; charset=utf-8 12.6893ms
2025-03-14 18:37:20.899 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:20.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:20.901 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:20.903 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:20.904 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.2997ms
2025-03-14 18:37:20.904 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 2.8657ms
2025-03-14 18:37:20.913 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 18:37:20.915 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - null null
2025-03-14 18:37:20.916 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 18:37:20.917 +01:00 [INF] Sending file. Request path: '/images/planting.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\planting.jpg'
2025-03-14 18:37:20.918 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 5.3585ms
2025-03-14 18:37:20.919 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/planting.jpg - 200 94134 image/jpeg 3.3775ms
2025-03-14 18:37:20.936 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:20.937 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:37:20.937 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:20.938 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:20.942 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.943 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.944 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.945 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.946 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 9.4934ms
2025-03-14 18:37:20.946 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 204 null null 9.6066ms
2025-03-14 18:37:20.947 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 9.9988ms
2025-03-14 18:37:20.948 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/repository/stages/start?category=1 - 204 null null 9.5558ms
2025-03-14 18:37:20.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:20.952 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - null null
2025-03-14 18:37:20.954 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - null null
2025-03-14 18:37:20.956 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:37:20.957 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.958 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.960 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.961 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:20.961 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:20.962 +01:00 [INF] Executing endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:20.962 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:20.963 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:20.963 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:20.964 +01:00 [INF] Route matched with {action = "GetStartStagesByCategory", controller = "Repository"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStartStagesByCategory(Int32) on controller api.Controllers.RepositoryController (api).
2025-03-14 18:37:20.965 +01:00 [INF] Route matched with {action = "GetStock", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStock(System.Guid) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:20.966 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:37:20.969 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:20.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__category_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Image], [s].[Label], [s].[Rank]
FROM [Stages] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
WHERE [c].[Id] = @__category_0 AND [s].[Rank] <= 2
2025-03-14 18:37:20.972 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__stockId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Designation_Name], [t].[Designation_Name0], [t].[Id0], [t].[Label], [t].[Designation_Image], [t].[Id1], [t].[Id2], [t].[Id3], [p].[Id], [p].[ExpirationDate], [p].[RemainingQuantity], [p].[PurchaseDate]
FROM (
    SELECT TOP(2) [v].[Id], [f].[Designation_Name], [v].[Designation_Name] AS [Designation_Name0], [c].[Id] AS [Id0], [c].[Label], [v].[Designation_Image], [s].[Id] AS [Id1], [u].[Id] AS [Id2], [f].[Id] AS [Id3]
    FROM [Stocks] AS [s]
    INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
    INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
    WHERE [s].[Id] = @__stockId_0 AND [u].[Id] = @__userId_1
) AS [t]
LEFT JOIN [Packages] AS [p] ON [t].[Id1] = [p].[StockId]
ORDER BY [t].[Id1], [t].[Id2], [t].[Id], [t].[Id3], [t].[Id0]
2025-03-14 18:37:20.973 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:20.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Repositories.dto.StageDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:37:20.976 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.StockDto'.
2025-03-14 18:37:20.976 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 10.0283ms
2025-03-14 18:37:20.977 +01:00 [INF] Executed action api.Controllers.RepositoryController.GetStartStagesByCategory (api) in 9.8478ms
2025-03-14 18:37:20.978 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStock (api) in 8.4867ms
2025-03-14 18:37:20.979 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:20.980 +01:00 [INF] Executed endpoint 'api.Controllers.RepositoryController.GetStartStagesByCategory (api)'
2025-03-14 18:37:20.980 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStock (api)'
2025-03-14 18:37:20.981 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 30.4379ms
2025-03-14 18:37:20.982 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/repository/stages/start?category=1 - 200 null application/json; charset=utf-8 29.699ms
2025-03-14 18:37:20.984 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stock/6c43ea00-7721-4652-9434-d8e47fa28f6a - 200 null application/json; charset=utf-8 30.0563ms
2025-03-14 18:37:21.004 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:37:21.006 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:37:21.007 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 36.0892ms
2025-03-14 18:37:21.008 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:37:21.009 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 53.7195ms
2025-03-14 18:37:21.020 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:37:21.022 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:37:21.023 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:37:21.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.7457ms
2025-03-14 18:37:21.026 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:37:21.028 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.3214ms
2025-03-14 18:37:23.368 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:37:23.370 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:37:23.371 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.0191ms
2025-03-14 18:37:23.376 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:37:23.377 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:23.378 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.1364ms
2025-03-14 18:37:23.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:37:23.382 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:23.383 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:37:23.385 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:37:23.394 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:37:23.396 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:37:23.398 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.2116ms
2025-03-14 18:37:23.398 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:37:23.399 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 19.062ms
2025-03-14 18:37:23.413 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:37:23.415 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:37:23.416 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9117ms
2025-03-14 18:37:28.764 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:28.766 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:28.766 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3171ms
2025-03-14 18:37:28.768 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:28.770 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:28.771 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:28.772 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:28.776 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:28.778 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:28.779 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.5365ms
2025-03-14 18:37:28.780 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:28.780 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.8009ms
2025-03-14 18:37:28.943 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:28.945 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:28.946 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8186ms
2025-03-14 18:37:28.961 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:28.963 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:28.964 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:28.966 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:28.971 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:28.974 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:28.975 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.2577ms
2025-03-14 18:37:28.977 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:28.978 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.4999ms
2025-03-14 18:37:29.452 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:37:29.453 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:37:29.457 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:37:29.462 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.465 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.472 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.479 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 27.11ms
2025-03-14 18:37:29.486 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 32.8907ms
2025-03-14 18:37:29.487 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 29.6464ms
2025-03-14 18:37:29.495 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:37:29.504 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:37:29.511 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:37:29.513 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.516 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.520 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:29.521 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:37:29.522 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:37:29.523 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:37:29.524 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:37:29.525 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:37:29.526 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:37:29.538 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:29.542 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:37:29.544 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:37:29.545 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:29.547 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:37:29.548 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 17.3046ms
2025-03-14 18:37:29.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:37:29.551 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 13.1468ms
2025-03-14 18:37:29.553 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:37:29.554 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.8056ms
2025-03-14 18:37:29.555 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:37:29.556 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 61.3595ms
2025-03-14 18:37:29.557 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:37:29.558 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 53.6518ms
2025-03-14 18:37:29.561 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 50.3734ms
2025-03-14 18:37:29.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:37:29.613 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:37:29.614 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:37:29.614 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.4079ms
2025-03-14 18:37:29.617 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:37:29.621 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 7.1244ms
2025-03-14 18:37:36.586 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:36.589 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:36.590 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.1714ms
2025-03-14 18:37:36.594 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:36.596 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:36.597 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:36.598 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:36.603 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:36.605 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:36.606 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6027ms
2025-03-14 18:37:36.608 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:36.610 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.8237ms
2025-03-14 18:37:36.720 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:36.722 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:36.723 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9615ms
2025-03-14 18:37:36.738 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:36.740 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:36.741 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:36.743 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:36.752 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:36.757 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:36.759 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 12.3868ms
2025-03-14 18:37:36.760 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:36.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 26.0367ms
2025-03-14 18:37:47.807 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:47.809 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:47.810 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.147ms
2025-03-14 18:37:47.813 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:47.815 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:47.816 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:47.817 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:47.821 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:47.823 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:47.824 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.5205ms
2025-03-14 18:37:47.826 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:47.829 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4985ms
2025-03-14 18:37:47.964 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:47.966 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:47.967 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5648ms
2025-03-14 18:37:47.976 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:47.983 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:47.984 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:47.985 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:47.989 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:47.990 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:47.992 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.3023ms
2025-03-14 18:37:47.995 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:47.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.4318ms
2025-03-14 18:37:55.264 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:55.267 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:55.268 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.357ms
2025-03-14 18:37:55.271 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:55.273 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:55.274 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:55.275 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:55.279 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:55.281 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:55.282 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6295ms
2025-03-14 18:37:55.283 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:55.284 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.6674ms
2025-03-14 18:37:55.396 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:55.398 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:55.399 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6649ms
2025-03-14 18:37:55.403 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:37:55.405 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:37:55.406 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:55.407 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:37:55.411 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:37:55.412 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:37:55.413 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.9573ms
2025-03-14 18:37:55.414 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:37:55.415 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.1044ms
2025-03-14 18:38:26.632 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:26.634 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:26.635 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7401ms
2025-03-14 18:38:26.638 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:26.640 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:26.641 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:26.642 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:26.646 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:26.648 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:26.649 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.8474ms
2025-03-14 18:38:26.650 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:26.651 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.3232ms
2025-03-14 18:38:26.777 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:26.783 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:26.784 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 6.6513ms
2025-03-14 18:38:26.802 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:26.809 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:26.812 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:26.815 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:26.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:26.824 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:26.825 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.6073ms
2025-03-14 18:38:26.826 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:26.827 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 24.429ms
2025-03-14 18:38:30.771 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:30.773 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:30.774 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9285ms
2025-03-14 18:38:30.776 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:30.778 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:30.779 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:30.779 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:30.783 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:30.786 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:30.787 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8627ms
2025-03-14 18:38:30.788 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:30.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.9625ms
2025-03-14 18:38:30.897 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:30.900 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:30.901 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.7754ms
2025-03-14 18:38:30.938 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:30.941 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:30.942 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:30.943 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:30.948 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:30.950 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:30.951 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3699ms
2025-03-14 18:38:30.953 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:30.954 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.182ms
2025-03-14 18:38:34.452 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:38:34.453 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:38:34.453 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:38:34.454 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.455 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.456 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.457 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.8975ms
2025-03-14 18:38:34.458 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.2305ms
2025-03-14 18:38:34.459 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.4157ms
2025-03-14 18:38:34.462 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:38:34.462 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:38:34.464 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 18:38:34.465 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.467 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.469 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:34.469 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:38:34.470 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:38:34.471 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:38:34.472 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:38:34.473 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:38:34.473 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 18:38:34.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:34.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:38:34.478 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:34.479 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:38:34.481 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:38:34.482 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 18:38:34.483 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.0077ms
2025-03-14 18:38:34.484 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 8.1753ms
2025-03-14 18:38:34.485 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 8.1924ms
2025-03-14 18:38:34.486 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:38:34.486 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:38:34.487 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 18:38:34.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.864ms
2025-03-14 18:38:34.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 25.9761ms
2025-03-14 18:38:34.489 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 25.2459ms
2025-03-14 18:38:34.506 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:38:34.508 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:38:34.509 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.8468ms
2025-03-14 18:38:34.513 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:38:34.515 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:38:34.516 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.9274ms
2025-03-14 18:38:34.518 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 18:38:34.520 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 18:38:34.521 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.8697ms
2025-03-14 18:38:36.786 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:38:36.788 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:36.789 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 3.4239ms
2025-03-14 18:38:36.794 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 18:38:36.797 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:36.798 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:38:36.799 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 18:38:36.804 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 18:38:36.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 18:38:36.809 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 9.0587ms
2025-03-14 18:38:36.810 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 18:38:36.811 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 16.734ms
2025-03-14 18:38:36.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:38:36.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 18:38:36.834 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:38:36.834 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 18:38:36.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.9176ms
2025-03-14 18:38:36.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.6505ms
2025-03-14 18:38:37.826 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:38:37.828 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:37.829 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.4081ms
2025-03-14 18:38:37.831 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 18:38:37.833 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:37.834 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:38:37.835 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 18:38:37.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 18:38:37.842 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:38:37.846 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:38:37.850 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 18:38:37.852 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 18:38:37.853 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.153ms
2025-03-14 18:38:37.854 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 18:38:37.855 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.6734ms
2025-03-14 18:38:37.884 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 18:38:37.887 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 18:38:37.888 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.637ms
2025-03-14 18:38:37.888 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 18:38:37.888 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 18:38:37.892 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 18:38:37.893 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 18:38:37.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.5536ms
2025-03-14 18:38:37.895 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.4159ms
2025-03-14 18:38:38.753 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:38:38.756 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:38:38.757 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.2401ms
2025-03-14 18:38:38.760 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:38:38.761 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:38.762 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.3243ms
2025-03-14 18:38:38.765 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 18:38:38.766 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:38.767 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:38:38.768 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 18:38:38.772 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 18:38:38.774 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 18:38:38.775 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.6127ms
2025-03-14 18:38:38.776 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 18:38:38.776 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 11.794ms
2025-03-14 18:38:38.786 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 18:38:38.788 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 18:38:38.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.201ms
2025-03-14 18:38:41.887 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:41.889 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:41.890 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3234ms
2025-03-14 18:38:41.892 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:41.894 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:41.894 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:41.895 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:41.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:41.901 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:41.902 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7785ms
2025-03-14 18:38:41.904 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:41.905 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.5295ms
2025-03-14 18:38:41.983 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:41.986 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:41.988 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.1044ms
2025-03-14 18:38:41.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:41.997 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:41.998 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:42.000 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:42.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:42.008 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:42.010 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3065ms
2025-03-14 18:38:42.012 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:42.013 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.8773ms
2025-03-14 18:38:53.892 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:53.894 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:53.895 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3788ms
2025-03-14 18:38:53.897 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:53.901 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:53.904 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:53.905 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:53.918 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:53.922 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:53.923 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 14.149ms
2025-03-14 18:38:53.924 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:53.926 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 28.442ms
2025-03-14 18:38:54.031 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:54.033 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:54.034 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5814ms
2025-03-14 18:38:54.037 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:38:54.039 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:38:54.041 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:54.043 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:38:54.048 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:38:54.050 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:38:54.052 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7085ms
2025-03-14 18:38:54.053 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:38:54.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.0338ms
2025-03-14 18:45:56.893 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:45:56.895 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:45:56.896 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.1842ms
2025-03-14 18:45:56.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:45:56.905 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:45:56.907 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:45:56.907 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:45:56.944 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:45:56.945 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:45:56.946 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 37.6609ms
2025-03-14 18:45:56.948 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:45:56.949 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 48.4544ms
2025-03-14 18:45:57.051 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:45:57.052 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:45:57.053 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1574ms
2025-03-14 18:45:57.056 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:45:57.058 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:45:57.060 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:45:57.061 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:45:57.065 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:45:57.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:45:57.069 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7813ms
2025-03-14 18:45:57.070 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:45:57.071 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0871ms
2025-03-14 18:46:18.175 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:46:18.178 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:46:18.179 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9146ms
2025-03-14 18:46:18.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:46:18.186 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:46:18.187 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:46:18.187 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:46:18.196 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:46:18.198 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:46:18.201 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.7217ms
2025-03-14 18:46:18.202 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:46:18.203 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.671ms
2025-03-14 18:46:18.292 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:46:18.296 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:46:18.297 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.2836ms
2025-03-14 18:46:18.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:46:18.312 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:46:18.314 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:46:18.315 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:46:18.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:46:18.321 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:46:18.322 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.9402ms
2025-03-14 18:46:18.322 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:46:18.324 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0347ms
2025-03-14 18:47:51.976 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:47:51.979 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:47:51.979 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.164ms
2025-03-14 18:47:51.983 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:47:51.985 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:47:51.986 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:47:51.988 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:47:51.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:47:51.994 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:47:51.996 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6002ms
2025-03-14 18:47:51.997 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:47:51.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.5603ms
2025-03-14 18:47:52.124 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:47:52.127 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:47:52.129 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.4819ms
2025-03-14 18:47:52.133 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:47:52.135 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:47:52.136 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:47:52.137 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:47:52.140 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:47:52.143 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:47:52.144 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.717ms
2025-03-14 18:47:52.145 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:47:52.145 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.9786ms
2025-03-14 18:48:46.504 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:48:46.506 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:48:46.507 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3853ms
2025-03-14 18:48:46.509 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:48:46.512 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:48:46.513 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:48:46.514 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:48:46.518 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:48:46.520 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:48:46.521 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.0035ms
2025-03-14 18:48:46.522 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:48:46.523 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.8832ms
2025-03-14 18:48:46.621 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:48:46.623 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:48:46.624 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8381ms
2025-03-14 18:48:46.629 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:48:46.630 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:48:46.631 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:48:46.632 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:48:46.637 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:48:46.638 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:48:46.640 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9686ms
2025-03-14 18:48:46.641 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:48:46.642 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.0513ms
2025-03-14 18:49:36.413 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:36.415 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:36.415 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.5167ms
2025-03-14 18:49:36.418 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:36.420 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:36.420 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:36.421 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:36.425 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:36.427 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:36.428 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6031ms
2025-03-14 18:49:36.429 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:36.430 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.1166ms
2025-03-14 18:49:36.496 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:36.500 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:36.500 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7771ms
2025-03-14 18:49:36.522 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:36.524 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:36.525 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:36.526 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:36.532 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:36.535 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:36.536 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.4385ms
2025-03-14 18:49:36.537 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:36.539 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.8554ms
2025-03-14 18:49:41.486 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:41.489 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:41.490 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.246ms
2025-03-14 18:49:41.493 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:41.495 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:41.495 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:41.497 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:41.501 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:41.504 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:41.505 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3911ms
2025-03-14 18:49:41.506 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:41.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.2362ms
2025-03-14 18:49:41.583 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:41.586 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:41.587 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7066ms
2025-03-14 18:49:41.598 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:41.601 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:41.603 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:41.604 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:41.608 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:41.610 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:41.611 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.7611ms
2025-03-14 18:49:41.612 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:41.613 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.0089ms
2025-03-14 18:49:50.152 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:50.154 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:50.155 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3094ms
2025-03-14 18:49:50.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:50.159 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:50.159 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:50.160 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:50.164 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:50.166 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:50.167 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6621ms
2025-03-14 18:49:50.168 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:50.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.6482ms
2025-03-14 18:49:50.269 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:50.271 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:50.271 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.8478ms
2025-03-14 18:49:50.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:49:50.279 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:49:50.280 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:50.281 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:49:50.285 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:49:50.287 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:49:50.288 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.85ms
2025-03-14 18:49:50.289 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:49:50.290 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.8658ms
2025-03-14 18:50:09.967 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:09.969 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:09.969 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4396ms
2025-03-14 18:50:09.972 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:09.976 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:09.978 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:09.979 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:50:09.983 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:50:09.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:50:09.987 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.427ms
2025-03-14 18:50:09.988 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:09.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.3172ms
2025-03-14 18:50:10.070 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:10.072 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:10.073 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3617ms
2025-03-14 18:50:10.075 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:10.077 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:10.080 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:10.081 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:50:10.086 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:50:10.088 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:50:10.089 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3105ms
2025-03-14 18:50:10.090 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:10.092 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.3183ms
2025-03-14 18:50:50.474 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:50.476 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:50.477 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8182ms
2025-03-14 18:50:50.486 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:50.489 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:50.490 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:50.491 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:50:50.495 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:50:50.497 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:50:50.497 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.1172ms
2025-03-14 18:50:50.498 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:50.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.2944ms
2025-03-14 18:50:50.569 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:50.576 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:50.588 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 18.4984ms
2025-03-14 18:50:50.629 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:50:50.632 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:50:50.633 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:50.634 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:50:50.642 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:50:50.646 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:50:50.647 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.8749ms
2025-03-14 18:50:50.648 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:50:50.649 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.8831ms
2025-03-14 18:53:01.735 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:01.737 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:01.738 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4909ms
2025-03-14 18:53:01.740 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:01.741 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:01.742 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:01.743 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:53:01.747 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:53:01.749 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:53:01.751 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4711ms
2025-03-14 18:53:01.752 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:01.753 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.8058ms
2025-03-14 18:53:01.809 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:01.811 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:01.812 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8613ms
2025-03-14 18:53:01.823 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:01.825 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:01.826 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:01.826 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:53:01.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:53:01.834 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:53:01.835 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.8825ms
2025-03-14 18:53:01.836 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:01.836 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 12.8165ms
2025-03-14 18:53:15.210 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:15.212 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:15.213 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7231ms
2025-03-14 18:53:15.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:53:15.217 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:53:15.218 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:53:15.222 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:53:15.223 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:15.224 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:53:15.226 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:53:15.228 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:53:15.228 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:53:15.229 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 3.1891ms
2025-03-14 18:53:15.231 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:53:15.231 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 16.7238ms
2025-03-14 18:54:30.834 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:54:30.836 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:54:30.836 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1106ms
2025-03-14 18:54:30.839 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:54:30.841 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:54:30.841 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:54:30.842 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:54:30.847 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:54:30.850 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:54:30.851 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.6345ms
2025-03-14 18:54:30.852 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:54:30.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.2447ms
2025-03-14 18:54:31.057 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:54:31.058 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:54:31.058 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 1.8319ms
2025-03-14 18:54:31.060 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:54:31.062 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:54:31.063 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:54:31.064 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:54:31.068 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:54:31.071 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:54:31.072 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1847ms
2025-03-14 18:54:31.074 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:54:31.075 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.662ms
2025-03-14 18:56:29.816 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:29.818 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:29.818 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3682ms
2025-03-14 18:56:29.820 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:29.821 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:29.822 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 18:56:29.825 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 18:56:29.831 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:29.837 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:56:29.844 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 18:56:29.846 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 18:56:29.847 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 18:56:29.848 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.0676ms
2025-03-14 18:56:29.849 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:29.851 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 31.1266ms
2025-03-14 18:56:33.030 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:33.032 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:33.032 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.3251ms
2025-03-14 18:56:33.035 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:33.037 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:33.038 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:33.039 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:56:33.108 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:56:33.112 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:56:33.115 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 68.5011ms
2025-03-14 18:56:33.116 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:33.118 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 83.0695ms
2025-03-14 18:56:33.146 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:33.147 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:33.148 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.344ms
2025-03-14 18:56:33.163 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 18:56:33.165 +01:00 [INF] CORS policy execution successful.
2025-03-14 18:56:33.166 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:33.167 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 18:56:33.171 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 18:56:33.174 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 18:56:33.175 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9376ms
2025-03-14 18:56:33.177 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 18:56:33.179 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.8043ms
2025-03-14 19:02:19.982 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:19.986 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:19.987 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.6167ms
2025-03-14 19:02:19.990 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:19.998 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:19.999 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-14 19:02:20.002 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-14 19:02:20.003 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.004 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:20.006 +01:00 [INF] Authorization failed for the request at filter 'api.Attributes.UserAuthorizedAttribute'.
2025-03-14 19:02:20.008 +01:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-03-14 19:02:20.011 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-03-14 19:02:20.013 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.8596ms
2025-03-14 19:02:20.014 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.021 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 403 0 null 30.9588ms
2025-03-14 19:02:20.270 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:20.273 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:20.274 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3172ms
2025-03-14 19:02:20.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:20.280 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:20.281 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.282 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:20.345 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:20.347 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:20.350 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 60.0441ms
2025-03-14 19:02:20.352 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.354 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 77.0517ms
2025-03-14 19:02:20.465 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:20.468 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:20.468 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.5802ms
2025-03-14 19:02:20.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:20.486 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:20.491 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.493 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:20.500 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:20.502 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:20.503 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.1476ms
2025-03-14 19:02:20.505 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:20.506 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 25.6297ms
2025-03-14 19:02:33.425 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:02:33.427 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:02:33.428 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.428 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - null null
2025-03-14 19:02:33.430 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.430 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.5909ms
2025-03-14 19:02:33.432 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.432 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.6239ms
2025-03-14 19:02:33.434 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:02:33.434 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/captcha - 204 null null 6.5071ms
2025-03-14 19:02:33.436 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - null 0
2025-03-14 19:02:33.437 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.440 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:02:33.441 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.443 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:02:33.445 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:33.446 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 19:02:33.446 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:02:33.447 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:02:33.447 +01:00 [INF] Route matched with {action = "CreateCaptcha", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateCaptcha() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:33.449 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:02:33.453 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:33.458 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:02:33.459 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 10.6715ms
2025-03-14 19:02:33.460 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:02:33.461 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 26.8791ms
2025-03-14 19:02:33.468 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Captchas] ([Id], [ActivationDate], [CreationDate], [IsActive], [UpdateDate], [Value])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-14 19:02:33.478 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Emails] ([Id], [Address], [Content], [CreationDate], [Result], [SendingDate], [Subject], [UpdateDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-14 19:02:33.489 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:33.491 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:02:33.492 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 38.5463ms
2025-03-14 19:02:33.493 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:02:33.495 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 55.0312ms
2025-03-14 19:02:33.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:02:33.513 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:02:33.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.9393ms
2025-03-14 19:02:33.922 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__newId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Content], [e].[CreationDate], [e].[Result], [e].[SendingDate], [e].[Subject], [e].[UpdateDate]
FROM [Emails] AS [e]
WHERE [e].[Id] = @__newId_0
2025-03-14 19:02:33.929 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Emails] SET [Result] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 19:02:33.931 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.CaptchaDto'.
2025-03-14 19:02:33.932 +01:00 [INF] Executed action api.Controllers.AuthController.CreateCaptcha (api) in 480.3139ms
2025-03-14 19:02:33.933 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.CreateCaptcha (api)'
2025-03-14 19:02:33.934 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/captcha - 200 null application/json; charset=utf-8 497.5041ms
2025-03-14 19:02:49.685 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:02:49.686 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:49.687 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.2965ms
2025-03-14 19:02:49.689 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:02:49.690 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:49.691 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:49.691 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:02:49.695 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:02:49.767 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:02:49.769 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 76.0326ms
2025-03-14 19:02:49.769 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:49.770 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 81.4872ms
2025-03-14 19:02:49.773 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:49.775 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:49.776 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.1835ms
2025-03-14 19:02:49.785 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:49.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:49.787 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:49.788 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:49.791 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:49.793 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:49.794 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.577ms
2025-03-14 19:02:49.795 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:49.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.1841ms
2025-03-14 19:02:51.933 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:02:51.934 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:51.935 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3876ms
2025-03-14 19:02:51.937 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:02:51.938 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:51.940 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:51.940 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:02:51.944 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:02:52.012 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:02:52.013 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 72.2906ms
2025-03-14 19:02:52.014 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:52.015 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 78.4203ms
2025-03-14 19:02:52.019 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:52.020 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.021 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.7603ms
2025-03-14 19:02:52.029 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:52.031 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.032 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:52.032 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:52.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:52.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:52.039 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.605ms
2025-03-14 19:02:52.040 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:52.041 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.5313ms
2025-03-14 19:02:52.714 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:02:52.716 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.717 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.673ms
2025-03-14 19:02:52.719 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:02:52.720 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.721 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:52.722 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:02:52.726 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:02:52.792 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:02:52.793 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 69.6895ms
2025-03-14 19:02:52.794 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:52.795 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 75.5953ms
2025-03-14 19:02:52.798 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:52.799 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.800 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4868ms
2025-03-14 19:02:52.808 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:52.810 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:52.811 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:52.812 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:52.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:52.819 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:52.820 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3053ms
2025-03-14 19:02:52.821 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:52.822 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 13.2013ms
2025-03-14 19:02:53.020 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:02:53.022 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:53.023 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3766ms
2025-03-14 19:02:53.025 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:02:53.027 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:53.028 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:53.028 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:02:53.031 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:02:53.115 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:02:53.117 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 87.5422ms
2025-03-14 19:02:53.118 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:02:53.119 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 93.8509ms
2025-03-14 19:02:53.133 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:53.135 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:53.136 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.9127ms
2025-03-14 19:02:53.151 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:02:53.153 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:02:53.154 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:53.155 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:02:53.161 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:02:53.165 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:02:53.167 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.9156ms
2025-03-14 19:02:53.168 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:02:53.169 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.1389ms
2025-03-14 19:03:15.655 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:03:15.657 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:15.658 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.5476ms
2025-03-14 19:03:15.660 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:03:15.661 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:15.662 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:15.663 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:03:15.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:03:15.736 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:03:15.738 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 74.1544ms
2025-03-14 19:03:15.739 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:15.740 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 79.7965ms
2025-03-14 19:03:15.743 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:15.744 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:15.745 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.8033ms
2025-03-14 19:03:15.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:15.758 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:15.759 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:15.760 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:15.764 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:15.766 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:15.766 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.6491ms
2025-03-14 19:03:15.767 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:15.768 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.4686ms
2025-03-14 19:03:16.667 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:03:16.669 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.669 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3455ms
2025-03-14 19:03:16.671 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:03:16.672 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.673 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:16.674 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:03:16.678 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:03:16.751 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:03:16.752 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 76.4591ms
2025-03-14 19:03:16.752 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:16.753 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 82.0031ms
2025-03-14 19:03:16.757 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:16.759 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.760 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.0047ms
2025-03-14 19:03:16.766 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:16.767 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.768 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:16.769 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:16.773 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:16.774 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:16.775 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.9056ms
2025-03-14 19:03:16.776 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:16.777 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 11.1999ms
2025-03-14 19:03:16.970 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:03:16.971 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.1861ms
2025-03-14 19:03:16.974 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:03:16.976 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:16.977 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:16.978 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:03:16.981 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:03:17.049 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:03:17.051 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 72.1274ms
2025-03-14 19:03:17.051 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:17.052 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 78.0395ms
2025-03-14 19:03:17.057 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:17.058 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:17.059 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6713ms
2025-03-14 19:03:17.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:17.067 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:17.068 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:17.068 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:17.072 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:17.073 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:17.074 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 4.727ms
2025-03-14 19:03:17.075 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:17.076 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 10.1671ms
2025-03-14 19:03:32.512 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - null null
2025-03-14 19:03:32.514 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.514 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/login - 204 null null 2.3414ms
2025-03-14 19:03:32.517 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/services/v1/users/login - application/json 62
2025-03-14 19:03:32.518 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.519 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:32.519 +01:00 [INF] Route matched with {action = "LogIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(api.Controllers.Authentication.dto.CredentialDto) on controller api.Controllers.AuthController (api).
2025-03-14 19:03:32.524 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE LOWER([u].[Email]) = @__ToLower_0 AND [u].[Active] = CAST(1 AS bit)
2025-03-14 19:03:32.589 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.TokenDto'.
2025-03-14 19:03:32.590 +01:00 [INF] Executed action api.Controllers.AuthController.LogIn (api) in 69.4771ms
2025-03-14 19:03:32.592 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.LogIn (api)'
2025-03-14 19:03:32.593 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/services/v1/users/login - 200 null application/json; charset=utf-8 76.1818ms
2025-03-14 19:03:32.599 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:32.601 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.601 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.0955ms
2025-03-14 19:03:32.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:32.612 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.613 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:32.613 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:32.615 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.615 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:32.616 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 3.1117ms
2025-03-14 19:03:32.620 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:32.621 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:32.622 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:32.624 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:32.624 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:32.625 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.5873ms
2025-03-14 19:03:32.626 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:03:32.627 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:32.628 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.3731ms
2025-03-14 19:03:32.630 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:32.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:03:32.634 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.5588ms
2025-03-14 19:03:32.635 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:32.636 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 15.6924ms
2025-03-14 19:03:32.644 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:03:32.646 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:03:32.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 2.79ms
2025-03-14 19:03:34.918 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:03:34.920 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:34.921 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5659ms
2025-03-14 19:03:34.923 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:03:34.925 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:34.927 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:03:34.929 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:03:34.934 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:03:34.938 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:34.945 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:34.950 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:34.952 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:03:34.953 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 22.6861ms
2025-03-14 19:03:34.955 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:03:34.956 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 32.5527ms
2025-03-14 19:03:34.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:03:34.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:03:34.982 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:03:34.985 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:03:34.987 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:03:34.988 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:03:34.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 6.6254ms
2025-03-14 19:03:34.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.9016ms
2025-03-14 19:03:34.990 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 7.9964ms
2025-03-14 19:03:36.581 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:36.583 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:36.584 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 3.3271ms
2025-03-14 19:03:36.586 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:36.588 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:36.588 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:36.589 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:03:36.594 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:03:36.596 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:03:36.598 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.7558ms
2025-03-14 19:03:36.599 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:36.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 13.2589ms
2025-03-14 19:03:36.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:03:36.609 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:03:36.610 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.3102ms
2025-03-14 19:03:44.474 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:03:44.476 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:44.477 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.8749ms
2025-03-14 19:03:44.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:03:44.483 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:44.484 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:03:44.485 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 19:03:44.490 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 19:03:44.493 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 19:03:44.493 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.8881ms
2025-03-14 19:03:44.494 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:03:44.495 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 15.4271ms
2025-03-14 19:03:44.505 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:03:44.507 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:03:44.508 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.6718ms
2025-03-14 19:03:44.508 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:03:44.513 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:03:44.514 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.7007ms
2025-03-14 19:03:45.505 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:03:45.507 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:45.508 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.5889ms
2025-03-14 19:03:45.510 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:03:45.511 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:45.512 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:03:45.513 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:03:45.519 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:03:45.525 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:45.534 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:45.538 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:03:45.541 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:03:45.542 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.9688ms
2025-03-14 19:03:45.543 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:03:45.544 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 33.7661ms
2025-03-14 19:03:45.569 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:03:45.571 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:03:45.572 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:03:45.573 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:03:45.573 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:03:45.574 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 4.47ms
2025-03-14 19:03:45.575 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:03:45.576 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 4.1086ms
2025-03-14 19:03:45.578 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.5721ms
2025-03-14 19:03:46.546 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:03:46.547 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:03:46.548 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.6073ms
2025-03-14 19:03:46.552 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:46.553 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:46.554 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.4898ms
2025-03-14 19:03:46.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:46.558 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:46.559 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:46.560 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:03:46.564 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:03:46.567 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:03:46.568 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 6.2514ms
2025-03-14 19:03:46.569 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:46.570 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 13.8573ms
2025-03-14 19:03:46.576 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:03:46.578 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:03:46.579 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 2.6172ms
2025-03-14 19:03:55.706 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:55.708 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:55.709 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3546ms
2025-03-14 19:03:55.712 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:55.714 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:55.715 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:55.716 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:55.721 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:55.724 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:55.725 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9919ms
2025-03-14 19:03:55.726 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:55.727 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.87ms
2025-03-14 19:03:55.830 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:55.832 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:55.833 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2654ms
2025-03-14 19:03:55.875 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:03:55.877 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:55.878 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:55.878 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:03:55.883 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:55.885 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:03:55.887 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3691ms
2025-03-14 19:03:55.888 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:03:55.889 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.6197ms
2025-03-14 19:03:58.035 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:58.036 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:58.036 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:58.037 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.038 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.039 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.040 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.8847ms
2025-03-14 19:03:58.041 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.7686ms
2025-03-14 19:03:58.042 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 5.7204ms
2025-03-14 19:03:58.045 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:03:58.046 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:58.049 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:03:58.052 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.054 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.056 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:03:58.057 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:58.057 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:58.058 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:58.058 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:03:58.059 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:03:58.060 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:03:58.064 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:03:58.065 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:58.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:03:58.071 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:03:58.074 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 13.1445ms
2025-03-14 19:03:58.075 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 13.0535ms
2025-03-14 19:03:58.076 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:03:58.077 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:58.078 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 33.2183ms
2025-03-14 19:03:58.079 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 32.2845ms
2025-03-14 19:03:58.102 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:03:58.105 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:03:58.106 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 41.7685ms
2025-03-14 19:03:58.107 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:03:58.109 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 59.3324ms
2025-03-14 19:03:58.111 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:03:58.115 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:03:58.116 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 5.5108ms
2025-03-14 19:03:58.124 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:03:58.128 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:03:58.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.9337ms
2025-03-14 19:03:58.138 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:03:58.140 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:03:58.143 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.2548ms
2025-03-14 19:07:24.286 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:07:24.289 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:07:24.289 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.4703ms
2025-03-14 19:07:24.295 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:07:24.298 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:07:24.300 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:07:24.301 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:07:24.307 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:07:24.309 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:07:24.311 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.2833ms
2025-03-14 19:07:24.312 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:07:24.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.8581ms
2025-03-14 19:07:24.383 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:07:24.385 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:07:24.385 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.6815ms
2025-03-14 19:07:24.402 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:07:24.405 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:07:24.408 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:07:24.409 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:07:24.414 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:07:24.416 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:07:24.417 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.3758ms
2025-03-14 19:07:24.418 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:07:24.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.2628ms
2025-03-14 19:09:10.376 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:10.379 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:10.381 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.2198ms
2025-03-14 19:09:10.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:10.390 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:10.391 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:10.393 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:09:10.400 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:09:10.403 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:09:10.405 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.5804ms
2025-03-14 19:09:10.406 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:10.407 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 21.5393ms
2025-03-14 19:09:10.519 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:10.521 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:10.522 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2737ms
2025-03-14 19:09:10.555 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:10.557 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:10.559 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:10.561 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:09:10.569 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:09:10.571 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:09:10.573 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.9821ms
2025-03-14 19:09:10.574 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:10.575 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.5273ms
2025-03-14 19:09:18.790 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:18.794 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:18.795 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.4115ms
2025-03-14 19:09:18.801 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:18.803 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:18.804 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:18.806 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:09:18.811 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:09:18.813 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:09:18.815 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.968ms
2025-03-14 19:09:18.816 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:18.818 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.8827ms
2025-03-14 19:09:18.887 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:18.893 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:18.894 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 7.5113ms
2025-03-14 19:09:18.902 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:09:18.904 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:09:18.906 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:18.907 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:09:18.914 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:09:18.918 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:09:18.920 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 10.2429ms
2025-03-14 19:09:18.922 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:09:18.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 22.7161ms
2025-03-14 19:10:20.524 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:10:20.527 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:20.529 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.0166ms
2025-03-14 19:10:20.539 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:10:20.541 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:20.543 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:10:20.544 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:10:20.549 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:10:20.551 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:10:20.552 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 5.8397ms
2025-03-14 19:10:20.553 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:10:20.554 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.4332ms
2025-03-14 19:10:20.623 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:10:20.626 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:20.627 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7941ms
2025-03-14 19:10:20.641 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:10:20.643 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:20.644 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:10:20.645 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:10:20.651 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:10:20.654 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:10:20.655 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4098ms
2025-03-14 19:10:20.657 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:10:20.658 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.276ms
2025-03-14 19:10:29.954 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:10:29.955 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:10:29.956 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.957 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:10:29.957 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.958 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 4.1131ms
2025-03-14 19:10:29.959 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.960 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.189ms
2025-03-14 19:10:29.965 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:10:29.966 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 9.7498ms
2025-03-14 19:10:29.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:10:29.971 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.973 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:10:29.975 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.975 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:10:29.977 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:10:29.978 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:10:29.979 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:10:29.980 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:10:29.981 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:10:29.984 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:10:29.986 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:10:29.990 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:10:29.992 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.1366ms
2025-03-14 19:10:29.993 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:10:29.994 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:10:29.996 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:10:29.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 31.2991ms
2025-03-14 19:10:29.997 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 9.0672ms
2025-03-14 19:10:30.001 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:10:30.002 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 29.4174ms
2025-03-14 19:10:30.020 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:10:30.021 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:10:30.023 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:10:30.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:10:30.025 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 4.3048ms
2025-03-14 19:10:30.026 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 39.4347ms
2025-03-14 19:10:30.028 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:10:30.029 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 59.7216ms
2025-03-14 19:10:30.033 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:10:30.035 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:10:30.036 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.3135ms
2025-03-14 19:10:30.061 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:10:30.065 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:10:30.066 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.24ms
2025-03-14 19:11:36.662 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:36.664 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:36.665 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.075ms
2025-03-14 19:11:36.671 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:36.674 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:36.675 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:36.677 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:11:36.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:11:36.685 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:11:36.686 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.202ms
2025-03-14 19:11:36.687 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:36.688 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.2662ms
2025-03-14 19:11:36.773 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:36.775 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:36.776 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.3746ms
2025-03-14 19:11:36.784 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:36.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:36.795 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:36.797 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:11:36.808 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:11:36.812 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:11:36.814 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 11.001ms
2025-03-14 19:11:36.815 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:36.817 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 33.1322ms
2025-03-14 19:11:50.857 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:50.858 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:50.859 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4221ms
2025-03-14 19:11:50.868 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:50.871 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:50.873 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:50.875 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:11:50.880 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:11:50.883 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:11:50.884 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.8873ms
2025-03-14 19:11:50.885 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:50.887 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.4831ms
2025-03-14 19:11:50.966 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:50.970 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:50.972 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 5.5343ms
2025-03-14 19:11:50.977 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:11:50.981 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:11:50.982 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:50.983 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:11:50.989 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:11:50.991 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:11:50.993 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.7728ms
2025-03-14 19:11:50.996 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:11:50.997 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 20.2188ms
2025-03-14 19:12:50.260 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:12:50.261 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:12:50.262 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:12:50.262 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.263 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.265 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.266 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.3947ms
2025-03-14 19:12:50.266 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 5.1822ms
2025-03-14 19:12:50.267 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 4.8516ms
2025-03-14 19:12:50.271 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:12:50.271 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:12:50.273 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:12:50.274 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.276 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.278 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:50.279 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:12:50.280 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:12:50.280 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:12:50.281 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:12:50.281 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:12:50.282 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:12:50.286 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:12:50.287 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:12:50.288 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:12:50.290 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:12:50.291 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 7.2102ms
2025-03-14 19:12:50.291 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 6.4979ms
2025-03-14 19:12:50.292 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:12:50.293 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:12:50.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 23.0437ms
2025-03-14 19:12:50.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 23.2233ms
2025-03-14 19:12:50.313 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:12:50.315 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:12:50.316 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.0045ms
2025-03-14 19:12:50.319 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:12:50.321 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:12:50.321 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:12:50.323 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:12:50.324 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 37.5329ms
2025-03-14 19:12:50.324 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.7137ms
2025-03-14 19:12:50.325 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:12:50.328 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 54.5359ms
2025-03-14 19:12:50.341 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:12:50.343 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:12:50.344 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 3.025ms
2025-03-14 19:12:52.302 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:12:52.303 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:52.304 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.6638ms
2025-03-14 19:12:52.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:12:52.307 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:52.308 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:12:52.309 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:12:52.313 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:12:52.318 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:12:52.321 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:12:52.326 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:12:52.328 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:12:52.329 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 19.3763ms
2025-03-14 19:12:52.330 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:12:52.331 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.8936ms
2025-03-14 19:12:52.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:12:52.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:12:52.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:12:52.349 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:12:52.350 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:12:52.351 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:12:52.352 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.7838ms
2025-03-14 19:12:52.354 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.5862ms
2025-03-14 19:12:52.355 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 8.2792ms
2025-03-14 19:12:53.388 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:12:53.389 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:53.390 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.0984ms
2025-03-14 19:12:53.392 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:12:53.394 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:53.395 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:12:53.397 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 19:12:53.401 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 19:12:53.404 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 19:12:53.405 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.8914ms
2025-03-14 19:12:53.406 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:12:53.407 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 14.2372ms
2025-03-14 19:12:53.416 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:12:53.418 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:12:53.419 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:12:53.419 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.281ms
2025-03-14 19:12:53.421 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:12:53.423 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 4.2712ms
2025-03-14 19:12:54.784 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 19:12:54.786 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:54.786 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1896ms
2025-03-14 19:12:54.788 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 19:12:54.790 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:12:54.791 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 19:12:54.791 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 19:12:54.799 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 19:12:54.802 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 19:12:54.802 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 10.0898ms
2025-03-14 19:12:54.804 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 19:12:54.804 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 16.1779ms
2025-03-14 19:12:54.851 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:12:54.855 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:12:54.855 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:12:54.857 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.8449ms
2025-03-14 19:12:54.860 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:12:54.861 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 19:12:54.862 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.5855ms
2025-03-14 19:12:54.865 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 19:12:54.869 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.0356ms
2025-03-14 19:13:55.522 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:13:55.524 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:13:55.524 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 204 null null 2.2228ms
2025-03-14 19:13:55.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:13:55.527 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - null null
2025-03-14 19:13:55.529 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:13:55.530 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:13:55.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 4.0481ms
2025-03-14 19:13:55.531 +01:00 [INF] Executing endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:13:55.533 +01:00 [INF] Route matched with {action = "GetMessages", controller = "Messaging"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMessages(Int32, Int32) on controller api.Controllers.Messaging.MessagingController (api).
2025-03-14 19:13:55.538 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreationDate], [m].[Image], [m].[Content], CASE
    WHEN [u].[Id] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsSpecific]
FROM [Messages] AS [m]
LEFT JOIN [Users] AS [u] ON [m].[UserId] = [u].[Id]
WHERE [u].[Id] IS NULL OR [u].[Id] = @__userId_0
ORDER BY [m].[CreationDate] DESC
2025-03-14 19:13:55.540 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Messaging.dto.ArrayMessageDto'.
2025-03-14 19:13:55.541 +01:00 [INF] Executed action api.Controllers.Messaging.MessagingController.GetMessages (api) in 5.93ms
2025-03-14 19:13:55.542 +01:00 [INF] Executed endpoint 'api.Controllers.Messaging.MessagingController.GetMessages (api)'
2025-03-14 19:13:55.543 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/messages?pageNumber=1&pageSize=6 - 200 null application/json; charset=utf-8 15.2112ms
2025-03-14 19:13:55.549 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - null null
2025-03-14 19:13:55.551 +01:00 [INF] Sending file. Request path: '/images/aguadulce.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\aguadulce.jpg'
2025-03-14 19:13:55.552 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/aguadulce.jpg - 200 5134 image/jpeg 3.1659ms
2025-03-14 19:13:57.070 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:13:57.072 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:13:57.073 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 2.907ms
2025-03-14 19:13:57.075 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:13:57.077 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:13:57.077 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:13:57.078 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:13:57.082 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:13:57.086 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:13:57.090 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:13:57.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:13:57.097 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:13:57.098 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 18.3223ms
2025-03-14 19:13:57.099 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:13:57.100 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 24.3652ms
2025-03-14 19:13:57.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:13:57.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:13:57.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:13:57.130 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:13:57.131 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:13:57.133 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:13:57.133 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.3271ms
2025-03-14 19:13:57.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.09ms
2025-03-14 19:13:57.135 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.7493ms
2025-03-14 19:14:09.791 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:14:09.793 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:14:09.794 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 204 null null 2.4161ms
2025-03-14 19:14:09.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:14:09.799 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:14:09.799 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - null null
2025-03-14 19:14:09.800 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:14:09.801 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:14:09.802 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:14:09.803 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.6686ms
2025-03-14 19:14:09.804 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.3242ms
2025-03-14 19:14:09.806 +01:00 [INF] Executing endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:14:09.810 +01:00 [INF] Route matched with {action = "GetStocks", controller = "Stock"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStocks(Int32, Int32, Boolean) on controller api.Controllers.Stocks.StockController (api).
2025-03-14 19:14:09.815 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [v].[Id], [f].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], (
    SELECT COUNT(*)
    FROM [Packages] AS [p0]
    WHERE [s].[Id] = [p0].[StockId]), CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p1]
        WHERE [s].[Id] = [p1].[StockId]) THEN (
        SELECT COALESCE(SUM([p2].[RemainingQuantity]), 0.0)
        FROM [Packages] AS [p2]
        WHERE [s].[Id] = [p2].[StockId])
    ELSE 0.0
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p3]
        WHERE [s].[Id] = [p3].[StockId]) AND EXISTS (
        SELECT 1
        FROM [Packages] AS [p4]
        WHERE [s].[Id] = [p4].[StockId] AND [p4].[ExpirationDate] < CAST(GETDATE() AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Packages] AS [p5]
        WHERE [s].[Id] = [p5].[StockId]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, (
    SELECT TOP(1) [p6].[ExpirationDate]
    FROM [Packages] AS [p6]
    WHERE [s].[Id] = [p6].[StockId]
    ORDER BY [p6].[ExpirationDate] DESC)
FROM [Stocks] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [s].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
WHERE [u].[Id] = @__userId_0 AND (
    SELECT COALESCE(SUM([p].[RemainingQuantity]), 0.0)
    FROM [Packages] AS [p]
    WHERE [s].[Id] = [p].[StockId]) > 0.0
2025-03-14 19:14:09.817 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Stocks.dto.ArrayStockDto'.
2025-03-14 19:14:09.818 +01:00 [INF] Executed action api.Controllers.Stocks.StockController.GetStocks (api) in 6.8967ms
2025-03-14 19:14:09.819 +01:00 [INF] Executed endpoint 'api.Controllers.Stocks.StockController.GetStocks (api)'
2025-03-14 19:14:09.820 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/stocks?pageNumber=1&pageSize=6&notEmptyOnly=true - 200 null application/json; charset=utf-8 20.9607ms
2025-03-14 19:14:09.832 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:14:09.834 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:14:09.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 2.986ms
2025-03-14 19:14:09.839 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:14:09.842 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:14:09.843 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 3.6932ms
2025-03-14 19:15:28.641 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 19:15:28.642 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:28.643 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 204 null null 2.1021ms
2025-03-14 19:15:28.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - null null
2025-03-14 19:15:28.646 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:28.647 +01:00 [INF] Executing endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 19:15:28.648 +01:00 [INF] Route matched with {action = "GetFlows", controller = "Flow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlows(Int32, Int32, Int32, Boolean) on controller api.Controllers.Flows.FlowController (api).
2025-03-14 19:15:28.652 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__year_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [v].[Id], (
    SELECT TOP(1) [e0].[Date]
    FROM [Events] AS [e0]
    WHERE [f].[Id] = [e0].[FlowId]
    ORDER BY [e0].[Date] DESC), [c].[Id], [c].[Label], [c].[Image], [f0].[Designation_Name], [v].[Designation_Name], [v].[Designation_Image], DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
    SELECT [e2].[Date]
    FROM [Events] AS [e2]
    WHERE [f].[Id] = [e2].[FlowId]
    ORDER BY (SELECT 1)
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)), CASE
    WHEN DATEADD(day, CAST([v].[MinMaturationDaysCount] AS int), (
        SELECT [e3].[Date]
        FROM [Events] AS [e3]
        WHERE [f].[Id] = [e3].[FlowId]
        ORDER BY (SELECT 1)
        OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY)) < CAST(GETDATE() AS date) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [t0].[Id], [t0].[Image], [t0].[Label], [t0].[c]
FROM [Flows] AS [f]
INNER JOIN [Users] AS [u] ON [f].[UserId] = [u].[Id]
INNER JOIN [Variants] AS [v] ON [f].[VariantId] = [v].[Id]
INNER JOIN [Families] AS [f0] ON [v].[FamilyId] = [f0].[Id]
INNER JOIN [Categories] AS [c] ON [f0].[CategoryId] = [c].[Id]
LEFT JOIN (
    SELECT [t].[Id], [t].[Image], [t].[Label], [t].[c], [t].[FlowId]
    FROM (
        SELECT [s0].[Id], [s0].[Image], [s0].[Label], 1 AS [c], [e1].[FlowId], ROW_NUMBER() OVER(PARTITION BY [e1].[FlowId] ORDER BY [e1].[Date] DESC) AS [row]
        FROM [Events] AS [e1]
        INNER JOIN [Stages] AS [s0] ON [e1].[StageId] = [s0].[Id]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [f].[Id] = [t0].[FlowId]
WHERE [f].[IsClosed] = CAST(0 AS bit) AND [u].[Id] = @__userId_0 AND [f].[Year] = @__year_1 AND NOT EXISTS (
    SELECT 1
    FROM [Events] AS [e]
    INNER JOIN [Stages] AS [s] ON [e].[StageId] = [s].[Id]
    WHERE [f].[Id] = [e].[FlowId] AND [s].[Rank] >= 100)
ORDER BY [f].[UpdateDate]
2025-03-14 19:15:28.654 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Flows.dto.ArrayFlowDto'.
2025-03-14 19:15:28.655 +01:00 [INF] Executed action api.Controllers.Flows.FlowController.GetFlows (api) in 6.1407ms
2025-03-14 19:15:28.656 +01:00 [INF] Executed endpoint 'api.Controllers.Flows.FlowController.GetFlows (api)'
2025-03-14 19:15:28.657 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/flows?pageNumber=1&pageSize=6&year=2025&notHarvested=true - 200 null application/json; charset=utf-8 11.8548ms
2025-03-14 19:15:28.670 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:15:28.670 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:15:28.671 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 19:15:28.673 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:15:28.676 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:15:28.677 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 19:15:28.677 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 7.4601ms
2025-03-14 19:15:28.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 7.8593ms
2025-03-14 19:15:28.679 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 8.5311ms
2025-03-14 19:15:28.699 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:15:28.699 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - null null
2025-03-14 19:15:28.700 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:15:28.701 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:15:28.703 +01:00 [INF] Sending file. Request path: '/images/seeding.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\seeding.jpg'
2025-03-14 19:15:28.704 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:15:28.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.5535ms
2025-03-14 19:15:28.705 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/seeding.jpg - 200 60326 image/jpeg 6.1883ms
2025-03-14 19:15:28.706 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 5.9968ms
2025-03-14 19:15:40.937 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:15:40.939 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:40.940 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 3.1977ms
2025-03-14 19:15:40.942 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:15:40.944 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:40.945 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:15:40.946 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:15:40.950 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:15:40.953 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:15:40.958 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:15:40.961 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:15:40.963 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:15:40.964 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 17.2548ms
2025-03-14 19:15:40.966 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:15:40.966 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 23.9481ms
2025-03-14 19:15:40.983 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:15:40.985 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:15:40.986 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.2298ms
2025-03-14 19:15:40.986 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:15:40.987 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:15:40.990 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:15:40.991 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:15:40.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 5.1192ms
2025-03-14 19:15:40.992 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 5.6537ms
2025-03-14 19:15:42.591 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 19:15:42.593 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:42.594 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/search?q=Haricot - 204 null null 2.495ms
2025-03-14 19:15:42.595 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - null null
2025-03-14 19:15:42.597 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:15:42.598 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 19:15:42.598 +01:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.String) on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:15:42.603 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__Format_1='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Designation_Image] AS [Image], [t].[Designation_Name0] AS [Name], [t].[Designation_Name] AS [Variety], [t].[Id], [c].[Id], [c].[Label]
FROM (
    SELECT TOP(@__p_2) [v].[Id], [v].[Designation_Image], [v].[Designation_Name], [f].[CategoryId], [f].[Designation_Name] AS [Designation_Name0]
    FROM [Variants] AS [v]
    INNER JOIN [Families] AS [f] ON [v].[FamilyId] = [f].[Id]
    WHERE LOWER([f].[Designation_Name]) LIKE @__Format_1 OR LOWER([v].[Designation_Name]) LIKE @__Format_1
) AS [t]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2025-03-14 19:15:42.609 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__First_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreationDate], [s].[SearchCount], [s].[UpdateDate], [s].[SearchDesignation_Image], [s].[SearchDesignation_ImageSource], [s].[SearchDesignation_Name]
FROM [Searches] AS [s]
WHERE [s].[SearchDesignation_Name] = @__First_Name_0
2025-03-14 19:15:42.617 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Searches] SET [SearchCount] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-03-14 19:15:42.619 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithVarietyDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:15:42.620 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetProducts (api) in 20.8674ms
2025-03-14 19:15:42.621 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetProducts (api)'
2025-03-14 19:15:42.622 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/search?q=Haricot - 200 null application/json; charset=utf-8 26.5958ms
2025-03-14 19:15:42.633 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:15:42.635 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:15:42.636 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 3.2664ms
2025-03-14 19:15:42.637 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - null null
2025-03-14 19:15:42.641 +01:00 [INF] Sending file. Request path: '/images/haricot-roi des beurres.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-roi des beurres.jpg'
2025-03-14 19:15:42.642 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-roi des beurres.jpg - 200 21597 image/jpeg 5.4518ms
2025-03-14 19:15:42.644 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - null null
2025-03-14 19:15:42.646 +01:00 [INF] Sending file. Request path: '/images/haricot-crockett.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-crockett.jpg'
2025-03-14 19:15:42.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-crockett.jpg - 200 11146 image/jpeg 2.6899ms
2025-03-14 19:18:36.670 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:36.671 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:36.672 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.4998ms
2025-03-14 19:18:36.675 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:36.677 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:36.678 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:36.679 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:18:36.684 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:36.686 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:18:36.687 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.4274ms
2025-03-14 19:18:36.688 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:36.689 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.0721ms
2025-03-14 19:18:36.842 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:36.845 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:36.845 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.2861ms
2025-03-14 19:18:36.857 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:36.860 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:36.861 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:36.862 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:18:36.868 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:36.871 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:18:36.873 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.8416ms
2025-03-14 19:18:36.874 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:36.877 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 19.6288ms
2025-03-14 19:18:38.916 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:18:38.918 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:18:38.919 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:18:38.920 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.922 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.924 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.925 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 8.116ms
2025-03-14 19:18:38.925 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/ephemerids - 204 null null 7.3582ms
2025-03-14 19:18:38.926 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/products/searched - 204 null null 6.9439ms
2025-03-14 19:18:38.929 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:18:38.931 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - null null
2025-03-14 19:18:38.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - null null
2025-03-14 19:18:38.936 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.938 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.940 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:38.941 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:18:38.941 +01:00 [INF] Executing endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:18:38.942 +01:00 [INF] Executing endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:18:38.943 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:18:38.944 +01:00 [INF] Route matched with {action = "GetMostSearchedProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostSearchedProducts() on controller api.Controllers.Products.ProductController (api).
2025-03-14 19:18:38.946 +01:00 [INF] Route matched with {action = "GetEphemerids", controller = "Ephemerids"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetEphemerids() on controller api.Controllers.EphemeridsController (api).
2025-03-14 19:18:38.951 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:38.955 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [s].[SearchDesignation_Name] AS [Name], [s].[SearchDesignation_Image] AS [Image]
FROM [Searches] AS [s]
ORDER BY [s].[SearchCount] DESC
2025-03-14 19:18:38.955 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate], [s].[Id], [s].[Altitude], [s].[ClimateId], [s].[Code], [s].[CreationDate], [s].[IsDepartment], [s].[Latitude], [s].[Longitude], [s].[Name], [s].[Tendency], [s].[UpdateDate], [c].[Id], [c].[Comment], [c].[Image], [c].[Label]
FROM [Users] AS [u]
INNER JOIN [Stations] AS [s] ON [u].[StationId] = [s].[Id]
INNER JOIN [Climates] AS [c] ON [s].[ClimateId] = [c].[Id]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:38.956 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:18:38.958 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:18:38.959 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Ephemerids.dto.EphemeridsDto'.
2025-03-14 19:18:38.959 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 11.2761ms
2025-03-14 19:18:38.963 +01:00 [INF] Executed action api.Controllers.EphemeridsController.GetEphemerids (api) in 9.5444ms
2025-03-14 19:18:38.964 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:18:38.964 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:18:38.965 +01:00 [INF] Executed endpoint 'api.Controllers.EphemeridsController.GetEphemerids (api)'
2025-03-14 19:18:38.966 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 37.1871ms
2025-03-14 19:18:38.969 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/ephemerids - 200 null application/json; charset=utf-8 34.9542ms
2025-03-14 19:18:38.971 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__product_Name_0='?' (Size = 150) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[CategoryId], [f].[CreationDate], [f].[Description], [f].[DescriptionSource], [f].[GerminationMinimalTemperature], [f].[GerminationOptimaleTemperature], [f].[IdealGrowingTemperature], [f].[MaximumRisingTime], [f].[MinimalRisingTime], [f].[SunshineDuration], [f].[UpdateDate], [f].[ZeroVegetation], [f].[Designation_Image], [f].[Designation_ImageSource], [f].[Designation_Name], [c].[Id], [c].[Image], [c].[Label]
FROM [Families] AS [f]
INNER JOIN [Categories] AS [c] ON [f].[CategoryId] = [c].[Id]
WHERE [f].[Designation_Name] = @__product_Name_0
2025-03-14 19:18:38.976 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.Controllers.Products.dto.ProductWithNameDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-14 19:18:38.977 +01:00 [INF] Executed action api.Controllers.Products.ProductController.GetMostSearchedProducts (api) in 26.6108ms
2025-03-14 19:18:38.979 +01:00 [INF] Executed endpoint 'api.Controllers.Products.ProductController.GetMostSearchedProducts (api)'
2025-03-14 19:18:38.980 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/products/searched - 200 null application/json; charset=utf-8 49.051ms
2025-03-14 19:18:39.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - null null
2025-03-14 19:18:39.228 +01:00 [INF] Sending file. Request path: '/images/climat-oceanique.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\climat-oceanique.jpg'
2025-03-14 19:18:39.229 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/climat-oceanique.jpg - 200 15325 image/jpeg 5.118ms
2025-03-14 19:18:39.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - null null
2025-03-14 19:18:39.247 +01:00 [INF] Sending file. Request path: '/images/concombre-marketer.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\concombre-marketer.jpg'
2025-03-14 19:18:39.249 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/concombre-marketer.jpg - 200 17656 image/jpeg 10.636ms
2025-03-14 19:18:39.265 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - null null
2025-03-14 19:18:39.269 +01:00 [INF] Sending file. Request path: '/images/haricot-skipper.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\haricot-skipper.jpg'
2025-03-14 19:18:39.271 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/haricot-skipper.jpg - 200 16564 image/jpeg 6.8889ms
2025-03-14 19:18:39.272 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - null null
2025-03-14 19:18:39.278 +01:00 [INF] Sending file. Request path: '/images/carotte-nantaise.jpg'. Physical path: 'D:\projets\MonPotager\api\src\wwwroot\images\carotte-nantaise.jpg'
2025-03-14 19:18:39.279 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/images/carotte-nantaise.jpg - 200 17715 image/jpeg 6.739ms
2025-03-14 19:18:51.108 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:51.110 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:51.110 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.145ms
2025-03-14 19:18:51.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:51.118 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:51.119 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:51.120 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:18:51.124 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:51.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:18:51.128 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.5715ms
2025-03-14 19:18:51.129 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:51.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.1448ms
2025-03-14 19:18:51.200 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:51.203 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:51.204 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.8105ms
2025-03-14 19:18:51.217 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:18:51.220 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:18:51.221 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:51.222 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:18:51.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:18:51.229 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:18:51.230 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 6.7556ms
2025-03-14 19:18:51.232 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:18:51.233 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.971ms
2025-03-14 19:19:43.031 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:19:43.037 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:19:43.039 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 8.0366ms
2025-03-14 19:19:43.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:19:43.068 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:19:43.069 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:19:43.070 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:19:43.075 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:19:43.078 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:19:43.081 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 9.5056ms
2025-03-14 19:19:43.083 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:19:43.084 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.1964ms
2025-03-14 19:19:43.217 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:19:43.220 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:19:43.221 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.7066ms
2025-03-14 19:19:43.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:19:43.226 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:19:43.227 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:19:43.228 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:19:43.232 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:19:43.235 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:19:43.237 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3244ms
2025-03-14 19:19:43.238 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:19:43.239 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 14.8431ms
2025-03-14 19:21:05.800 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:21:05.802 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:21:05.802 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.809ms
2025-03-14 19:21:05.805 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:21:05.807 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:21:05.808 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:21:05.809 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:21:05.814 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:21:05.817 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:21:05.818 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0592ms
2025-03-14 19:21:05.819 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:21:05.820 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 15.3047ms
2025-03-14 19:21:05.901 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:21:05.904 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:21:05.905 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 3.9162ms
2025-03-14 19:21:05.916 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:21:05.918 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:21:05.920 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:21:05.922 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:21:05.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:21:05.930 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:21:05.931 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.0838ms
2025-03-14 19:21:05.933 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:21:05.934 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 17.7277ms
2025-03-14 19:24:16.416 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:24:16.418 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:24:16.418 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 2.2157ms
2025-03-14 19:24:16.422 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:24:16.424 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:24:16.426 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:24:16.428 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:24:16.433 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:24:16.437 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:24:16.439 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 8.7329ms
2025-03-14 19:24:16.440 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:24:16.441 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 18.8658ms
2025-03-14 19:24:16.545 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:24:16.549 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:24:16.550 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/services/v1/users/me - 204 null null 4.7829ms
2025-03-14 19:24:16.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/services/v1/users/me - null null
2025-03-14 19:24:16.555 +01:00 [INF] CORS policy execution successful.
2025-03-14 19:24:16.556 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:24:16.557 +01:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Me() on controller api.Controllers.AuthController (api).
2025-03-14 19:24:16.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Active], [u].[CreationDate], [u].[Email], [u].[ExpirationResetDate], [u].[Name], [u].[Password], [u].[ResetWord], [u].[StationId], [u].[TypeUser], [u].[UpdateDate]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2025-03-14 19:24:16.565 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Controllers.Authentication.dto.MeDto'.
2025-03-14 19:24:16.566 +01:00 [INF] Executed action api.Controllers.AuthController.Me (api) in 7.3715ms
2025-03-14 19:24:16.567 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Me (api)'
2025-03-14 19:24:16.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/services/v1/users/me - 200 null application/json; charset=utf-8 16.4227ms
2025-03-14 20:58:15.691 +01:00 [INF] Application is shutting down...
